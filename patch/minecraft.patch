From f1d21faf0ba8f1406a13520b656ae460b49e8580 Mon Sep 17 00:00:00 2001
From: Alexander01998 <contact.wurstimperium@gmail.com>
Date: Wed, 2 Dec 2015 21:16:31 +0100
Subject: [PATCH] Wurst

---
 .gitignore                                         |   1 +
 src/net/minecraft/block/Block.java                 |  31 +-
 src/net/minecraft/block/BlockBeacon.java           |   4 +-
 src/net/minecraft/block/BlockBed.java              |   4 +-
 src/net/minecraft/block/BlockCactus.java           |   8 +-
 src/net/minecraft/block/BlockLiquid.java           |  19 +-
 src/net/minecraft/block/BlockSlab.java             |   7 +-
 src/net/minecraft/block/BlockSoulSand.java         |   6 +
 .../minecraft/client/LoadingScreenRenderer.java    |  10 +-
 src/net/minecraft/client/Minecraft.java            | 391 ++++++++++++++-------
 src/net/minecraft/client/audio/SoundManager.java   |   8 +-
 .../client/entity/AbstractClientPlayer.java        |  19 +-
 .../minecraft/client/entity/EntityPlayerSP.java    | 138 ++++++--
 src/net/minecraft/client/gui/FontRenderer.java     |  49 ++-
 src/net/minecraft/client/gui/Gui.java              |   8 +-
 src/net/minecraft/client/gui/GuiButton.java        |  96 ++---
 .../minecraft/client/gui/GuiButtonLanguage.java    |   1 +
 .../minecraft/client/gui/GuiButtonRealmsProxy.java |   1 +
 src/net/minecraft/client/gui/GuiChat.java          |   2 +-
 src/net/minecraft/client/gui/GuiCommandBlock.java  |   4 +
 .../minecraft/client/gui/GuiConfirmOpenLink.java   |   2 +
 src/net/minecraft/client/gui/GuiControls.java      |   2 +
 .../minecraft/client/gui/GuiCreateFlatWorld.java   |   4 +-
 src/net/minecraft/client/gui/GuiCreateWorld.java   |   6 +-
 src/net/minecraft/client/gui/GuiCustomizeSkin.java |   2 +
 .../client/gui/GuiCustomizeWorldScreen.java        |   5 +-
 src/net/minecraft/client/gui/GuiDisconnected.java  |  85 ++++-
 src/net/minecraft/client/gui/GuiEnchantment.java   |   7 +-
 src/net/minecraft/client/gui/GuiErrorScreen.java   |   2 +
 src/net/minecraft/client/gui/GuiFlatPresets.java   |   6 +-
 src/net/minecraft/client/gui/GuiGameOver.java      |  11 +-
 src/net/minecraft/client/gui/GuiIngame.java        |  51 +--
 src/net/minecraft/client/gui/GuiIngameMenu.java    |  49 ++-
 .../minecraft/client/gui/GuiKeyBindingList.java    |   3 +
 src/net/minecraft/client/gui/GuiLanguage.java      |   3 +
 src/net/minecraft/client/gui/GuiListButton.java    |   1 +
 src/net/minecraft/client/gui/GuiListExtended.java  |   4 +
 .../minecraft/client/gui/GuiLockIconButton.java    |   1 +
 src/net/minecraft/client/gui/GuiMainMenu.java      | 183 ++++++++--
 .../minecraft/client/gui/GuiMemoryErrorScreen.java |   4 +-
 src/net/minecraft/client/gui/GuiMerchant.java      |   6 +-
 src/net/minecraft/client/gui/GuiMultiplayer.java   | 136 +++++--
 src/net/minecraft/client/gui/GuiNewChat.java       |  48 ++-
 src/net/minecraft/client/gui/GuiOptionButton.java  |   1 +
 src/net/minecraft/client/gui/GuiOptionSlider.java  |   1 +
 src/net/minecraft/client/gui/GuiOptions.java       |   2 +
 .../minecraft/client/gui/GuiOptionsRowList.java    |   3 +
 src/net/minecraft/client/gui/GuiOverlayDebug.java  |  10 +-
 .../minecraft/client/gui/GuiPageButtonList.java    |   3 +
 .../minecraft/client/gui/GuiPlayerTabOverlay.java  |  32 +-
 src/net/minecraft/client/gui/GuiRenameWorld.java   |   3 +
 src/net/minecraft/client/gui/GuiScreen.java        |  12 +-
 .../minecraft/client/gui/GuiScreenAddServer.java   |   3 +
 src/net/minecraft/client/gui/GuiScreenBook.java    |  74 ++++
 .../client/gui/GuiScreenCustomizePresets.java      |   4 +
 src/net/minecraft/client/gui/GuiScreenDemo.java    |   3 +
 .../client/gui/GuiScreenOptionsSounds.java         |   2 +
 .../minecraft/client/gui/GuiScreenRealmsProxy.java |   5 +-
 .../client/gui/GuiScreenResourcePacks.java         |   4 +
 .../minecraft/client/gui/GuiScreenServerList.java  |  11 +
 src/net/minecraft/client/gui/GuiSelectWorld.java   |   6 +
 src/net/minecraft/client/gui/GuiShareToLan.java    |   8 +
 .../gui/GuiSimpleScrolledSelectionListProxy.java   |   6 +-
 src/net/minecraft/client/gui/GuiSleepMP.java       |   2 +
 src/net/minecraft/client/gui/GuiSlider.java        |   1 +
 src/net/minecraft/client/gui/GuiSlot.java          |  26 +-
 src/net/minecraft/client/gui/GuiSnooper.java       |   3 +
 src/net/minecraft/client/gui/GuiSpectator.java     |   4 +-
 src/net/minecraft/client/gui/GuiTextField.java     |   6 +-
 src/net/minecraft/client/gui/GuiVideoSettings.java |   2 +
 src/net/minecraft/client/gui/GuiWinGame.java       |  12 +-
 src/net/minecraft/client/gui/GuiYesNo.java         |   3 +
 src/net/minecraft/client/gui/ScaledResolution.java |   2 +-
 .../minecraft/client/gui/ScreenChatOptions.java    |   2 +
 .../client/gui/ServerListEntryNormal.java          |  10 +-
 .../minecraft/client/gui/ServerSelectionList.java  |  13 +-
 .../client/gui/achievement/GuiAchievements.java    |   6 +-
 .../minecraft/client/gui/achievement/GuiStats.java |   9 +-
 .../minecraft/client/gui/inventory/GuiBeacon.java  |   3 +
 .../minecraft/client/gui/inventory/GuiChest.java   | 118 ++++++-
 .../client/gui/inventory/GuiContainer.java         |  42 +--
 .../client/gui/inventory/GuiContainerCreative.java |   9 +-
 .../client/gui/inventory/GuiEditSign.java          |  32 ++
 .../client/gui/inventory/GuiInventory.java         |   1 +
 .../gui/spectator/categories/TeleportToPlayer.java |   6 +-
 .../gui/spectator/categories/TeleportToTeam.java   |   4 +-
 .../client/gui/stream/GuiIngestServers.java        |   1 +
 .../client/gui/stream/GuiStreamOptions.java        |   1 +
 .../client/gui/stream/GuiStreamUnavailable.java    |   4 +
 .../client/gui/stream/GuiTwitchUserMode.java       |   2 +
 src/net/minecraft/client/main/Main.java            |  21 +-
 .../client/multiplayer/GuiConnecting.java          |   2 +
 .../client/multiplayer/PlayerControllerMP.java     |  74 ++--
 .../minecraft/client/multiplayer/ServerList.java   |  16 +-
 .../minecraft/client/multiplayer/WorldClient.java  |  10 +-
 .../client/network/NetHandlerLoginClient.java      |   5 +
 .../client/network/NetHandlerPlayClient.java       | 164 ++-------
 .../client/network/NetworkPlayerInfo.java          |  53 +--
 .../minecraft/client/network/OldServerPinger.java  |   4 +
 src/net/minecraft/client/particle/Barrier.java     |   2 +-
 .../minecraft/client/particle/EffectRenderer.java  |   2 +
 .../client/particle/EntityBreakingFX.java          |   2 +-
 .../minecraft/client/particle/EntityDiggingFX.java |   2 +-
 src/net/minecraft/client/particle/EntityFX.java    |   2 +-
 .../client/particle/EntityFireworkOverlayFX.java   |   2 +-
 .../client/particle/EntityFootStepFX.java          |   2 +-
 .../client/particle/EntityLargeExplodeFX.java      |   2 +-
 .../client/renderer/BlockFluidRenderer.java        |   6 +-
 .../client/renderer/BlockModelRenderer.java        |  10 +-
 .../minecraft/client/renderer/EntityRenderer.java  |  91 +++--
 .../client/renderer/ImageBufferDownload.java       |   6 +-
 .../client/renderer/InventoryEffectRenderer.java   |   4 +-
 .../minecraft/client/renderer/ItemModelMesher.java |  15 +-
 .../minecraft/client/renderer/ItemRenderer.java    |   2 +-
 .../minecraft/client/renderer/RenderGlobal.java    |  48 ++-
 src/net/minecraft/client/renderer/Tessellator.java |   0
 .../client/renderer/ThreadDownloadImageData.java   |   8 +-
 .../minecraft/client/renderer/WorldRenderer.java   |  80 ++---
 .../client/renderer/chunk/ChunkRenderWorker.java   |   3 +
 .../client/renderer/chunk/RenderChunk.java         |   0
 .../minecraft/client/renderer/chunk/VisGraph.java  |   4 +-
 .../minecraft/client/renderer/entity/Render.java   |  57 ++-
 .../client/renderer/entity/RenderDragon.java       |   4 +-
 .../client/renderer/entity/RenderFallingBlock.java |   7 +-
 .../client/renderer/entity/RenderFish.java         |   2 +-
 .../client/renderer/entity/RenderGuardian.java     |   2 +-
 .../client/renderer/entity/RenderItem.java         |  44 +--
 .../renderer/entity/RenderLightningBolt.java       |   2 +-
 .../client/renderer/entity/RenderLiving.java       |   8 +-
 .../client/renderer/entity/RenderManager.java      |  21 +-
 .../client/renderer/entity/RenderPlayer.java       |   7 +-
 .../client/renderer/entity/RenderXPOrb.java        |   2 +-
 .../renderer/entity/RendererLivingEntity.java      |  18 +-
 .../entity/layers/LayerEnderDragonDeath.java       |   4 +-
 .../renderer/texture/TextureAtlasSprite.java       |   2 +
 .../client/renderer/texture/TextureManager.java    |  11 +
 .../client/renderer/texture/TextureMap.java        |   3 +
 .../renderer/tileentity/RenderItemFrame.java       |   2 +-
 .../tileentity/TileEntityBeaconRenderer.java       |   4 +-
 .../tileentity/TileEntityEndPortalRenderer.java    |   2 +-
 .../tileentity/TileEntityPistonRenderer.java       |   2 +-
 .../tileentity/TileEntityRendererDispatcher.java   |   2 +
 .../tileentity/TileEntitySkullRenderer.java        |   4 +-
 .../client/resources/DefaultPlayerSkin.java        |  21 +-
 .../client/resources/DefaultResourcePack.java      |   4 +
 .../client/resources/FallbackResourceManager.java  |   5 +
 .../client/resources/ResourcePackListEntry.java    |   4 +-
 .../client/resources/ResourcePackRepository.java   |   6 +-
 .../minecraft/client/resources/SkinManager.java    |  34 +-
 .../minecraft/client/settings/GameSettings.java    |   3 +-
 src/net/minecraft/client/settings/KeyBinding.java  |   8 +-
 src/net/minecraft/client/shader/Framebuffer.java   |   2 +-
 src/net/minecraft/client/shader/Shader.java        |   2 +-
 .../client/stream/BroadcastController.java         |   4 +
 src/net/minecraft/command/IEntitySelector.java     |   2 +-
 .../command/server/CommandBlockLogic.java          |  10 +-
 src/net/minecraft/crash/CrashReport.java           |  19 +-
 src/net/minecraft/crash/CrashReportCategory.java   |   3 +
 src/net/minecraft/entity/DataWatcher.java          |  10 +
 src/net/minecraft/entity/Entity.java               |  43 ++-
 src/net/minecraft/entity/EntityLivingBase.java     |  22 +-
 src/net/minecraft/entity/EntityTracker.java        |   3 +
 src/net/minecraft/entity/boss/EntityDragon.java    |   2 +-
 .../minecraft/entity/item/EntityArmorStand.java    |   2 +-
 .../entity/item/EntityMinecartContainer.java       |   2 +-
 src/net/minecraft/entity/item/EntityXPOrb.java     |   2 +-
 src/net/minecraft/entity/passive/EntityWolf.java   |   2 +-
 src/net/minecraft/entity/player/EntityPlayer.java  |  42 ++-
 .../minecraft/entity/player/EntityPlayerMP.java    |  12 +-
 .../minecraft/entity/player/InventoryPlayer.java   |   3 +-
 .../minecraft/entity/projectile/EntityArrow.java   |   2 +-
 .../entity/projectile/EntitySmallFireball.java     |   2 +-
 .../entity/projectile/EntityThrowable.java         |   2 +-
 src/net/minecraft/inventory/ContainerPlayer.java   |   2 +-
 .../minecraft/inventory/InventoryEnderChest.java   |   2 +-
 src/net/minecraft/inventory/Slot.java              |   7 +-
 src/net/minecraft/item/ItemBoat.java               |   2 +-
 src/net/minecraft/item/ItemBucket.java             |   8 +-
 src/net/minecraft/item/ItemEnderEye.java           |   2 +-
 src/net/minecraft/item/ItemGlassBottle.java        |   4 +-
 src/net/minecraft/item/ItemLilyPad.java            |   4 +-
 src/net/minecraft/item/ItemMonsterPlacer.java      |   4 +-
 src/net/minecraft/nbt/CompressedStreamTools.java   |   1 +
 src/net/minecraft/nbt/NBTTagCompound.java          |   3 +
 .../minecraft/network/NetHandlerPlayServer.java    |  17 +-
 src/net/minecraft/network/NetworkManager.java      | 328 ++++++++---------
 src/net/minecraft/network/NetworkSystem.java       |   5 +
 src/net/minecraft/network/PacketBuffer.java        |   6 +-
 src/net/minecraft/potion/PotionEffect.java         |  12 +-
 src/net/minecraft/realms/RealmsConnect.java        |   2 +
 src/net/minecraft/realms/RealmsScreen.java         |   2 +-
 .../minecraft/realms/RealmsServerStatusPinger.java |   3 +
 src/net/minecraft/realms/Tezzelator.java           |  14 +-
 src/net/minecraft/scoreboard/Scoreboard.java       |   2 +-
 src/net/minecraft/server/MinecraftServer.java      |   5 +
 .../server/integrated/IntegratedServer.java        |   3 +
 src/net/minecraft/server/management/BanEntry.java  |  25 +-
 .../server/management/ItemInWorldManager.java      |   2 +-
 .../server/management/LowerStringMap.java          |   4 +-
 .../server/management/PlayerProfileCache.java      |   6 +-
 .../management/ServerConfigurationManager.java     |  18 +-
 .../server/network/NetHandlerLoginServer.java      |  12 +-
 src/net/minecraft/tileentity/TileEntityChest.java  |   6 +-
 .../minecraft/tileentity/TileEntityDispenser.java  |   2 +-
 src/net/minecraft/tileentity/TileEntitySign.java   |   3 +-
 src/net/minecraft/util/BlockPos.java               |   8 +
 src/net/minecraft/util/ChatComponentStyle.java     |   8 +
 src/net/minecraft/util/CryptManager.java           |  30 +-
 src/net/minecraft/util/JsonSerializableSet.java    |   6 +-
 src/net/minecraft/util/MessageDeserializer.java    |   3 +
 src/net/minecraft/util/MessageDeserializer2.java   |   6 +-
 src/net/minecraft/util/MessageSerializer.java      |   6 +-
 src/net/minecraft/util/MovingObjectPosition.java   |  20 +-
 src/net/minecraft/util/ScreenShotHelper.java       |   6 +-
 src/net/minecraft/util/Timer.java                  |   6 +
 src/net/minecraft/util/Vec3i.java                  |   6 +-
 src/net/minecraft/village/VillageSiege.java        |   2 +-
 src/net/minecraft/world/SpawnerAnimals.java        |  11 +-
 src/net/minecraft/world/World.java                 |  17 +-
 src/net/minecraft/world/WorldServer.java           |   7 +-
 .../minecraft/world/biome/WorldChunkManager.java   |   2 +
 src/net/minecraft/world/chunk/Chunk.java           |   3 +
 .../world/chunk/storage/AnvilChunkLoader.java      |   3 -
 .../minecraft/world/chunk/storage/RegionFile.java  |   4 +
 src/net/minecraft/world/gen/ChunkProviderEnd.java  |   7 -
 .../minecraft/world/gen/ChunkProviderServer.java   |   3 +
 src/net/minecraft/world/gen/layer/GenLayer.java    |   1 +
 .../world/gen/structure/MapGenStructure.java       |   2 +
 228 files changed, 2595 insertions(+), 1163 deletions(-)

diff --git a/.gitignore b/.gitignore
index eba4a99..aad12bb 100644
--- a/.gitignore
+++ b/.gitignore
@@ -1,4 +1,5 @@
 /bin
 /.settings
+/tmp
 .classpath
 .project
diff --git a/src/net/minecraft/block/Block.java b/src/net/minecraft/block/Block.java
index 5c07aa4..47bb6ff 100644
--- a/src/net/minecraft/block/Block.java
+++ b/src/net/minecraft/block/Block.java
@@ -3,6 +3,7 @@ package net.minecraft.block;
 import java.util.Iterator;
 import java.util.List;
 import java.util.Random;
+
 import net.minecraft.block.material.MapColor;
 import net.minecraft.block.material.Material;
 import net.minecraft.block.properties.IProperty;
@@ -20,19 +21,16 @@ import net.minecraft.item.ItemBlock;
 import net.minecraft.item.ItemStack;
 import net.minecraft.stats.StatList;
 import net.minecraft.tileentity.TileEntity;
-import net.minecraft.util.AxisAlignedBB;
-import net.minecraft.util.BlockPos;
-import net.minecraft.util.EnumFacing;
-import net.minecraft.util.EnumWorldBlockLayer;
-import net.minecraft.util.MovingObjectPosition;
-import net.minecraft.util.ObjectIntIdentityMap;
-import net.minecraft.util.RegistryNamespacedDefaultedByKey;
-import net.minecraft.util.ResourceLocation;
-import net.minecraft.util.StatCollector;
-import net.minecraft.util.Vec3;
+import net.minecraft.util.*;
 import net.minecraft.world.Explosion;
 import net.minecraft.world.IBlockAccess;
 import net.minecraft.world.World;
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.mods.FreecamMod;
+import tk.wurst_client.mods.GhostHandMod;
+import tk.wurst_client.mods.NoClipMod;
+import tk.wurst_client.mods.XRayMod;
+import tk.wurst_client.utils.XRayUtils;
 
 public class Block
 {
@@ -351,7 +349,10 @@ public class Block
 
     public boolean isFullCube()
     {
-        return true;
+		// TODO: Client
+		return !WurstClient.INSTANCE.mods.xRayMod.isActive()
+			&& !WurstClient.INSTANCE.mods.freecamMod.isActive()
+			&& !WurstClient.INSTANCE.mods.noClipMod.isActive();
     }
 
     public boolean isPassable(IBlockAccess blockAccess, BlockPos pos)
@@ -453,6 +454,10 @@ public class Block
 
     public boolean shouldSideBeRendered(IBlockAccess worldIn, BlockPos pos, EnumFacing side)
     {
+		// TODO: Client
+		if(WurstClient.INSTANCE.mods.xRayMod.isEnabled())
+			return XRayUtils.isXRayBlock(this);
+    	
         return side == EnumFacing.DOWN && this.minY > 0.0D ? true : (side == EnumFacing.UP && this.maxY < 1.0D ? true : (side == EnumFacing.NORTH && this.minZ > 0.0D ? true : (side == EnumFacing.SOUTH && this.maxZ < 1.0D ? true : (side == EnumFacing.WEST && this.minX > 0.0D ? true : (side == EnumFacing.EAST && this.maxX < 1.0D ? true : !worldIn.getBlockState(pos).getBlock().isOpaqueCube())))));
     }
 
@@ -496,6 +501,10 @@ public class Block
 
     public boolean canCollideCheck(IBlockState state, boolean p_176209_2_)
     {
+		// TODO: Client
+		if(WurstClient.INSTANCE.mods.ghostHandMod.isActive())
+			return state.getBlock() == getBlockById(WurstClient.INSTANCE.options.ghostHandID);
+    	
         return this.isCollidable();
     }
 
diff --git a/src/net/minecraft/block/BlockBeacon.java b/src/net/minecraft/block/BlockBeacon.java
index a6564df..ca24541 100644
--- a/src/net/minecraft/block/BlockBeacon.java
+++ b/src/net/minecraft/block/BlockBeacon.java
@@ -113,9 +113,11 @@ public class BlockBeacon extends BlockContainer
             {
                 Chunk var1 = worldIn.getChunkFromBlockCoords(p_176450_1_);
                 
+                // TODO: Client
+                final BlockPos var3 = new BlockPos(0, 0, 0);
                 for (int var2 = p_176450_1_.getY() - 1; var2 >= 0; --var2)
                 {
-                    final BlockPos var3 = new BlockPos(p_176450_1_.getX(), var2, p_176450_1_.getZ());
+                    var3.setPos(p_176450_1_.getX(), var2, p_176450_1_.getZ());
 
                     if (!var1.canSeeSky(var3))
                     {
diff --git a/src/net/minecraft/block/BlockBed.java b/src/net/minecraft/block/BlockBed.java
index 7ebd875..ca3a456 100644
--- a/src/net/minecraft/block/BlockBed.java
+++ b/src/net/minecraft/block/BlockBed.java
@@ -195,11 +195,13 @@ public class BlockBed extends BlockDirectional
             int var10 = var8 + 2;
             int var11 = var9 + 2;
 
+            // TODO: Client
+            BlockPos var14 = new BlockPos(0, 0, 0);
             for (int var12 = var8; var12 <= var10; ++var12)
             {
                 for (int var13 = var9; var13 <= var11; ++var13)
                 {
-                    BlockPos var14 = new BlockPos(var12, var5, var13);
+                    var14.setPos(var12, var5, var13);
 
                     if (func_176469_d(worldIn, var14))
                     {
diff --git a/src/net/minecraft/block/BlockCactus.java b/src/net/minecraft/block/BlockCactus.java
index 5c000b0..5cc96b1 100644
--- a/src/net/minecraft/block/BlockCactus.java
+++ b/src/net/minecraft/block/BlockCactus.java
@@ -2,6 +2,7 @@ package net.minecraft.block;
 
 import java.util.Iterator;
 import java.util.Random;
+
 import net.minecraft.block.material.Material;
 import net.minecraft.block.properties.IProperty;
 import net.minecraft.block.properties.PropertyInteger;
@@ -16,6 +17,8 @@ import net.minecraft.util.DamageSource;
 import net.minecraft.util.EnumFacing;
 import net.minecraft.util.EnumWorldBlockLayer;
 import net.minecraft.world.World;
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.mods.AntiCactusMod;
 
 public class BlockCactus extends Block
 {
@@ -64,7 +67,10 @@ public class BlockCactus extends Block
 
     public AxisAlignedBB getCollisionBoundingBox(World worldIn, BlockPos pos, IBlockState state)
     {
-        float var4 = 0.0625F;
+		// TODO: Client
+		float var4 =
+			WurstClient.INSTANCE.mods.antiCactusMod.isActive() ? 0 : 0.0625F;
+        
         return new AxisAlignedBB((double)((float)pos.getX() + var4), (double)pos.getY(), (double)((float)pos.getZ() + var4), (double)((float)(pos.getX() + 1) - var4), (double)((float)(pos.getY() + 1) - var4), (double)((float)(pos.getZ() + 1) - var4));
     }
 
diff --git a/src/net/minecraft/block/BlockLiquid.java b/src/net/minecraft/block/BlockLiquid.java
index 4689151..5987289 100644
--- a/src/net/minecraft/block/BlockLiquid.java
+++ b/src/net/minecraft/block/BlockLiquid.java
@@ -2,6 +2,7 @@ package net.minecraft.block;
 
 import java.util.Iterator;
 import java.util.Random;
+
 import net.minecraft.block.material.Material;
 import net.minecraft.block.properties.IProperty;
 import net.minecraft.block.properties.PropertyInteger;
@@ -19,6 +20,10 @@ import net.minecraft.util.Vec3;
 import net.minecraft.world.IBlockAccess;
 import net.minecraft.world.World;
 import net.minecraft.world.biome.BiomeColorHelper;
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.mods.JesusMod;
+import tk.wurst_client.mods.LiquidsMod;
+import tk.wurst_client.mods.XRayMod;
 
 public abstract class BlockLiquid extends Block
 {
@@ -35,7 +40,9 @@ public abstract class BlockLiquid extends Block
 
     public boolean isPassable(IBlockAccess blockAccess, BlockPos pos)
     {
-        return this.blockMaterial != Material.lava;
+		// TODO: Client
+		return WurstClient.INSTANCE.mods.xRayMod.isEnabled() ? true
+			: this.blockMaterial != Material.lava;
     }
 
     public int colorMultiplier(IBlockAccess worldIn, BlockPos pos, int renderPass)
@@ -79,7 +86,9 @@ public abstract class BlockLiquid extends Block
 
     public boolean canCollideCheck(IBlockState state, boolean p_176209_2_)
     {
-        return p_176209_2_ && ((Integer)state.getValue(LEVEL)).intValue() == 0;
+		// TODO: Client
+		return (p_176209_2_ && ((Integer)state.getValue(LEVEL)).intValue() == 0)
+			|| WurstClient.INSTANCE.mods.liquidsMod.isActive();
     }
 
     /**
@@ -118,7 +127,11 @@ public abstract class BlockLiquid extends Block
 
     public AxisAlignedBB getCollisionBoundingBox(World worldIn, BlockPos pos, IBlockState state)
     {
-        return null;
+		// TODO: Client
+		return WurstClient.INSTANCE.mods.jesusMod.isEnabled() ? AxisAlignedBB
+			.fromBounds(pos.getX() + minX, pos.getY() + minY,
+				pos.getZ() + minZ, pos.getX() + maxX, pos.getY() + maxY,
+				pos.getZ() + maxZ) : null;
     }
 
     /**
diff --git a/src/net/minecraft/block/BlockSlab.java b/src/net/minecraft/block/BlockSlab.java
index 0c52e06..c9d4dda 100644
--- a/src/net/minecraft/block/BlockSlab.java
+++ b/src/net/minecraft/block/BlockSlab.java
@@ -2,6 +2,7 @@ package net.minecraft.block;
 
 import java.util.List;
 import java.util.Random;
+
 import net.minecraft.block.material.Material;
 import net.minecraft.block.properties.IProperty;
 import net.minecraft.block.properties.PropertyEnum;
@@ -16,6 +17,8 @@ import net.minecraft.util.EnumFacing;
 import net.minecraft.util.IStringSerializable;
 import net.minecraft.world.IBlockAccess;
 import net.minecraft.world.World;
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.mods.FreecamMod;
 
 public abstract class BlockSlab extends Block
 {
@@ -114,7 +117,9 @@ public abstract class BlockSlab extends Block
 
     public boolean isFullCube()
     {
-        return this.isDouble();
+		// TODO: Client
+		return this.isDouble()
+			&& !WurstClient.INSTANCE.mods.freecamMod.isActive();
     }
 
     public boolean shouldSideBeRendered(IBlockAccess worldIn, BlockPos pos, EnumFacing side)
diff --git a/src/net/minecraft/block/BlockSoulSand.java b/src/net/minecraft/block/BlockSoulSand.java
index 6520f1d..7a08741 100644
--- a/src/net/minecraft/block/BlockSoulSand.java
+++ b/src/net/minecraft/block/BlockSoulSand.java
@@ -1,5 +1,7 @@
 package net.minecraft.block;
 
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.mods.NoSlowdownMod;
 import net.minecraft.block.material.Material;
 import net.minecraft.block.state.IBlockState;
 import net.minecraft.creativetab.CreativeTabs;
@@ -29,6 +31,10 @@ public class BlockSoulSand extends Block
      */
     public void onEntityCollidedWithBlock(World worldIn, BlockPos pos, IBlockState state, Entity entityIn)
     {
+		// TODO: Client
+		if(WurstClient.INSTANCE.mods.noSlowdownMod.isActive())
+			return;
+    	
         entityIn.motionX *= 0.4D;
         entityIn.motionZ *= 0.4D;
     }
diff --git a/src/net/minecraft/client/LoadingScreenRenderer.java b/src/net/minecraft/client/LoadingScreenRenderer.java
index 555f15e..d98e274 100644
--- a/src/net/minecraft/client/LoadingScreenRenderer.java
+++ b/src/net/minecraft/client/LoadingScreenRenderer.java
@@ -160,7 +160,7 @@ public class LoadingScreenRenderer implements IProgressUpdate
                 this.mc.getTextureManager().bindTexture(Gui.optionsBackground);
                 float var10 = 32.0F;
                 var9.startDrawingQuads();
-                var9.func_178991_c(4210752);
+                var9.setColorOpaque_I(4210752);
                 var9.addVertexWithUV(0.0D, (double)var7, 0.0D, 0.0D, (double)((float)var7 / var10));
                 var9.addVertexWithUV((double)var6, (double)var7, 0.0D, (double)((float)var6 / var10), (double)((float)var7 / var10));
                 var9.addVertexWithUV((double)var6, 0.0D, 0.0D, (double)((float)var6 / var10), 0.0D);
@@ -175,12 +175,12 @@ public class LoadingScreenRenderer implements IProgressUpdate
                     int var14 = var7 / 2 + 16;
                     GlStateManager.func_179090_x();
                     var9.startDrawingQuads();
-                    var9.func_178991_c(8421504);
+                    var9.setColorOpaque_I(8421504);
                     var9.addVertex((double)var13, (double)var14, 0.0D);
                     var9.addVertex((double)var13, (double)(var14 + var12), 0.0D);
                     var9.addVertex((double)(var13 + var11), (double)(var14 + var12), 0.0D);
                     var9.addVertex((double)(var13 + var11), (double)var14, 0.0D);
-                    var9.func_178991_c(8454016);
+                    var9.setColorOpaque_I(8454016);
                     var9.addVertex((double)var13, (double)var14, 0.0D);
                     var9.addVertex((double)var13, (double)(var14 + var12), 0.0D);
                     var9.addVertex((double)(var13 + progress), (double)(var14 + var12), 0.0D);
@@ -191,8 +191,8 @@ public class LoadingScreenRenderer implements IProgressUpdate
 
                 GlStateManager.enableBlend();
                 GlStateManager.tryBlendFuncSeparate(770, 771, 1, 0);
-                this.mc.fontRendererObj.func_175063_a(this.currentlyDisplayedText, (float)((var6 - this.mc.fontRendererObj.getStringWidth(this.currentlyDisplayedText)) / 2), (float)(var7 / 2 - 4 - 16), 16777215);
-                this.mc.fontRendererObj.func_175063_a(this.field_73727_a, (float)((var6 - this.mc.fontRendererObj.getStringWidth(this.field_73727_a)) / 2), (float)(var7 / 2 - 4 + 8), 16777215);
+                this.mc.fontRendererObj.drawStringWithShadow(this.currentlyDisplayedText, (float)((var6 - this.mc.fontRendererObj.getStringWidth(this.currentlyDisplayedText)) / 2), (float)(var7 / 2 - 4 - 16), 16777215);
+                this.mc.fontRendererObj.drawStringWithShadow(this.field_73727_a, (float)((var6 - this.mc.fontRendererObj.getStringWidth(this.field_73727_a)) / 2), (float)(var7 / 2 - 4 + 8), 16777215);
                 this.field_146588_g.unbindFramebuffer();
 
                 if (OpenGlHelper.isFramebufferEnabled())
diff --git a/src/net/minecraft/client/Minecraft.java b/src/net/minecraft/client/Minecraft.java
index f503b64..3a37e16 100644
--- a/src/net/minecraft/client/Minecraft.java
+++ b/src/net/minecraft/client/Minecraft.java
@@ -1,60 +1,44 @@
 package net.minecraft.client;
 
-import com.google.common.collect.Iterables;
-import com.google.common.collect.Lists;
-import com.google.common.collect.Maps;
-import com.google.common.collect.Queues;
-import com.google.common.collect.Sets;
-import com.google.common.util.concurrent.Futures;
-import com.google.common.util.concurrent.ListenableFuture;
-import com.google.common.util.concurrent.ListenableFutureTask;
-import com.mojang.authlib.minecraft.MinecraftSessionService;
-import com.mojang.authlib.properties.Property;
-import com.mojang.authlib.properties.PropertyMap;
-import com.mojang.authlib.yggdrasil.YggdrasilAuthenticationService;
+import java.awt.Canvas;
+import java.awt.Color;
+import java.awt.Component;
+import java.awt.Dimension;
+import java.awt.FlowLayout;
+import java.awt.Toolkit;
+import java.awt.datatransfer.StringSelection;
+import java.awt.event.ActionEvent;
+import java.awt.event.ActionListener;
+import java.awt.event.WindowAdapter;
+import java.awt.event.WindowEvent;
 import java.awt.image.BufferedImage;
+import java.io.BufferedReader;
 import java.io.File;
+import java.io.FileReader;
+import java.io.FileWriter;
 import java.io.IOException;
 import java.io.InputStream;
+import java.io.PrintWriter;
 import java.net.Proxy;
 import java.net.SocketAddress;
 import java.nio.ByteBuffer;
 import java.nio.ByteOrder;
 import java.text.DecimalFormat;
 import java.text.SimpleDateFormat;
-import java.util.ArrayList;
-import java.util.Collections;
-import java.util.Date;
-import java.util.HashMap;
-import java.util.HashSet;
-import java.util.Iterator;
-import java.util.List;
-import java.util.Map;
-import java.util.Queue;
-import java.util.UUID;
+import java.util.*;
 import java.util.concurrent.Callable;
 import java.util.concurrent.Executors;
 import java.util.concurrent.FutureTask;
+
 import javax.imageio.ImageIO;
+import javax.swing.*;
+
 import net.minecraft.block.Block;
 import net.minecraft.block.material.Material;
 import net.minecraft.client.audio.MusicTicker;
 import net.minecraft.client.audio.SoundHandler;
 import net.minecraft.client.entity.EntityPlayerSP;
-import net.minecraft.client.gui.FontRenderer;
-import net.minecraft.client.gui.GuiChat;
-import net.minecraft.client.gui.GuiControls;
-import net.minecraft.client.gui.GuiGameOver;
-import net.minecraft.client.gui.GuiIngame;
-import net.minecraft.client.gui.GuiIngameMenu;
-import net.minecraft.client.gui.GuiMainMenu;
-import net.minecraft.client.gui.GuiMemoryErrorScreen;
-import net.minecraft.client.gui.GuiScreen;
-import net.minecraft.client.gui.GuiSleepMP;
-import net.minecraft.client.gui.GuiWinGame;
-import net.minecraft.client.gui.GuiYesNo;
-import net.minecraft.client.gui.GuiYesNoCallback;
-import net.minecraft.client.gui.ScaledResolution;
+import net.minecraft.client.gui.*;
 import net.minecraft.client.gui.achievement.GuiAchievement;
 import net.minecraft.client.gui.inventory.GuiInventory;
 import net.minecraft.client.gui.stream.GuiStreamUnavailable;
@@ -66,42 +50,15 @@ import net.minecraft.client.multiplayer.WorldClient;
 import net.minecraft.client.network.NetHandlerLoginClient;
 import net.minecraft.client.network.NetHandlerPlayClient;
 import net.minecraft.client.particle.EffectRenderer;
-import net.minecraft.client.renderer.BlockRendererDispatcher;
-import net.minecraft.client.renderer.EntityRenderer;
-import net.minecraft.client.renderer.GlStateManager;
-import net.minecraft.client.renderer.ItemRenderer;
-import net.minecraft.client.renderer.OpenGlHelper;
-import net.minecraft.client.renderer.RenderGlobal;
-import net.minecraft.client.renderer.Tessellator;
-import net.minecraft.client.renderer.WorldRenderer;
+import net.minecraft.client.renderer.*;
 import net.minecraft.client.renderer.chunk.RenderChunk;
 import net.minecraft.client.renderer.entity.RenderItem;
 import net.minecraft.client.renderer.entity.RenderManager;
 import net.minecraft.client.renderer.texture.DynamicTexture;
 import net.minecraft.client.renderer.texture.TextureManager;
 import net.minecraft.client.renderer.texture.TextureMap;
-import net.minecraft.client.resources.DefaultResourcePack;
-import net.minecraft.client.resources.FoliageColorReloadListener;
-import net.minecraft.client.resources.GrassColorReloadListener;
-import net.minecraft.client.resources.I18n;
-import net.minecraft.client.resources.IReloadableResourceManager;
-import net.minecraft.client.resources.IResourceManager;
-import net.minecraft.client.resources.LanguageManager;
-import net.minecraft.client.resources.ResourceIndex;
-import net.minecraft.client.resources.ResourcePackRepository;
-import net.minecraft.client.resources.SimpleReloadableResourceManager;
-import net.minecraft.client.resources.SkinManager;
-import net.minecraft.client.resources.data.AnimationMetadataSection;
-import net.minecraft.client.resources.data.AnimationMetadataSectionSerializer;
-import net.minecraft.client.resources.data.FontMetadataSection;
-import net.minecraft.client.resources.data.FontMetadataSectionSerializer;
-import net.minecraft.client.resources.data.IMetadataSerializer;
-import net.minecraft.client.resources.data.LanguageMetadataSection;
-import net.minecraft.client.resources.data.LanguageMetadataSectionSerializer;
-import net.minecraft.client.resources.data.PackMetadataSection;
-import net.minecraft.client.resources.data.PackMetadataSectionSerializer;
-import net.minecraft.client.resources.data.TextureMetadataSection;
-import net.minecraft.client.resources.data.TextureMetadataSectionSerializer;
+import net.minecraft.client.resources.*;
+import net.minecraft.client.resources.data.*;
 import net.minecraft.client.resources.model.ModelManager;
 import net.minecraft.client.settings.GameSettings;
 import net.minecraft.client.settings.KeyBinding;
@@ -144,18 +101,7 @@ import net.minecraft.stats.AchievementList;
 import net.minecraft.stats.IStatStringFormat;
 import net.minecraft.stats.StatFileWriter;
 import net.minecraft.tileentity.TileEntity;
-import net.minecraft.util.BlockPos;
-import net.minecraft.util.ChatComponentText;
-import net.minecraft.util.IThreadListener;
-import net.minecraft.util.MathHelper;
-import net.minecraft.util.MinecraftError;
-import net.minecraft.util.MouseHelper;
-import net.minecraft.util.MovementInputFromOptions;
-import net.minecraft.util.MovingObjectPosition;
-import net.minecraft.util.ReportedException;
-import net.minecraft.util.ResourceLocation;
-import net.minecraft.util.ScreenShotHelper;
-import net.minecraft.util.Session;
+import net.minecraft.util.*;
 import net.minecraft.util.Timer;
 import net.minecraft.util.Util;
 import net.minecraft.world.EnumDifficulty;
@@ -166,6 +112,7 @@ import net.minecraft.world.chunk.storage.AnvilSaveConverter;
 import net.minecraft.world.storage.ISaveFormat;
 import net.minecraft.world.storage.ISaveHandler;
 import net.minecraft.world.storage.WorldInfo;
+
 import org.apache.commons.io.IOUtils;
 import org.apache.commons.lang3.Validate;
 import org.apache.logging.log4j.LogManager;
@@ -174,20 +121,38 @@ import org.lwjgl.LWJGLException;
 import org.lwjgl.Sys;
 import org.lwjgl.input.Keyboard;
 import org.lwjgl.input.Mouse;
-import org.lwjgl.opengl.ContextCapabilities;
-import org.lwjgl.opengl.Display;
-import org.lwjgl.opengl.DisplayMode;
-import org.lwjgl.opengl.GL11;
-import org.lwjgl.opengl.GL20;
-import org.lwjgl.opengl.GLContext;
-import org.lwjgl.opengl.OpenGLException;
-import org.lwjgl.opengl.PixelFormat;
+import org.lwjgl.opengl.*;
 import org.lwjgl.util.glu.GLU;
 
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.bot.WurstBot;
+import tk.wurst_client.events.LeftClickEvent;
+import tk.wurst_client.font.Fonts;
+import tk.wurst_client.gui.main.GuiWurstMainMenu;
+import tk.wurst_client.hooks.FrameHook;
+import tk.wurst_client.java8check.Java8Checker;
+import tk.wurst_client.mods.FreecamMod;
+import tk.wurst_client.spam.SpamProcessor;
+import tk.wurst_client.utils.MiscUtils;
+
+import com.google.common.collect.Iterables;
+import com.google.common.collect.Lists;
+import com.google.common.collect.Maps;
+import com.google.common.collect.Queues;
+import com.google.common.collect.Sets;
+import com.google.common.util.concurrent.Futures;
+import com.google.common.util.concurrent.ListenableFuture;
+import com.google.common.util.concurrent.ListenableFutureTask;
+import com.mojang.authlib.minecraft.MinecraftSessionService;
+import com.mojang.authlib.properties.Property;
+import com.mojang.authlib.properties.PropertyMap;
+import com.mojang.authlib.yggdrasil.YggdrasilAuthenticationService;
+
 public class Minecraft implements IThreadListener, IPlayerUsage
 {
     private static final Logger logger = LogManager.getLogger();
-    private static final ResourceLocation locationMojangPng = new ResourceLocation("textures/gui/title/mojang.png");
+    //TODO: Client
+    private static final ResourceLocation locationMojangPng = new ResourceLocation("wurst/wurst_loading.png");
     public static final boolean isRunningOnMac = Util.getOSType() == Util.EnumOS.OSX;
 
     /** A 10MiB preallocation to ensure the heap is reasonably sized. */
@@ -226,7 +191,8 @@ public class Minecraft implements IThreadListener, IPlayerUsage
     private Entity field_175622_Z;
     public Entity pointedEntity;
     public EffectRenderer effectRenderer;
-    private final Session session;
+    //TODO: Client
+    public Session session;
     private boolean isGamePaused;
 
     /** The font renderer used for displaying and measuring text */
@@ -280,7 +246,8 @@ public class Minecraft implements IThreadListener, IPlayerUsage
     /**
      * When you place a block, it's set to 6, decremented once per tick, when it's 0, you can place another block.
      */
-    private int rightClickDelayTimer;
+    //TODO: Client
+    public int rightClickDelayTimer;
     private String serverName;
     private int serverPort;
 
@@ -345,6 +312,7 @@ public class Minecraft implements IThreadListener, IPlayerUsage
 
     /** Profiler currently displayed in the debug screen pie chart */
     private String debugProfilerName = "root";
+	
     private static final String __OBFID = "CL_00000631";
 
     public Minecraft(GameConfiguration p_i45547_1_)
@@ -466,9 +434,9 @@ public class Minecraft implements IThreadListener, IPlayerUsage
         }
 
         logger.info("LWJGL Version: " + Sys.getVersion());
-        this.func_175594_ao();
-        this.func_175605_an();
-        this.func_175609_am();
+        this.startLWJGL_1();
+        this.startLWJGL_2();
+        this.startLWJGL_3();
         OpenGlHelper.initializeTextures();
         this.framebufferMc = new Framebuffer(this.displayWidth, this.displayHeight, true);
         this.framebufferMc.setFramebufferColor(0.0F, 0.0F, 0.0F, 0.0F);
@@ -552,13 +520,16 @@ public class Minecraft implements IThreadListener, IPlayerUsage
         this.checkGLError("Post startup");
         this.ingameGUI = new GuiIngame(this);
 
+        //TODO: Client
+        WurstClient.INSTANCE.startClient();
+
         if (this.serverName != null)
         {
-            this.displayGuiScreen(new GuiConnecting(new GuiMainMenu(), this, this.serverName, this.serverPort));
+            this.displayGuiScreen(new GuiConnecting(new GuiWurstMainMenu(), this, this.serverName, this.serverPort));
         }
         else
         {
-            this.displayGuiScreen(new GuiMainMenu());
+            this.displayGuiScreen(new GuiWurstMainMenu());
         }
 
         this.renderEngine.deleteTexture(this.mojangLogo);
@@ -581,6 +552,8 @@ public class Minecraft implements IThreadListener, IPlayerUsage
         }
 
         this.renderGlobal.func_174966_b();
+        if(WurstBot.isEnabled())
+        	WurstBot.getBot().start();
     }
 
     private void func_175608_ak()
@@ -605,7 +578,7 @@ public class Minecraft implements IThreadListener, IPlayerUsage
         }
     }
 
-    private void func_175609_am() throws LWJGLException
+    private void startLWJGL_3() throws LWJGLException
     {
         Display.setResizable(true);
         Display.setTitle("Minecraft 1.8");
@@ -636,22 +609,24 @@ public class Minecraft implements IThreadListener, IPlayerUsage
         }
     }
 
-    private void func_175605_an() throws LWJGLException
+    private void startLWJGL_2() throws LWJGLException
     {
-        if (this.fullscreen)
+        if(this.fullscreen)
         {
             Display.setFullscreen(true);
             DisplayMode var1 = Display.getDisplayMode();
             this.displayWidth = Math.max(1, var1.getWidth());
             this.displayHeight = Math.max(1, var1.getHeight());
-        }
-        else
+        }else
         {
             Display.setDisplayMode(new DisplayMode(this.displayWidth, this.displayHeight));
+            
+            // TODO: Client
+        	FrameHook.createFrame(mcDefaultResourcePack, logger);
         }
     }
 
-    private void func_175594_ao()
+    private void startLWJGL_1()
     {
         Util.EnumOS var1 = Util.getOSType();
 
@@ -751,23 +726,145 @@ public class Minecraft implements IThreadListener, IPlayerUsage
     	File var3 = new File(var2, "crash-" + (new SimpleDateFormat("yyyy-MM-dd_HH.mm.ss")).format(new Date()) + "-client.txt");
     	Bootstrap.func_179870_a(crashReportIn.getCompleteReport());
     	
-        if (crashReportIn.getFile() != null)
+		//MiscUtils.openLink("http://www.wurst-client.tk/bugs");
+    	//doWurstCrash(crashReportIn, var3.getAbsolutePath());
+    	//while(true);
+    	//TODO: Client
+    	if(crashReportIn.getFile() != null)
     	{
     		Bootstrap.func_179870_a("#@!@# Game crashed! Crash report saved to: #@!@# " + crashReportIn.getFile());
     		System.exit(-1);
-        }
-        else if (crashReportIn.saveToFile(var3))
+    	}else if(crashReportIn.saveToFile(var3))
     	{
     		Bootstrap.func_179870_a("#@!@# Game crashed! Crash report saved to: #@!@# " + var3.getAbsolutePath());
     		System.exit(-1);
-        }
-        else
+    	}else
     	{
     		Bootstrap.func_179870_a("#@?@# Game crashed! Crash report could not be saved. #@?@#");
     		System.exit(-2);
     	}
     }
     
+    //TODO: Client
+    private void doWurstCrash(final CrashReport crashReportIn, final String reportPath)
+    {
+    	this.hasCrashed = true;
+		JFrame crashFrame = new JFrame();
+		crashFrame.setTitle("Error");
+		crashFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
+		crashFrame.addWindowListener(new WindowAdapter()
+		{
+			@SuppressWarnings("deprecation")
+			@Override
+			public void windowClosing(WindowEvent e)
+			{
+				System.exit(-1);
+				Minecraft.this.mcThread.stop();
+				System.gc();
+				Minecraft.this.shutdownMinecraftApplet();
+			}
+		});
+		crashFrame.setAlwaysOnTop(true);
+		JPanel crashPanel = new JPanel();
+		crashPanel.setLayout(new BoxLayout(crashPanel, BoxLayout.Y_AXIS));
+		
+		JLabel header1 = new JLabel();
+		header1.setText
+		(
+			"<html><div align=\"center\"><h1>Wurst has crashed!</h1>"
+			+ "<font size=\"4\">The following crash report has been saved to:"
+		);
+		header1.setHorizontalAlignment(SwingConstants.CENTER);
+		header1.setAlignmentX(Component.CENTER_ALIGNMENT);
+		crashPanel.add(header1);
+
+		final JButton fileButton = new JButton("<html><u>" + reportPath);
+		fileButton.setForeground(new Color(0x0000ff));
+		fileButton.setAlignmentX(Component.CENTER_ALIGNMENT);
+		fileButton.setBorder(null);
+		fileButton.setContentAreaFilled(false);
+		fileButton.setFocusPainted(false);
+		fileButton.addActionListener(new ActionListener()
+		{
+			@Override
+			public void actionPerformed(ActionEvent e)
+			{
+				try
+				{
+					MiscUtils.openFile(reportPath);
+					fileButton.setForeground(new Color(0x551A8B));
+				}catch(Exception e1)
+				{
+					e1.printStackTrace();
+				}
+			}
+		});
+		JPanel fileButtonPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));
+		fileButtonPanel.add(fileButton);
+		crashPanel.add(fileButtonPanel);
+		
+		JLabel header2 = new JLabel();
+		header2.setText
+		(
+			"<html><div align=\"center\"><font size=\"4\">Please report this crash at:"
+		);
+		header2.setHorizontalAlignment(SwingConstants.CENTER);
+		header2.setAlignmentX(Component.CENTER_ALIGNMENT);
+		crashPanel.add(header2);
+		
+		final JButton linkButton = new JButton("<html><u>http://www.wurst-client.tk/bugs");
+		linkButton.setForeground(new Color(0x0000ff));
+		linkButton.setAlignmentX(Component.CENTER_ALIGNMENT);
+		linkButton.setBorder(null);
+		linkButton.setContentAreaFilled(false);
+		linkButton.setFocusPainted(false);
+		linkButton.addActionListener(new ActionListener()
+		{
+			@Override
+			public void actionPerformed(ActionEvent e)
+			{
+				try
+				{
+					MiscUtils.openLink("http://www.wurst-client.tk/bugs");
+					linkButton.setForeground(new Color(0x551A8B));
+				}catch(Exception e1)
+				{
+					e1.printStackTrace();
+				}
+			}
+		});
+		JPanel linkButtonPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));
+		linkButtonPanel.add(linkButton);
+		crashPanel.add(linkButtonPanel);
+		
+		JTextArea message = new JTextArea();
+		message.setEditable(false);
+		message.setText(crashReportIn.getCompleteReport());
+		JScrollPane scrollpane = new JScrollPane(message);
+		scrollpane.setPreferredSize(new Dimension(600, 300));
+		crashPanel.add(scrollpane);
+		
+
+		JPanel buttons = new JPanel();
+		buttons.setLayout(new FlowLayout(FlowLayout.CENTER, 32, 5));
+		JButton copyButton = new JButton("Copy to clipboard");
+		copyButton.addActionListener(new ActionListener()
+		{
+			@Override
+			public void actionPerformed(ActionEvent e)
+			{
+				Toolkit.getDefaultToolkit().getSystemClipboard().setContents(new StringSelection(crashReportIn.getCompleteReport()), null);
+			}
+		});
+		buttons.add(copyButton);
+		crashPanel.add(buttons);
+		
+		crashFrame.setContentPane(crashPanel);
+		crashFrame.pack();
+		crashFrame.setLocationRelativeTo(null);
+		crashFrame.setVisible(true);
+    }
+
     public boolean isUnicode()
     {
         return this.mcLanguageManager.isCurrentLocaleUnicode() || this.gameSettings.forceUnicodeFont;
@@ -917,14 +1014,14 @@ public class Minecraft implements IThreadListener, IPlayerUsage
         Tessellator var6 = Tessellator.getInstance();
         WorldRenderer var7 = var6.getWorldRenderer();
         var7.startDrawingQuads();
-        var7.func_178991_c(16777215);
+        var7.setColorOpaque_I(16777215);
         var7.addVertexWithUV(0.0D, (double)this.displayHeight, 0.0D, 0.0D, 0.0D);
         var7.addVertexWithUV((double)this.displayWidth, (double)this.displayHeight, 0.0D, 0.0D, 0.0D);
         var7.addVertexWithUV((double)this.displayWidth, 0.0D, 0.0D, 0.0D, 0.0D);
         var7.addVertexWithUV(0.0D, 0.0D, 0.0D, 0.0D, 0.0D);
         var6.draw();
         GlStateManager.color(1.0F, 1.0F, 1.0F, 1.0F);
-        var7.func_178991_c(16777215);
+        var7.setColorOpaque_I(16777215);
         short var8 = 256;
         short var9 = 256;
         this.scaledTessellator((var2.getScaledWidth() - var8) / 2, (var2.getScaledHeight() - var9) / 2, 0, 0, var8, var9);
@@ -973,7 +1070,7 @@ public class Minecraft implements IThreadListener, IPlayerUsage
 
         if (guiScreenIn == null && this.theWorld == null)
         {
-            guiScreenIn = new GuiMainMenu();
+            guiScreenIn = new GuiWurstMainMenu();
         }
         else if (guiScreenIn == null && this.thePlayer.getHealth() <= 0.0F)
         {
@@ -1197,6 +1294,7 @@ public class Minecraft implements IThreadListener, IPlayerUsage
     public void func_175601_h()
     {
         this.mcProfiler.startSection("display_update");
+        if(!WurstBot.isEnabled())
         	Display.update();
         this.mcProfiler.endSection();
         this.func_175604_i();
@@ -1329,7 +1427,7 @@ public class Minecraft implements IThreadListener, IPlayerUsage
             int var9 = this.displayHeight - var7 * 2;
             GlStateManager.enableBlend();
             var6.startDrawingQuads();
-            var6.func_178974_a(0, 200);
+            var6.setColorRGBA_I(0, 200);
             var6.addVertex((double)((float)var8 - (float)var7 * 1.1F), (double)((float)var9 - (float)var7 * 0.6F - 16.0F), 0.0D);
             var6.addVertex((double)((float)var8 - (float)var7 * 1.1F), (double)(var9 + var7 * 2), 0.0D);
             var6.addVertex((double)((float)var8 + (float)var7 * 1.1F), (double)(var9 + var7 * 2), 0.0D);
@@ -1344,7 +1442,7 @@ public class Minecraft implements IThreadListener, IPlayerUsage
                 Profiler.Result var13 = (Profiler.Result)var3.get(var12);
                 var14 = MathHelper.floor_double(var13.field_76332_a / 4.0D) + 1;
                 var6.startDrawing(6);
-                var6.func_178991_c(var13.func_76329_a());
+                var6.setColorOpaque_I(var13.func_76329_a());
                 var6.addVertex((double)var8, (double)var9, 0.0D);
                 int var15;
                 float var16;
@@ -1361,7 +1459,7 @@ public class Minecraft implements IThreadListener, IPlayerUsage
 
                 var5.draw();
                 var6.startDrawing(5);
-                var6.func_178991_c((var13.func_76329_a() & 16711422) >> 1);
+                var6.setColorOpaque_I((var13.func_76329_a() & 16711422) >> 1);
 
                 for (var15 = var14; var15 >= 0; --var15)
                 {
@@ -1395,8 +1493,8 @@ public class Minecraft implements IThreadListener, IPlayerUsage
             }
 
             var14 = 16777215;
-            this.fontRendererObj.func_175063_a(var20, (float)(var8 - var7), (float)(var9 - var7 / 2 - 16), var14);
-            this.fontRendererObj.func_175063_a(var20 = var19.format(var4.field_76330_b) + "%", (float)(var8 + var7 - this.fontRendererObj.getStringWidth(var20)), (float)(var9 - var7 / 2 - 16), var14);
+            this.fontRendererObj.drawStringWithShadow(var20, (float)(var8 - var7), (float)(var9 - var7 / 2 - 16), var14);
+            this.fontRendererObj.drawStringWithShadow(var20 = var19.format(var4.field_76330_b) + "%", (float)(var8 + var7 - this.fontRendererObj.getStringWidth(var20)), (float)(var9 - var7 / 2 - 16), var14);
 
             for (int var21 = 0; var21 < var3.size(); ++var21)
             {
@@ -1413,9 +1511,9 @@ public class Minecraft implements IThreadListener, IPlayerUsage
                 }
 
                 var23 = var23 + var22.field_76331_c;
-                this.fontRendererObj.func_175063_a(var23, (float)(var8 - var7), (float)(var9 + var7 / 2 + var21 * 8 + 20), var22.func_76329_a());
-                this.fontRendererObj.func_175063_a(var23 = var19.format(var22.field_76332_a) + "%", (float)(var8 + var7 - 50 - this.fontRendererObj.getStringWidth(var23)), (float)(var9 + var7 / 2 + var21 * 8 + 20), var22.func_76329_a());
-                this.fontRendererObj.func_175063_a(var23 = var19.format(var22.field_76330_b) + "%", (float)(var8 + var7 - this.fontRendererObj.getStringWidth(var23)), (float)(var9 + var7 / 2 + var21 * 8 + 20), var22.func_76329_a());
+                this.fontRendererObj.drawStringWithShadow(var23, (float)(var8 - var7), (float)(var9 + var7 / 2 + var21 * 8 + 20), var22.func_76329_a());
+                this.fontRendererObj.drawStringWithShadow(var23 = var19.format(var22.field_76332_a) + "%", (float)(var8 + var7 - 50 - this.fontRendererObj.getStringWidth(var23)), (float)(var9 + var7 / 2 + var21 * 8 + 20), var22.func_76329_a());
+                this.fontRendererObj.drawStringWithShadow(var23 = var19.format(var22.field_76330_b) + "%", (float)(var8 + var7 - this.fontRendererObj.getStringWidth(var23)), (float)(var9 + var7 / 2 + var21 * 8 + 20), var22.func_76329_a());
             }
         }
     }
@@ -1486,11 +1584,11 @@ public class Minecraft implements IThreadListener, IPlayerUsage
         {
             if (leftClick && this.objectMouseOver != null && this.objectMouseOver.typeOfHit == MovingObjectPosition.MovingObjectType.BLOCK)
             {
-                BlockPos var2 = this.objectMouseOver.func_178782_a();
+                BlockPos var2 = this.objectMouseOver.getBlockPos();
 
-                if (this.theWorld.getBlockState(var2).getBlock().getMaterial() != Material.air && this.playerController.func_180512_c(var2, this.objectMouseOver.field_178784_b))
+                if (this.theWorld.getBlockState(var2).getBlock().getMaterial() != Material.air && this.playerController.onPlayerDamageBlock(var2, this.objectMouseOver.sideHit))
                 {
-                    this.effectRenderer.func_180532_a(var2, this.objectMouseOver.field_178784_b);
+                    this.effectRenderer.func_180532_a(var2, this.objectMouseOver.sideHit);
                     this.thePlayer.swingItem();
                 }
             }
@@ -1505,6 +1603,8 @@ public class Minecraft implements IThreadListener, IPlayerUsage
     {
         if (this.leftClickCounter <= 0)
         {
+            //TODO: Client
+        	WurstClient.INSTANCE.events.fireEvent(LeftClickEvent.class, new LeftClickEvent());
             this.thePlayer.swingItem();
 
             if (this.objectMouseOver == null)
@@ -1525,11 +1625,11 @@ public class Minecraft implements IThreadListener, IPlayerUsage
                         break;
 
                     case 2:
-                        BlockPos var1 = this.objectMouseOver.func_178782_a();
+                        BlockPos var1 = this.objectMouseOver.getBlockPos();
 
                         if (this.theWorld.getBlockState(var1).getBlock().getMaterial() != Material.air)
                         {
-                            this.playerController.func_180511_b(var1, this.objectMouseOver.field_178784_b);
+                            this.playerController.clickBlock(var1, this.objectMouseOver.sideHit);
                             break;
                         }
 
@@ -1547,7 +1647,8 @@ public class Minecraft implements IThreadListener, IPlayerUsage
     /**
      * Called when user clicked he's mouse right button (place)
      */
-    private void rightClickMouse()
+    //TODO: Client
+    public void rightClickMouse()
     {
         this.rightClickDelayTimer = 4;
         boolean var1 = true;
@@ -1574,13 +1675,13 @@ public class Minecraft implements IThreadListener, IPlayerUsage
                     break;
 
                 case 2:
-                    BlockPos var3 = this.objectMouseOver.func_178782_a();
+                    BlockPos var3 = this.objectMouseOver.getBlockPos();
 
                     if (this.theWorld.getBlockState(var3).getBlock().getMaterial() != Material.air)
                     {
                         int var4 = var2 != null ? var2.stackSize : 0;
 
-                        if (this.playerController.func_178890_a(this.thePlayer, this.theWorld, var2, var3, this.objectMouseOver.field_178784_b, this.objectMouseOver.hitVec))
+                        if (this.playerController.func_178890_a(this.thePlayer, this.theWorld, var2, var3, this.objectMouseOver.sideHit, this.objectMouseOver.hitVec))
                         {
                             var1 = false;
                             this.thePlayer.swingItem();
@@ -1761,8 +1862,11 @@ public class Minecraft implements IThreadListener, IPlayerUsage
         CrashReport var2;
         CrashReportCategory var3;
 
-        if (this.currentScreen != null)
+		// TODO: Client
+		if(this.currentScreen != null
+			&& !WurstClient.INSTANCE.mods.menuWalkMod.shouldAllowWalking())
 		{
+        	
             try
             {
                 this.currentScreen.handleInput();
@@ -1805,8 +1909,11 @@ public class Minecraft implements IThreadListener, IPlayerUsage
             }
         }
 
-        if (this.currentScreen == null || this.currentScreen.allowUserInput)
+		// TODO: Client
+		if(this.currentScreen == null || this.currentScreen.allowUserInput
+			|| WurstClient.INSTANCE.mods.menuWalkMod.shouldAllowWalking())
 		{
+        	
             this.mcProfiler.endStartSection("mouse");
             int var1;
 
@@ -1817,7 +1924,7 @@ public class Minecraft implements IThreadListener, IPlayerUsage
 
                 if (Mouse.getEventButtonState())
                 {
-                    if (this.thePlayer.func_175149_v() && var1 == 2)
+                    if (this.thePlayer.isSpectator() && var1 == 2)
                     {
                         this.ingameGUI.func_175187_g().func_175261_b();
                     }
@@ -1835,7 +1942,7 @@ public class Minecraft implements IThreadListener, IPlayerUsage
 
                     if (var4 != 0)
                     {
-                        if (this.thePlayer.func_175149_v())
+                        if (this.thePlayer.isSpectator())
                         {
                             var4 = var4 < 0 ? -1 : 1;
 
@@ -1918,6 +2025,14 @@ public class Minecraft implements IThreadListener, IPlayerUsage
                     }
                     else
                     {
+                    	//TODO: Client
+            			if(Keyboard.getEventKey() != 0)
+            			{
+            				String eventCommand = WurstClient.INSTANCE.keybinds.get(Keyboard.getKeyName(Keyboard.getEventKey()));
+            				if(eventCommand != null)
+            					thePlayer.sendAutomaticChatMessage(eventCommand);
+            			}
+                    	
                         if (var1 == 1)
                         {
                             this.displayInGameMenu();
@@ -2049,7 +2164,7 @@ public class Minecraft implements IThreadListener, IPlayerUsage
             {
                 if (this.gameSettings.keyBindsHotbar[var1].isPressed())
                 {
-                    if (this.thePlayer.func_175149_v())
+                    if (this.thePlayer.isSpectator())
                     {
                         this.ingameGUI.func_175187_g().func_175260_a(var1);
                     }
@@ -2077,7 +2192,7 @@ public class Minecraft implements IThreadListener, IPlayerUsage
 
             while (this.gameSettings.keyBindDrop.isPressed())
             {
-                if (!this.thePlayer.func_175149_v())
+                if (!this.thePlayer.isSpectator())
                 {
                     this.thePlayer.dropOneItem(GuiScreen.isCtrlKeyDown());
                 }
@@ -2225,7 +2340,10 @@ public class Minecraft implements IThreadListener, IPlayerUsage
 
             this.mcProfiler.endStartSection("animateTick");
 
-            if (!this.isGamePaused && this.theWorld != null)
+			if(!this.isGamePaused
+				&& this.theWorld != null
+				// TODO: Client
+				&& !WurstClient.INSTANCE.mods.freecamMod.isActive())
             {
                 this.theWorld.doVoidFogParticles(MathHelper.floor_double(this.thePlayer.posX), MathHelper.floor_double(this.thePlayer.posY), MathHelper.floor_double(this.thePlayer.posZ));
             }
@@ -2315,6 +2433,10 @@ public class Minecraft implements IThreadListener, IPlayerUsage
         var12.sendPacket(new C00Handshake(47, var11.toString(), 0, EnumConnectionState.LOGIN));
         var12.sendPacket(new C00PacketLoginStart(this.getSession().getProfile()));
         this.myNetworkManager = var12;
+        
+        //TODO: Client
+        SpamProcessor.runScript("joinworld", "Runs whenever you join a singleplayer world.");
+		WurstClient.INSTANCE.analytics.trackPageView("/play/singleplayer", "Singleplayer");
     }
 
     /**
@@ -2420,7 +2542,6 @@ public class Minecraft implements IThreadListener, IPlayerUsage
             var2 = this.thePlayer.getEntityId();
             this.theWorld.removeEntity(this.thePlayer);
             var3 = this.thePlayer.getClientBrand();
-        }
 
 	        this.field_175622_Z = null;
 	        EntityPlayerSP var4 = this.thePlayer;
@@ -2436,6 +2557,7 @@ public class Minecraft implements IThreadListener, IPlayerUsage
 	        this.thePlayer.setEntityId(var2);
 	        this.playerController.setPlayerCapabilities(this.thePlayer);
 	        this.thePlayer.func_175150_k(var4.func_175140_cp());
+        }
 
         if (this.currentScreen instanceof GuiGameOver)
         {
@@ -2489,7 +2611,7 @@ public class Minecraft implements IThreadListener, IPlayerUsage
 
             if (this.objectMouseOver.typeOfHit == MovingObjectPosition.MovingObjectType.BLOCK)
             {
-                BlockPos var6 = this.objectMouseOver.func_178782_a();
+                BlockPos var6 = this.objectMouseOver.getBlockPos();
                 Block var7 = this.theWorld.getBlockState(var6).getBlock();
 
                 if (var7.getMaterial() == Material.air)
@@ -2515,6 +2637,9 @@ public class Minecraft implements IThreadListener, IPlayerUsage
             }
             else
             {
+				// TODO: Client
+				WurstClient.INSTANCE.friends.middleClick(objectMouseOver.entityHit);
+                
                 if (this.objectMouseOver.typeOfHit != MovingObjectPosition.MovingObjectType.ENTITY || this.objectMouseOver.entityHit == null || !var1)
                 {
                     return;
diff --git a/src/net/minecraft/client/audio/SoundManager.java b/src/net/minecraft/client/audio/SoundManager.java
index 9397e9d..4bd9472 100644
--- a/src/net/minecraft/client/audio/SoundManager.java
+++ b/src/net/minecraft/client/audio/SoundManager.java
@@ -6,7 +6,9 @@ import com.google.common.collect.HashMultimap;
 import com.google.common.collect.Lists;
 import com.google.common.collect.Maps;
 import com.google.common.collect.Multimap;
+
 import io.netty.util.internal.ThreadLocalRandom;
+
 import java.io.IOException;
 import java.io.InputStream;
 import java.net.MalformedURLException;
@@ -17,15 +19,18 @@ import java.util.Iterator;
 import java.util.List;
 import java.util.Map;
 import java.util.Map.Entry;
+
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.settings.GameSettings;
 import net.minecraft.entity.player.EntityPlayer;
 import net.minecraft.util.MathHelper;
 import net.minecraft.util.ResourceLocation;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 import org.apache.logging.log4j.Marker;
 import org.apache.logging.log4j.MarkerManager;
+
 import paulscode.sound.SoundSystem;
 import paulscode.sound.SoundSystemConfig;
 import paulscode.sound.SoundSystemException;
@@ -33,6 +38,7 @@ import paulscode.sound.SoundSystemLogger;
 import paulscode.sound.Source;
 import paulscode.sound.codecs.CodecJOrbis;
 import paulscode.sound.libraries.LibraryLWJGLOpenAL;
+import tk.wurst_client.bot.WurstBot;
 
 public class SoundManager
 {
@@ -118,7 +124,7 @@ public class SoundManager
      */
     private synchronized void loadSoundSystem()
     {
-        if (!this.loaded)
+        if (!this.loaded && !WurstBot.isEnabled())
         {
             try
             {
diff --git a/src/net/minecraft/client/entity/AbstractClientPlayer.java b/src/net/minecraft/client/entity/AbstractClientPlayer.java
index de9ca57..042182a 100644
--- a/src/net/minecraft/client/entity/AbstractClientPlayer.java
+++ b/src/net/minecraft/client/entity/AbstractClientPlayer.java
@@ -1,7 +1,7 @@
 package net.minecraft.client.entity;
 
-import com.mojang.authlib.GameProfile;
 import java.io.File;
+
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.network.NetworkPlayerInfo;
 import net.minecraft.client.renderer.ImageBufferDownload;
@@ -17,6 +17,10 @@ import net.minecraft.util.ResourceLocation;
 import net.minecraft.util.StringUtils;
 import net.minecraft.world.World;
 import net.minecraft.world.WorldSettings;
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.mods.FreecamMod;
+
+import com.mojang.authlib.GameProfile;
 
 public abstract class AbstractClientPlayer extends EntityPlayer
 {
@@ -28,10 +32,13 @@ public abstract class AbstractClientPlayer extends EntityPlayer
         super(worldIn, p_i45074_2_);
     }
 
-    public boolean func_175149_v()
+    public boolean isSpectator()
     {
         NetworkPlayerInfo var1 = Minecraft.getMinecraft().getNetHandler().func_175102_a(this.getGameProfile().getId());
-        return var1 != null && var1.getGameType() == WorldSettings.GameType.SPECTATOR;
+        
+		// TODO: Client
+		return WurstClient.INSTANCE.mods.freecamMod.isActive()
+			|| (var1 != null && var1.getGameType() == WorldSettings.GameType.SPECTATOR);
     }
 
     public boolean hasCape()
@@ -58,7 +65,7 @@ public abstract class AbstractClientPlayer extends EntityPlayer
     public ResourceLocation getLocationSkin()
     {
         NetworkPlayerInfo var1 = this.func_175155_b();
-        return var1 == null ? DefaultPlayerSkin.func_177334_a(this.getUniqueID()) : var1.func_178837_g();
+        return var1 == null ? DefaultPlayerSkin.getLocationFromUUID(this.getUniqueID()) : var1.func_178837_g();
     }
 
     public ResourceLocation getLocationCape()
@@ -74,7 +81,7 @@ public abstract class AbstractClientPlayer extends EntityPlayer
 
         if (var3 == null)
         {
-            var3 = new ThreadDownloadImageData((File)null, String.format("http://skins.minecraft.net/MinecraftSkins/%s.png", new Object[] {StringUtils.stripControlCodes(username)}), DefaultPlayerSkin.func_177334_a(func_175147_b(username)), new ImageBufferDownload());
+            var3 = new ThreadDownloadImageData((File)null, String.format("http://skins.minecraft.net/MinecraftSkins/%s.png", new Object[] {StringUtils.stripControlCodes(username)}), DefaultPlayerSkin.getLocationFromUUID(getUUIDFromPlayerName(username)), new ImageBufferDownload());
             var2.loadTexture(resourceLocationIn, (ITextureObject)var3);
         }
 
@@ -89,7 +96,7 @@ public abstract class AbstractClientPlayer extends EntityPlayer
     public String func_175154_l()
     {
         NetworkPlayerInfo var1 = this.func_175155_b();
-        return var1 == null ? DefaultPlayerSkin.func_177332_b(this.getUniqueID()) : var1.func_178851_f();
+        return var1 == null ? DefaultPlayerSkin.getModelNameFromUUID(this.getUniqueID()) : var1.getModelName();
     }
 
     public float func_175156_o()
diff --git a/src/net/minecraft/client/entity/EntityPlayerSP.java b/src/net/minecraft/client/entity/EntityPlayerSP.java
index eefe303..a6e1613 100644
--- a/src/net/minecraft/client/entity/EntityPlayerSP.java
+++ b/src/net/minecraft/client/entity/EntityPlayerSP.java
@@ -1,5 +1,6 @@
 package net.minecraft.client.entity;
 
+import net.minecraft.block.material.Material;
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.audio.MovingSoundMinecartRiding;
 import net.minecraft.client.audio.PositionedSoundRecord;
@@ -10,14 +11,7 @@ import net.minecraft.client.gui.GuiMerchant;
 import net.minecraft.client.gui.GuiRepair;
 import net.minecraft.client.gui.GuiScreen;
 import net.minecraft.client.gui.GuiScreenBook;
-import net.minecraft.client.gui.inventory.GuiBeacon;
-import net.minecraft.client.gui.inventory.GuiBrewingStand;
-import net.minecraft.client.gui.inventory.GuiChest;
-import net.minecraft.client.gui.inventory.GuiCrafting;
-import net.minecraft.client.gui.inventory.GuiDispenser;
-import net.minecraft.client.gui.inventory.GuiEditSign;
-import net.minecraft.client.gui.inventory.GuiFurnace;
-import net.minecraft.client.gui.inventory.GuiScreenHorseInventory;
+import net.minecraft.client.gui.inventory.*;
 import net.minecraft.client.network.NetHandlerPlayClient;
 import net.minecraft.command.server.CommandBlockLogic;
 import net.minecraft.entity.Entity;
@@ -29,15 +23,7 @@ import net.minecraft.init.Items;
 import net.minecraft.inventory.IInventory;
 import net.minecraft.item.Item;
 import net.minecraft.item.ItemStack;
-import net.minecraft.network.play.client.C01PacketChatMessage;
-import net.minecraft.network.play.client.C03PacketPlayer;
-import net.minecraft.network.play.client.C07PacketPlayerDigging;
-import net.minecraft.network.play.client.C0APacketAnimation;
-import net.minecraft.network.play.client.C0BPacketEntityAction;
-import net.minecraft.network.play.client.C0CPacketInput;
-import net.minecraft.network.play.client.C0DPacketCloseWindow;
-import net.minecraft.network.play.client.C13PacketPlayerAbilities;
-import net.minecraft.network.play.client.C16PacketClientStatus;
+import net.minecraft.network.play.client.*;
 import net.minecraft.potion.Potion;
 import net.minecraft.stats.StatBase;
 import net.minecraft.stats.StatFileWriter;
@@ -51,6 +37,11 @@ import net.minecraft.util.MovementInput;
 import net.minecraft.util.ResourceLocation;
 import net.minecraft.world.IInteractionObject;
 import net.minecraft.world.World;
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.events.ChatOutputEvent;
+import tk.wurst_client.events.UpdateEvent;
+import tk.wurst_client.mods.*;
+import tk.wurst_client.utils.EntityUtils;
 
 public class EntityPlayerSP extends AbstractClientPlayer
 {
@@ -134,6 +125,9 @@ public class EntityPlayerSP extends AbstractClientPlayer
     {
         if (this.worldObj.isBlockLoaded(new BlockPos(this.posX, 0.0D, this.posZ)))
         {
+        	//TODO: Client
+        	WurstClient.INSTANCE.events.fireEvent(UpdateEvent.class, new UpdateEvent());
+        	
             super.onUpdate();
 
             if (this.isRiding())
@@ -143,12 +137,12 @@ public class EntityPlayerSP extends AbstractClientPlayer
             }
             else
             {
-                this.func_175161_p();
+                this.sendMotionUpdates();
             }
         }
     }
 
-    public void func_175161_p()
+    public void sendMotionUpdates()
     {
         boolean var1 = this.isSprinting();
 
@@ -184,36 +178,100 @@ public class EntityPlayerSP extends AbstractClientPlayer
 
         if (this.func_175160_A())
         {
+        	// TODO: Client
+        	float yaw;
+        	float pitch;
+        	if(EntityUtils.lookChanged)
+        	{
+        		yaw =  EntityUtils.yaw;
+        		pitch = EntityUtils.pitch;
+        		EntityUtils.lookChanged = false;
+        	}else
+        	{
+        		yaw =  rotationYaw;
+        		pitch = rotationPitch;
+        	}
+        	
             double var3 = this.posX - this.field_175172_bI;
             double var5 = this.getEntityBoundingBox().minY - this.field_175166_bJ;
             double var7 = this.posZ - this.field_175167_bK;
-            double var9 = (double)(this.rotationYaw - this.field_175164_bL);
-            double var11 = (double)(this.rotationPitch - this.field_175165_bM);
+            double var9 = (double)(yaw - this.field_175164_bL);
+            double var11 = (double)(pitch - this.field_175165_bM);
             boolean var13 = var3 * var3 + var5 * var5 + var7 * var7 > 9.0E-4D || this.field_175168_bP >= 20;
             boolean var14 = var9 != 0.0D || var11 != 0.0D;
 
-            if (this.ridingEntity == null)
+			// TODO: Client
+			// Stops motion updates
+			if(WurstClient.INSTANCE.mods.remoteViewMod.isActive()
+				|| WurstClient.INSTANCE.mods.freecamMod.isActive()
+				|| (WurstClient.INSTANCE.mods.potionSaverMod.isActive()
+					&& !getActivePotionEffects().isEmpty() && motionX == 0 && motionZ == 0))
 			{	
+				
+			}else if(WurstClient.INSTANCE.mods.blinkMod.isActive())
+            {//Redirects motion updates to the Blink queue
             	if (var13 && var14)
                 {
-                    this.sendQueue.addToSendQueue(new C03PacketPlayer.C06PacketPlayerPosLook(this.posX, this.getEntityBoundingBox().minY, this.posZ, this.rotationYaw, this.rotationPitch, this.onGround));
+                    BlinkMod.addToBlinkQueue(new C03PacketPlayer.C06PacketPlayerPosLook(this.posX, this.getEntityBoundingBox().minY, this.posZ, yaw, pitch, this.onGround));
                 }
                 else if (var13)
                 {
-                    this.sendQueue.addToSendQueue(new C03PacketPlayer.C04PacketPlayerPosition(this.posX, this.getEntityBoundingBox().minY, this.posZ, this.onGround));
+                	BlinkMod.addToBlinkQueue(new C03PacketPlayer.C04PacketPlayerPosition(this.posX, this.getEntityBoundingBox().minY, this.posZ, this.onGround));
                 }
                 else if (var14)
                 {
-                    this.sendQueue.addToSendQueue(new C03PacketPlayer.C05PacketPlayerLook(this.rotationYaw, this.rotationPitch, this.onGround));
+                	BlinkMod.addToBlinkQueue(new C03PacketPlayer.C05PacketPlayerLook(yaw, pitch, this.onGround));
                 }
                 else
                 {
-                    this.sendQueue.addToSendQueue(new C03PacketPlayer(this.onGround));
+                	BlinkMod.addToBlinkQueue(new C03PacketPlayer(this.onGround));
                 }
+			}else if(WurstClient.INSTANCE.mods.jesusMod.isActive()
+				&& WurstClient.INSTANCE.mods.yesCheatMod.isActive()
+				&& !isInWater()
+				&& Minecraft.getMinecraft().theWorld
+					.getBlockState(new BlockPos(this).add(0, -1, 0)).getBlock()
+					.getMaterial() == Material.water)
+			{
+				if(var13)
+				{
+					this.sendQueue
+						.addToSendQueue(new C03PacketPlayer.C06PacketPlayerPosLook(
+							this.posX, this.getEntityBoundingBox().minY
+								+ (ticksExisted % 2 == 0 ? 0.05 : -0.05),
+							this.posZ, yaw, pitch,
+							this.onGround));
+				}else if(var14)
+				{
+					this.sendQueue
+						.addToSendQueue(new C03PacketPlayer.C05PacketPlayerLook(
+							yaw, pitch, this.onGround));
+				}else
+				{
+					this.sendQueue.addToSendQueue(new C03PacketPlayer(
+						this.onGround));
+				}
+			}else if(this.ridingEntity == null)
+            {
+                if (var13 && var14)
+                {
+                    this.sendQueue.addToSendQueue(new C03PacketPlayer.C06PacketPlayerPosLook(this.posX, this.getEntityBoundingBox().minY, this.posZ, yaw, pitch, this.onGround));
+                }
+                else if (var13)
+                {
+                    this.sendQueue.addToSendQueue(new C03PacketPlayer.C04PacketPlayerPosition(this.posX, this.getEntityBoundingBox().minY, this.posZ, this.onGround));
+                }
+                else if (var14)
+                {
+                    this.sendQueue.addToSendQueue(new C03PacketPlayer.C05PacketPlayerLook(yaw, pitch, this.onGround));
                 }
                 else
                 {
-                this.sendQueue.addToSendQueue(new C03PacketPlayer.C06PacketPlayerPosLook(this.motionX, -999.0D, this.motionZ, this.rotationYaw, this.rotationPitch, this.onGround));
+                    this.sendQueue.addToSendQueue(new C03PacketPlayer(this.onGround));
+                }
+            }else
+            {
+                this.sendQueue.addToSendQueue(new C03PacketPlayer.C06PacketPlayerPosLook(this.motionX, -999.0D, this.motionZ, yaw, pitch, this.onGround));
                 var13 = false;
             }
 
@@ -255,10 +313,32 @@ public class EntityPlayerSP extends AbstractClientPlayer
      */
     public void sendChatMessage(String p_71165_1_)
     {
+        //TODO: Client
+      	ChatOutputEvent event = new ChatOutputEvent(p_71165_1_, false);
+      	WurstClient.INSTANCE.commands.onSentMessage(event);
+      	WurstClient.INSTANCE.events.fireEvent(ChatOutputEvent.class, event);
+      	if(event.isCancelled())
+      		return;
+      	
         this.sendQueue.addToSendQueue(new C01PacketChatMessage(p_71165_1_));
     }
 
     /**
+     * Sends a chat message from the player. Args: chatMessage
+     */
+    public void sendAutomaticChatMessage(String message)
+    {
+        //TODO: Client
+      	ChatOutputEvent event = new ChatOutputEvent(message, true);
+      	WurstClient.INSTANCE.commands.onSentMessage(event);
+      	WurstClient.INSTANCE.events.fireEvent(ChatOutputEvent.class, event);
+      	if(event.isCancelled())
+      		return;
+      	
+        this.sendQueue.addToSendQueue(new C01PacketChatMessage(message));
+    }
+
+    /**
      * Swings the item the player is holding.
      */
     public void swingItem()
@@ -738,7 +818,9 @@ public class EntityPlayerSP extends AbstractClientPlayer
         boolean var4 = this.movementInput.moveForward >= var3;
         this.movementInput.updatePlayerMoveState();
 
-        if (this.isUsingItem() && !this.isRiding())
+        //TODO: Client
+        if (this.isUsingItem() && !this.isRiding()
+        	&& !WurstClient.INSTANCE.mods.noSlowdownMod.isActive())
         {
             this.movementInput.moveStrafe *= 0.2F;
             this.movementInput.moveForward *= 0.2F;
diff --git a/src/net/minecraft/client/gui/FontRenderer.java b/src/net/minecraft/client/gui/FontRenderer.java
index 2d4215d..2344f7e 100644
--- a/src/net/minecraft/client/gui/FontRenderer.java
+++ b/src/net/minecraft/client/gui/FontRenderer.java
@@ -1,8 +1,5 @@
 package net.minecraft.client.gui;
 
-import com.ibm.icu.text.ArabicShaping;
-import com.ibm.icu.text.ArabicShapingException;
-import com.ibm.icu.text.Bidi;
 import java.awt.image.BufferedImage;
 import java.io.IOException;
 import java.io.InputStream;
@@ -10,7 +7,9 @@ import java.util.Arrays;
 import java.util.Iterator;
 import java.util.List;
 import java.util.Random;
+
 import net.minecraft.client.Minecraft;
+import net.minecraft.client.network.NetworkPlayerInfo;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.client.renderer.Tessellator;
 import net.minecraft.client.renderer.WorldRenderer;
@@ -20,9 +19,17 @@ import net.minecraft.client.resources.IResourceManager;
 import net.minecraft.client.resources.IResourceManagerReloadListener;
 import net.minecraft.client.settings.GameSettings;
 import net.minecraft.util.ResourceLocation;
+
 import org.apache.commons.io.IOUtils;
 import org.lwjgl.opengl.GL11;
 
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.mods.NameProtectMod;
+
+import com.ibm.icu.text.ArabicShaping;
+import com.ibm.icu.text.ArabicShapingException;
+import com.ibm.icu.text.Bidi;
+
 public class FontRenderer implements IResourceManagerReloadListener
 {
     private static final ResourceLocation[] unicodePageLocations = new ResourceLocation[256];
@@ -317,9 +324,9 @@ public class FontRenderer implements IResourceManagerReloadListener
         }
     }
 
-    public int func_175063_a(String p_175063_1_, float p_175063_2_, float p_175063_3_, int p_175063_4_)
+    public int drawStringWithShadow(String p_175063_1_, float p_175063_2_, float p_175063_3_, int p_175063_4_)
     {
-        return this.func_175065_a(p_175063_1_, p_175063_2_, p_175063_3_, p_175063_4_, true);
+        return this.drawString(p_175063_1_, p_175063_2_, p_175063_3_, p_175063_4_, true);
     }
 
     /**
@@ -327,11 +334,39 @@ public class FontRenderer implements IResourceManagerReloadListener
      */
     public int drawString(String text, int x, int y, int color)
     {
-        return this.func_175065_a(text, (float)x, (float)y, color, false);
+        return this.drawString(text, (float)x, (float)y, color, false);
     }
 
-    public int func_175065_a(String p_175065_1_, float p_175065_2_, float p_175065_3_, int p_175065_4_, boolean p_175065_5_)
+    public int drawString(String p_175065_1_, float p_175065_2_, float p_175065_3_, int p_175065_4_, boolean p_175065_5_)
+    {
+		// TODO: Client
+		if(Minecraft.getMinecraft().getNetHandler() != null
+			&& WurstClient.INSTANCE.mods.nameProtectMod.isActive())
+		{
+			Iterator itr =
+				Minecraft.getMinecraft().getNetHandler().getPlayerInfo()
+					.iterator();
+			int i = 0;
+			while(itr.hasNext())
+			{
+				NetworkPlayerInfo info = (NetworkPlayerInfo)itr.next();
+				String name = info.getPlayerNameForReal();
+				i++;
+				if(p_175065_1_.contains(Minecraft.getMinecraft().session
+					.getUsername()))
+				{
+					p_175065_1_ =
+						p_175065_1_.replace(
+							Minecraft.getMinecraft().session.getUsername(),
+							"oMer");
+				}else if(p_175065_1_.contains(name))
 				{
+					p_175065_1_ =
+						p_175065_1_.replace(name, "oPlayer" + i + "r");
+				}
+			}
+		}
+    	
         GlStateManager.enableAlpha();
         this.resetStyles();
         int var6;
diff --git a/src/net/minecraft/client/gui/Gui.java b/src/net/minecraft/client/gui/Gui.java
index b829f4c..8172ae9 100644
--- a/src/net/minecraft/client/gui/Gui.java
+++ b/src/net/minecraft/client/gui/Gui.java
@@ -107,10 +107,10 @@ public class Gui
         Tessellator var15 = Tessellator.getInstance();
         WorldRenderer var16 = var15.getWorldRenderer();
         var16.startDrawingQuads();
-        var16.func_178960_a(var8, var9, var10, var7);
+        var16.setColorRGBA_F(var8, var9, var10, var7);
         var16.addVertex((double)right, (double)top, (double)this.zLevel);
         var16.addVertex((double)left, (double)top, (double)this.zLevel);
-        var16.func_178960_a(var12, var13, var14, var11);
+        var16.setColorRGBA_F(var12, var13, var14, var11);
         var16.addVertex((double)left, (double)bottom, (double)this.zLevel);
         var16.addVertex((double)right, (double)bottom, (double)this.zLevel);
         var15.draw();
@@ -125,7 +125,7 @@ public class Gui
      */
     public void drawCenteredString(FontRenderer fontRendererIn, String text, int x, int y, int color)
     {
-        fontRendererIn.func_175063_a(text, (float)(x - fontRendererIn.getStringWidth(text) / 2), (float)y, color);
+        fontRendererIn.drawStringWithShadow(text, (float)(x - fontRendererIn.getStringWidth(text) / 2), (float)y, color);
     }
 
     /**
@@ -133,7 +133,7 @@ public class Gui
      */
     public void drawString(FontRenderer fontRendererIn, String text, int x, int y, int color)
     {
-        fontRendererIn.func_175063_a(text, (float)x, (float)y, color);
+        fontRendererIn.drawStringWithShadow(text, (float)x, (float)y, color);
     }
 
     /**
diff --git a/src/net/minecraft/client/gui/GuiButton.java b/src/net/minecraft/client/gui/GuiButton.java
index e7f6171..c745728 100644
--- a/src/net/minecraft/client/gui/GuiButton.java
+++ b/src/net/minecraft/client/gui/GuiButton.java
@@ -3,6 +3,8 @@ package net.minecraft.client.gui;
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.audio.PositionedSoundRecord;
 import net.minecraft.client.audio.SoundHandler;
+import net.minecraft.client.gui.FontRenderer;
+import net.minecraft.client.gui.Gui;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.util.ResourceLocation;
 
@@ -41,34 +43,31 @@ public class GuiButton extends Gui
 
 	public GuiButton(int buttonId, int x, int y, int widthIn, int heightIn, String buttonText)
 	{
-        this.width = 200;
-        this.height = 20;
-        this.enabled = true;
-        this.visible = true;
-        this.id = buttonId;
-        this.xPosition = x;
-        this.yPosition = y;
-        this.width = widthIn;
-        this.height = heightIn;
-        this.displayString = buttonText;
+		width = 200;
+		height = 20;
+		enabled = true;
+		visible = true;
+		id = buttonId;
+		xPosition = x;
+		yPosition = y;
+		width = widthIn;
+		height = heightIn;
+		displayString = buttonText;
 	}
 
 	/**
-     * Returns 0 if the button is disabled, 1 if the mouse is NOT hovering over this button and 2 if it IS hovering over
+	 * Returns 0 if the button is disabled, 1 if the mouse is NOT hovering over
+	 * this button and 2 if it IS hovering over
 	 * this button.
 	 */
 	protected int getHoverState(boolean mouseOver)
 	{
 		byte var2 = 1;
 
-        if (!this.enabled)
-        {
+		if(!enabled)
 			var2 = 0;
-        }
-        else if (mouseOver)
-        {
+		else if(mouseOver)
 			var2 = 2;
-        }
 
 		return var2;
 	}
@@ -78,51 +77,67 @@ public class GuiButton extends Gui
 	 */
 	public void drawButton(Minecraft mc, int mouseX, int mouseY)
 	{
-        if (this.visible)
+		if(visible)
 		{
 			FontRenderer var4 = mc.fontRendererObj;
 			mc.getTextureManager().bindTexture(buttonTextures);
 			GlStateManager.color(1.0F, 1.0F, 1.0F, 1.0F);
-            this.hovered = mouseX >= this.xPosition && mouseY >= this.yPosition && mouseX < this.xPosition + this.width && mouseY < this.yPosition + this.height;
-            int var5 = this.getHoverState(this.hovered);
+			hovered = mouseX >= xPosition && mouseY >= yPosition && mouseX < xPosition + width && mouseY < yPosition + height;
+			int var5 = getHoverState(hovered);
 			GlStateManager.enableBlend();
 			GlStateManager.tryBlendFuncSeparate(770, 771, 1, 0);
 			GlStateManager.blendFunc(770, 771);
-            this.drawTexturedModalRect(this.xPosition, this.yPosition, 0, 46 + var5 * 20, this.width / 2, this.height);
-            this.drawTexturedModalRect(this.xPosition + this.width / 2, this.yPosition, 200 - this.width / 2, 46 + var5 * 20, this.width / 2, this.height);
-            this.mouseDragged(mc, mouseX, mouseY);
-            int var6 = 14737632;
 
-            if (!this.enabled)
+			/*
+			 * Copyright  2014 - 2015 | Alexander01998 | All rights reserved.
+			 *
+			 * This Source Code Form is subject to the terms of the Mozilla
+			 * Public
+			 * License, v. 2.0. If a copy of the MPL was not distributed with
+			 * this
+			 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
+			 */
 			{
-                var6 = 10526880;
+				drawTexturedModalRect(xPosition, yPosition, 0, 46 + var5 * 20, width / 2, height / 2);
+				drawTexturedModalRect(xPosition + width / 2, yPosition, 200 - width / 2, 46 + var5 * 20, width / 2, height / 2);
+				drawTexturedModalRect(xPosition, yPosition + height / 2, 0, 46 + var5 * 20 + 20 - height / 2, width / 2, height / 2);
+				drawTexturedModalRect(xPosition + width / 2, yPosition + height / 2, 200 - width / 2, 46 + var5 * 20 + 20 - height / 2, width / 2, height / 2);
 			}
-            else if (this.hovered)
-            {
+
+			mouseDragged(mc, mouseX, mouseY);
+			int var6 = 14737632;
+
+			if(!enabled)
+				var6 = 10526880;
+			else if(hovered)
 				var6 = 16777120;
-            }
 
-            this.drawCenteredString(var4, this.displayString, this.xPosition + this.width / 2, this.yPosition + (this.height - 8) / 2, var6);
+			drawCenteredString(var4, displayString, xPosition + width / 2, yPosition + (height - 8) / 2, var6);
 		}
 	}
 
 	/**
-     * Fired when the mouse button is dragged. Equivalent of MouseListener.mouseDragged(MouseEvent e).
+	 * Fired when the mouse button is dragged. Equivalent of
+	 * MouseListener.mouseDragged(MouseEvent e).
 	 */
-    protected void mouseDragged(Minecraft mc, int mouseX, int mouseY) {}
+	protected void mouseDragged(Minecraft mc, int mouseX, int mouseY)
+	{}
 
 	/**
-     * Fired when the mouse button is released. Equivalent of MouseListener.mouseReleased(MouseEvent e).
+	 * Fired when the mouse button is released. Equivalent of
+	 * MouseListener.mouseReleased(MouseEvent e).
 	 */
-    public void mouseReleased(int mouseX, int mouseY) {}
+	public void mouseReleased(int mouseX, int mouseY)
+	{}
 
 	/**
-     * Returns true if the mouse has been pressed on this control. Equivalent of MouseListener.mousePressed(MouseEvent
+	 * Returns true if the mouse has been pressed on this control. Equivalent of
+	 * MouseListener.mousePressed(MouseEvent
 	 * e).
 	 */
 	public boolean mousePressed(Minecraft mc, int mouseX, int mouseY)
 	{
-        return this.enabled && this.visible && mouseX >= this.xPosition && mouseY >= this.yPosition && mouseX < this.xPosition + this.width && mouseY < this.yPosition + this.height;
+		return enabled && visible && mouseX >= xPosition && mouseY >= yPosition && mouseX < xPosition + width && mouseY < yPosition + height;
 	}
 
 	/**
@@ -130,10 +145,11 @@ public class GuiButton extends Gui
 	 */
 	public boolean isMouseOver()
 	{
-        return this.hovered;
+		return hovered;
 	}
 
-    public void drawButtonForegroundLayer(int mouseX, int mouseY) {}
+	public void drawButtonForegroundLayer(int mouseX, int mouseY)
+	{}
 
 	public void playPressSound(SoundHandler soundHandlerIn)
 	{
@@ -142,11 +158,11 @@ public class GuiButton extends Gui
 
 	public int getButtonWidth()
 	{
-        return this.width;
+		return width;
 	}
 
 	public void func_175211_a(int p_175211_1_)
 	{
-        this.width = p_175211_1_;
+		width = p_175211_1_;
 	}
 }
diff --git a/src/net/minecraft/client/gui/GuiButtonLanguage.java b/src/net/minecraft/client/gui/GuiButtonLanguage.java
index 3ac6cf9..7f10253 100644
--- a/src/net/minecraft/client/gui/GuiButtonLanguage.java
+++ b/src/net/minecraft/client/gui/GuiButtonLanguage.java
@@ -1,6 +1,7 @@
 package net.minecraft.client.gui;
 
 import net.minecraft.client.Minecraft;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.renderer.GlStateManager;
 
 public class GuiButtonLanguage extends GuiButton
diff --git a/src/net/minecraft/client/gui/GuiButtonRealmsProxy.java b/src/net/minecraft/client/gui/GuiButtonRealmsProxy.java
index 4f79373..8c1bbf7 100644
--- a/src/net/minecraft/client/gui/GuiButtonRealmsProxy.java
+++ b/src/net/minecraft/client/gui/GuiButtonRealmsProxy.java
@@ -1,6 +1,7 @@
 package net.minecraft.client.gui;
 
 import net.minecraft.client.Minecraft;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.realms.RealmsButton;
 
 public class GuiButtonRealmsProxy extends GuiButton
diff --git a/src/net/minecraft/client/gui/GuiChat.java b/src/net/minecraft/client/gui/GuiChat.java
index 7aeb91d..cf9de59 100644
--- a/src/net/minecraft/client/gui/GuiChat.java
+++ b/src/net/minecraft/client/gui/GuiChat.java
@@ -255,7 +255,7 @@ public class GuiChat extends GuiScreen
 
             if (this.mc.objectMouseOver != null && this.mc.objectMouseOver.typeOfHit == MovingObjectPosition.MovingObjectType.BLOCK)
             {
-                var3 = this.mc.objectMouseOver.func_178782_a();
+                var3 = this.mc.objectMouseOver.getBlockPos();
             }
 
             this.mc.thePlayer.sendQueue.addToSendQueue(new C14PacketTabComplete(p_146405_1_, var3));
diff --git a/src/net/minecraft/client/gui/GuiCommandBlock.java b/src/net/minecraft/client/gui/GuiCommandBlock.java
index a0c36ff..be13127 100644
--- a/src/net/minecraft/client/gui/GuiCommandBlock.java
+++ b/src/net/minecraft/client/gui/GuiCommandBlock.java
@@ -1,12 +1,16 @@
 package net.minecraft.client.gui;
 
 import io.netty.buffer.Unpooled;
+
 import java.io.IOException;
+
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.resources.I18n;
 import net.minecraft.command.server.CommandBlockLogic;
 import net.minecraft.network.PacketBuffer;
 import net.minecraft.network.play.client.C17PacketCustomPayload;
 import net.minecraft.util.IChatComponent;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 import org.lwjgl.input.Keyboard;
diff --git a/src/net/minecraft/client/gui/GuiConfirmOpenLink.java b/src/net/minecraft/client/gui/GuiConfirmOpenLink.java
index 0f730f3..bd417c3 100644
--- a/src/net/minecraft/client/gui/GuiConfirmOpenLink.java
+++ b/src/net/minecraft/client/gui/GuiConfirmOpenLink.java
@@ -1,6 +1,8 @@
 package net.minecraft.client.gui;
 
 import java.io.IOException;
+
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.resources.I18n;
 
 public class GuiConfirmOpenLink extends GuiYesNo
diff --git a/src/net/minecraft/client/gui/GuiControls.java b/src/net/minecraft/client/gui/GuiControls.java
index 0c3a8d7..9a61dc0 100644
--- a/src/net/minecraft/client/gui/GuiControls.java
+++ b/src/net/minecraft/client/gui/GuiControls.java
@@ -1,7 +1,9 @@
 package net.minecraft.client.gui;
 
 import java.io.IOException;
+
 import net.minecraft.client.Minecraft;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.resources.I18n;
 import net.minecraft.client.settings.GameSettings;
 import net.minecraft.client.settings.KeyBinding;
diff --git a/src/net/minecraft/client/gui/GuiCreateFlatWorld.java b/src/net/minecraft/client/gui/GuiCreateFlatWorld.java
index 73bddda..d22fcfe 100644
--- a/src/net/minecraft/client/gui/GuiCreateFlatWorld.java
+++ b/src/net/minecraft/client/gui/GuiCreateFlatWorld.java
@@ -1,8 +1,10 @@
 package net.minecraft.client.gui;
 
 import java.io.IOException;
+
 import net.minecraft.block.Block;
 import net.minecraft.block.state.IBlockState;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.client.renderer.RenderHelper;
 import net.minecraft.client.renderer.Tessellator;
@@ -147,7 +149,7 @@ public class GuiCreateFlatWorld extends GuiScreen
             if (p_148225_3_ != null && p_148225_3_.getItem() != null)
             {
                 RenderHelper.enableGUIStandardItemLighting();
-                GuiCreateFlatWorld.this.itemRender.func_175042_a(p_148225_3_, p_148225_1_ + 2, p_148225_2_ + 2);
+                GuiCreateFlatWorld.this.itemRender.func_180450_b(p_148225_3_, p_148225_1_ + 2, p_148225_2_ + 2);
                 RenderHelper.disableStandardItemLighting();
             }
 
diff --git a/src/net/minecraft/client/gui/GuiCreateWorld.java b/src/net/minecraft/client/gui/GuiCreateWorld.java
index 276d99b..9f6238e 100644
--- a/src/net/minecraft/client/gui/GuiCreateWorld.java
+++ b/src/net/minecraft/client/gui/GuiCreateWorld.java
@@ -2,12 +2,15 @@ package net.minecraft.client.gui;
 
 import java.io.IOException;
 import java.util.Random;
+
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.resources.I18n;
 import net.minecraft.util.ChatAllowedCharacters;
 import net.minecraft.world.WorldSettings;
 import net.minecraft.world.WorldType;
 import net.minecraft.world.storage.ISaveFormat;
 import net.minecraft.world.storage.WorldInfo;
+
 import org.apache.commons.lang3.StringUtils;
 import org.lwjgl.input.Keyboard;
 
@@ -39,6 +42,7 @@ public class GuiCreateWorld extends GuiScreen
     private String field_146330_J;
     private int field_146331_K;
     public String field_146334_a = "";
+	private Random random = new Random();
     private static final String[] field_146327_L = new String[] {"CON", "COM", "PRN", "AUX", "CLOCK$", "NUL", "COM1", "COM2", "COM3", "COM4", "COM5", "COM6", "COM7", "COM8", "COM9", "LPT1", "LPT2", "LPT3", "LPT4", "LPT5", "LPT6", "LPT7", "LPT8", "LPT9"};
     private static final String __OBFID = "CL_00000689";
 
@@ -199,7 +203,7 @@ public class GuiCreateWorld extends GuiScreen
                 }
 
                 this.field_146345_x = true;
-                long var2 = (new Random()).nextLong();
+                long var2 = random .nextLong();
                 String var4 = this.field_146335_h.getText();
 
                 if (!StringUtils.isEmpty(var4))
diff --git a/src/net/minecraft/client/gui/GuiCustomizeSkin.java b/src/net/minecraft/client/gui/GuiCustomizeSkin.java
index 4f7b75d..f7d93a3 100644
--- a/src/net/minecraft/client/gui/GuiCustomizeSkin.java
+++ b/src/net/minecraft/client/gui/GuiCustomizeSkin.java
@@ -1,6 +1,8 @@
 package net.minecraft.client.gui;
 
 import java.io.IOException;
+
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.resources.I18n;
 import net.minecraft.entity.player.EnumPlayerModelParts;
 
diff --git a/src/net/minecraft/client/gui/GuiCustomizeWorldScreen.java b/src/net/minecraft/client/gui/GuiCustomizeWorldScreen.java
index 94b72e0..bd1c205 100644
--- a/src/net/minecraft/client/gui/GuiCustomizeWorldScreen.java
+++ b/src/net/minecraft/client/gui/GuiCustomizeWorldScreen.java
@@ -2,8 +2,11 @@ package net.minecraft.client.gui;
 
 import com.google.common.base.Predicate;
 import com.google.common.primitives.Floats;
+
 import java.io.IOException;
 import java.util.Random;
+
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.client.renderer.Tessellator;
 import net.minecraft.client.renderer.WorldRenderer;
@@ -962,7 +965,7 @@ public class GuiCustomizeWorldScreen extends GuiScreen implements GuiSlider.Form
             GlStateManager.color(1.0F, 1.0F, 1.0F, 1.0F);
             float var8 = 32.0F;
             var7.startDrawingQuads();
-            var7.func_178991_c(4210752);
+            var7.setColorOpaque_I(4210752);
             var7.addVertexWithUV((double)(this.width / 2 - 90), 185.0D, 0.0D, 0.0D, 2.65625D);
             var7.addVertexWithUV((double)(this.width / 2 + 90), 185.0D, 0.0D, 5.625D, 2.65625D);
             var7.addVertexWithUV((double)(this.width / 2 + 90), 100.0D, 0.0D, 5.625D, 0.0D);
diff --git a/src/net/minecraft/client/gui/GuiDisconnected.java b/src/net/minecraft/client/gui/GuiDisconnected.java
index 957deda..6c447d3 100644
--- a/src/net/minecraft/client/gui/GuiDisconnected.java
+++ b/src/net/minecraft/client/gui/GuiDisconnected.java
@@ -3,9 +3,17 @@ package net.minecraft.client.gui;
 import java.io.IOException;
 import java.util.Iterator;
 import java.util.List;
+
+import net.minecraft.client.multiplayer.GuiConnecting;
 import net.minecraft.client.resources.I18n;
 import net.minecraft.util.IChatComponent;
 
+import org.apache.logging.log4j.LogManager;
+
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.gui.main.GuiWurstMainMenu;
+import tk.wurst_client.hooks.ServerHook;
+
 public class GuiDisconnected extends GuiScreen
 {
     private String reason;
@@ -13,6 +21,8 @@ public class GuiDisconnected extends GuiScreen
     private List multilineMessage;
     private final GuiScreen parentScreen;
     private int field_175353_i;
+    //TODO: Client
+	private int autoReconnectTimer;
     private static final String __OBFID = "CL_00000693";
 
     public GuiDisconnected(GuiScreen p_i45020_1_, String p_i45020_2_, IChatComponent p_i45020_3_)
@@ -20,6 +30,10 @@ public class GuiDisconnected extends GuiScreen
 		this.parentScreen = p_i45020_1_;
 		this.reason = I18n.format(p_i45020_2_, new Object[0]);
 		this.message = p_i45020_3_;
+		LogManager.getLogger().info(
+			"Disconnected.\n    Message: "
+				+ (message == null ? null : message.getUnformattedText())
+				+ "\n    Reason: " + reason);
 	}
 
     /**
@@ -37,13 +51,82 @@ public class GuiDisconnected extends GuiScreen
         this.multilineMessage = this.fontRendererObj.listFormattedStringToWidth(this.message.getFormattedText(), this.width - 50);
         this.field_175353_i = this.multilineMessage.size() * this.fontRendererObj.FONT_HEIGHT;
         this.buttonList.add(new GuiButton(0, this.width / 2 - 100, this.height / 2 + this.field_175353_i / 2 + this.fontRendererObj.FONT_HEIGHT, I18n.format("gui.toMenu", new Object[0])));
+        
+		// TODO: Client
+		this.buttonList.add(new GuiButton(1, this.width / 2 - 100,
+			this.height / 4 + 144 + 12, "Reconnect"));
+		this.buttonList.add(new GuiButton(2, this.width / 2 - 100,
+			this.height / 4 + 168 + 12, "AutoReconnect"));
+		if(message.getUnformattedText().toLowerCase().contains("whitelist")
+			|| message.getUnformattedText().toLowerCase()
+				.contains("white-list"))
+			if(parentScreen instanceof GuiMultiplayer
+				&& ((GuiMultiplayer)parentScreen).serverListSelector
+					.getSelectedServer() != -1)
+				this.buttonList.add(new GuiButton(3, this.width / 2 - 100,
+					this.height / 4 + 192 + 12, "4Delete Serverr"));
+		if(WurstClient.INSTANCE.options.autoReconnect)
+			this.autoReconnectTimer = 100;
+    }
+
+    //TODO: Client
+    /**
+     * Called from the main game loop to update the screen.
+     */
+    public void updateScreen()
+    {
+        super.updateScreen();
+        if(WurstClient.INSTANCE.options.autoReconnect)
+		{
+			if(buttonList.size() < 2)
+				return;
+			((GuiButton)this.buttonList.get(2)).displayString =
+				"AutoReconnect (" + ((this.autoReconnectTimer / 20) + 1) + ")";
+			if(this.autoReconnectTimer > 0)
+				this.autoReconnectTimer--;
+			else
+			{
+				try
+				{
+					this.actionPerformed((GuiButton)this.buttonList.get(1));
+				}catch(IOException e)
+				{
+					e.printStackTrace();
+				}
+			}
+		}
+        else
+        {
+        	((GuiButton)this.buttonList.get(2)).displayString = "AutoReconnect";
+        }
     }
 
     protected void actionPerformed(GuiButton button) throws IOException
     {
         if (button.id == 0)
         {
-            this.mc.displayGuiScreen(this.parentScreen);
+            this.mc.displayGuiScreen(new GuiMultiplayer(new GuiWurstMainMenu()));
+          //TODO: Client
+        }else if (button.id == 1)
+        {
+        	ServerHook.reconnectToLastServer(this);
+        }else if (button.id == 2)
+        {
+        	WurstClient.INSTANCE.options.autoReconnect = !WurstClient.INSTANCE.options.autoReconnect;
+        	WurstClient.INSTANCE.files.saveOptions();
+        	if(WurstClient.INSTANCE.options.autoReconnect)
+        		this.autoReconnectTimer = 100;
+        }else if(button.id == 3)
+		{
+			GuiMultiplayer servers = (GuiMultiplayer)parentScreen;
+			servers.savedServerList
+				.removeServerData(servers.serverListSelector
+					.getSelectedServer());
+			servers.savedServerList.saveServerList();
+			servers.serverListSelector.setSelectedServer(-1);
+			servers.serverListSelector
+				.func_148195_a(servers.savedServerList);
+			mc.displayGuiScreen(servers);
 		}
     }
 
diff --git a/src/net/minecraft/client/gui/GuiEnchantment.java b/src/net/minecraft/client/gui/GuiEnchantment.java
index f1f80fa..4c27915 100644
--- a/src/net/minecraft/client/gui/GuiEnchantment.java
+++ b/src/net/minecraft/client/gui/GuiEnchantment.java
@@ -209,7 +209,7 @@ public class GuiEnchantment extends GuiContainer
                 }
 
                 var20 = this.mc.fontRendererObj;
-                var20.func_175063_a(var19, (float)(var15 + 86 - var20.getStringWidth(var19)), (float)(var5 + 16 + 19 * var13 + 7), var21);
+                var20.drawStringWithShadow(var19, (float)(var15 + 86 - var20.getStringWidth(var19)), (float)(var5 + 16 + 19 * var13 + 7), var21);
             }
         }
     }
@@ -234,7 +234,7 @@ public class GuiEnchantment extends GuiContainer
                 ArrayList var10 = Lists.newArrayList();
                 String var11;
 
-                if (var8 >= 0 && Enchantment.func_180306_c(var8 & 255) != null)
+                if (Enchantment.func_180306_c(var8 & 255) != null)
                 {
                     var11 = Enchantment.func_180306_c(var8 & 255).getTranslatedName((var8 & 65280) >> 8);
                     var10.add(EnumChatFormatting.WHITE.toString() + EnumChatFormatting.ITALIC.toString() + I18n.format("container.enchant.clue", new Object[] {var11}));
@@ -242,10 +242,7 @@ public class GuiEnchantment extends GuiContainer
 
                 if (!var4)
                 {
-                    if (var8 >= 0)
-                    {
                     var10.add("");
-                    }
 
                     if (this.mc.thePlayer.experienceLevel < var7)
                     {
diff --git a/src/net/minecraft/client/gui/GuiErrorScreen.java b/src/net/minecraft/client/gui/GuiErrorScreen.java
index b886d7d..302f199 100644
--- a/src/net/minecraft/client/gui/GuiErrorScreen.java
+++ b/src/net/minecraft/client/gui/GuiErrorScreen.java
@@ -1,6 +1,8 @@
 package net.minecraft.client.gui;
 
 import java.io.IOException;
+
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.resources.I18n;
 
 public class GuiErrorScreen extends GuiScreen
diff --git a/src/net/minecraft/client/gui/GuiFlatPresets.java b/src/net/minecraft/client/gui/GuiFlatPresets.java
index 47e1373..d898fa2 100644
--- a/src/net/minecraft/client/gui/GuiFlatPresets.java
+++ b/src/net/minecraft/client/gui/GuiFlatPresets.java
@@ -2,11 +2,14 @@ package net.minecraft.client.gui;
 
 import com.google.common.collect.Lists;
 import com.google.common.collect.Maps;
+
 import java.io.IOException;
 import java.util.Arrays;
 import java.util.Iterator;
 import java.util.List;
+
 import net.minecraft.block.BlockTallGrass;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.client.renderer.RenderHelper;
 import net.minecraft.client.renderer.Tessellator;
@@ -19,6 +22,7 @@ import net.minecraft.item.ItemStack;
 import net.minecraft.world.biome.BiomeGenBase;
 import net.minecraft.world.gen.FlatGeneratorInfo;
 import net.minecraft.world.gen.FlatLayerInfo;
+
 import org.lwjgl.input.Keyboard;
 
 public class GuiFlatPresets extends GuiScreen
@@ -222,7 +226,7 @@ public class GuiFlatPresets extends GuiScreen
             this.func_148173_e(p_178054_1_ + 1, p_178054_2_ + 1);
             GlStateManager.enableRescaleNormal();
             RenderHelper.enableGUIStandardItemLighting();
-            GuiFlatPresets.this.itemRender.func_175042_a(new ItemStack(p_178054_3_, 1, p_178054_4_), p_178054_1_ + 2, p_178054_2_ + 2);
+            GuiFlatPresets.this.itemRender.func_180450_b(new ItemStack(p_178054_3_, 1, p_178054_4_), p_178054_1_ + 2, p_178054_2_ + 2);
             RenderHelper.disableStandardItemLighting();
             GlStateManager.disableRescaleNormal();
         }
diff --git a/src/net/minecraft/client/gui/GuiGameOver.java b/src/net/minecraft/client/gui/GuiGameOver.java
index c737e46..b53a1b5 100644
--- a/src/net/minecraft/client/gui/GuiGameOver.java
+++ b/src/net/minecraft/client/gui/GuiGameOver.java
@@ -2,10 +2,15 @@ package net.minecraft.client.gui;
 
 import java.io.IOException;
 import java.util.Iterator;
+
 import net.minecraft.client.multiplayer.WorldClient;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.client.resources.I18n;
 import net.minecraft.util.EnumChatFormatting;
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.events.DeathEvent;
+import tk.wurst_client.gui.main.GuiWurstMainMenu;
+import tk.wurst_client.spam.SpamProcessor;
 
 public class GuiGameOver extends GuiScreen implements GuiYesNoCallback
 {
@@ -78,7 +83,7 @@ public class GuiGameOver extends GuiScreen implements GuiYesNoCallback
         {
             this.mc.theWorld.sendQuittingDisconnectingPacket();
             this.mc.loadWorld((WorldClient)null);
-            this.mc.displayGuiScreen(new GuiMainMenu());
+            this.mc.displayGuiScreen(new GuiWurstMainMenu());
         }
         else
         {
@@ -132,6 +137,10 @@ public class GuiGameOver extends GuiScreen implements GuiYesNoCallback
             {
                 var2 = (GuiButton)var1.next();
             }
+            
+            //TODO: Client
+            WurstClient.INSTANCE.events.fireEvent(DeathEvent.class, new DeathEvent());
+            SpamProcessor.runScript("death", "Runs whenever you die.");
         }
     }
 }
diff --git a/src/net/minecraft/client/gui/GuiIngame.java b/src/net/minecraft/client/gui/GuiIngame.java
index 6dbd34d..3358c34 100644
--- a/src/net/minecraft/client/gui/GuiIngame.java
+++ b/src/net/minecraft/client/gui/GuiIngame.java
@@ -1,13 +1,11 @@
 package net.minecraft.client.gui;
 
-import com.google.common.base.Predicate;
-import com.google.common.collect.Iterables;
-import com.google.common.collect.Lists;
 import java.awt.Color;
 import java.util.ArrayList;
 import java.util.Collection;
 import java.util.Iterator;
 import java.util.Random;
+
 import net.minecraft.block.material.Material;
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.renderer.GlStateManager;
@@ -33,15 +31,14 @@ import net.minecraft.scoreboard.Score;
 import net.minecraft.scoreboard.ScoreObjective;
 import net.minecraft.scoreboard.ScorePlayerTeam;
 import net.minecraft.scoreboard.Scoreboard;
-import net.minecraft.util.BlockPos;
-import net.minecraft.util.EnumChatFormatting;
-import net.minecraft.util.FoodStats;
-import net.minecraft.util.IChatComponent;
-import net.minecraft.util.MathHelper;
-import net.minecraft.util.MovingObjectPosition;
-import net.minecraft.util.ResourceLocation;
-import net.minecraft.util.StringUtils;
+import net.minecraft.util.*;
 import net.minecraft.world.border.WorldBorder;
+import tk.wurst_client.gui.UIRenderer;
+import tk.wurst_client.mods.ArenaBrawlMod;
+
+import com.google.common.base.Predicate;
+import com.google.common.collect.Iterables;
+import com.google.common.collect.Lists;
 
 public class GuiIngame extends Gui
 {
@@ -211,7 +208,7 @@ public class GuiIngame extends Gui
         {
             this.func_175182_a(var2);
         }
-        else if (this.mc.thePlayer.func_175149_v())
+        else if (this.mc.thePlayer.isSpectator())
         {
             this.field_175197_u.func_175263_a(var2);
         }
@@ -288,11 +285,11 @@ public class GuiIngame extends Gui
                 GlStateManager.pushMatrix();
                 GlStateManager.scale(4.0F, 4.0F, 4.0F);
                 var9 = var8 << 24 & -16777216;
-                this.func_175179_f().func_175065_a(this.field_175201_x, (float)(-this.func_175179_f().getStringWidth(this.field_175201_x) / 2), -10.0F, 16777215 | var9, true);
+                this.func_175179_f().drawString(this.field_175201_x, (float)(-this.func_175179_f().getStringWidth(this.field_175201_x) / 2), -10.0F, 16777215 | var9, true);
                 GlStateManager.popMatrix();
                 GlStateManager.pushMatrix();
                 GlStateManager.scale(2.0F, 2.0F, 2.0F);
-                this.func_175179_f().func_175065_a(this.field_175200_y, (float)(-this.func_175179_f().getStringWidth(this.field_175200_y) / 2), 5.0F, 16777215 | var9, true);
+                this.func_175179_f().drawString(this.field_175200_y, (float)(-this.func_175179_f().getStringWidth(this.field_175200_y) / 2), 5.0F, 16777215 | var9, true);
                 GlStateManager.popMatrix();
                 GlStateManager.disableBlend();
                 GlStateManager.popMatrix();
@@ -320,8 +317,16 @@ public class GuiIngame extends Gui
         if (var16 != null)
         {
             this.func_180475_a(var16, var2);
+            //TODO: Client
+        }else
+        {
+            ArenaBrawlMod.scoreboard = null;
         }
 
+        //TODO: Client
+        if(!this.mc.gameSettings.showDebugInfo)
+        	UIRenderer.renderUI(zLevel);
+
         GlStateManager.enableBlend();
         GlStateManager.tryBlendFuncSeparate(770, 771, 1, 0);
         GlStateManager.disableAlpha();
@@ -333,7 +338,7 @@ public class GuiIngame extends Gui
         GlStateManager.popMatrix();
         var16 = var12.getObjectiveInDisplaySlot(0);
 
-        if (this.mc.gameSettings.keyBindPlayerList.getIsKeyPressed() && (!this.mc.isIntegratedServerRunning() || this.mc.thePlayer.sendQueue.func_175106_d().size() > 1 || var16 != null))
+        if (this.mc.gameSettings.keyBindPlayerList.getIsKeyPressed() && (!this.mc.isIntegratedServerRunning() || this.mc.thePlayer.sendQueue.getPlayerInfo().size() > 1 || var16 != null))
         {
             this.overlayPlayerList.func_175246_a(true);
             this.overlayPlayerList.func_175249_a(var3, var12, var16);
@@ -469,7 +474,7 @@ public class GuiIngame extends Gui
                 GlStateManager.pushMatrix();
                 GlStateManager.enableBlend();
                 GlStateManager.tryBlendFuncSeparate(770, 771, 1, 0);
-                this.func_175179_f().func_175063_a(var2, (float)var3, (float)var4, 16777215 + (var5 << 24));
+                this.func_175179_f().drawStringWithShadow(var2, (float)var3, (float)var4, 16777215 + (var5 << 24));
                 GlStateManager.disableBlend();
                 GlStateManager.popMatrix();
             }
@@ -493,7 +498,7 @@ public class GuiIngame extends Gui
         }
 
         int var3 = this.func_175179_f().getStringWidth(var2);
-        this.func_175179_f().func_175063_a(var2, (float)(p_175185_1_.getScaledWidth() - var3 - 10), 5.0F, 16777215);
+        this.func_175179_f().drawStringWithShadow(var2, (float)(p_175185_1_.getScaledWidth() - var3 - 10), 5.0F, 16777215);
         this.mc.mcProfiler.endSection();
     }
 
@@ -513,7 +518,7 @@ public class GuiIngame extends Gui
             {
                 if (this.mc.objectMouseOver != null && this.mc.objectMouseOver.typeOfHit == MovingObjectPosition.MovingObjectType.BLOCK)
                 {
-                    BlockPos var1 = this.mc.objectMouseOver.func_178782_a();
+                    BlockPos var1 = this.mc.objectMouseOver.getBlockPos();
 
                     if (this.mc.theWorld.getTileEntity(var1) instanceof IInventory)
                     {
@@ -578,6 +583,8 @@ public class GuiIngame extends Gui
         int var25 = p_180475_2_.getScaledWidth() - var6 - var24;
         int var11 = 0;
         Iterator var12 = var21.iterator();
+        //TODO: Client
+        ArrayList<String> wurst1 = new ArrayList<String>();
 
         while (var12.hasNext())
         {
@@ -585,6 +592,8 @@ public class GuiIngame extends Gui
             ++var11;
             ScorePlayerTeam var14 = var3.getPlayersTeam(var13.getPlayerName());
             String var15 = ScorePlayerTeam.formatPlayerName(var14, var13.getPlayerName());
+            //TODO: Client
+            wurst1.add(var15);
             String var16 = EnumChatFormatting.RED + "" + var13.getScorePoints();
             int var18 = var23 - var11 * this.func_175179_f().FONT_HEIGHT;
             int var19 = p_180475_2_.getScaledWidth() - var24 + 2;
@@ -599,6 +608,8 @@ public class GuiIngame extends Gui
                 drawRect(var25 - 2, var18 - 1, var19, var18, 1342177280);
                 this.func_175179_f().drawString(var20, var25 + var6 / 2 - this.func_175179_f().getStringWidth(var20) / 2, var18 - this.func_175179_f().FONT_HEIGHT, 553648127);
             }
+            //TODO: Client
+            ArenaBrawlMod.scoreboard = wurst1;
         }
     }
 
@@ -921,7 +932,7 @@ public class GuiIngame extends Gui
             }
 
             String var8 = BossStatus.bossName;
-            this.func_175179_f().func_175063_a(var8, (float)(var3 / 2 - this.func_175179_f().getStringWidth(var8) / 2), (float)(var7 - 10), 16777215);
+            this.func_175179_f().drawStringWithShadow(var8, (float)(var3 / 2 - this.func_175179_f().getStringWidth(var8) / 2), (float)(var7 - 10), 16777215);
             GlStateManager.color(1.0F, 1.0F, 1.0F, 1.0F);
             this.mc.getTextureManager().bindTexture(icons);
         }
@@ -1047,7 +1058,7 @@ public class GuiIngame extends Gui
                 GlStateManager.translate((float)(-(p_175184_2_ + 8)), (float)(-(p_175184_3_ + 12)), 0.0F);
             }
 
-            this.itemRenderer.func_180450_b(var6, p_175184_2_, p_175184_3_);
+            this.itemRenderer.renderItemAndEffectIntoGUI(var6, p_175184_2_, p_175184_3_);
 
             if (var7 > 0.0F)
             {
diff --git a/src/net/minecraft/client/gui/GuiIngameMenu.java b/src/net/minecraft/client/gui/GuiIngameMenu.java
index d8f9c4b..e4e2d17 100644
--- a/src/net/minecraft/client/gui/GuiIngameMenu.java
+++ b/src/net/minecraft/client/gui/GuiIngameMenu.java
@@ -1,15 +1,31 @@
 package net.minecraft.client.gui;
 
+import static org.lwjgl.opengl.GL11.GL_CULL_FACE;
+import static org.lwjgl.opengl.GL11.GL_TEXTURE_2D;
+import static org.lwjgl.opengl.GL11.glEnable;
+
 import java.io.IOException;
+
 import net.minecraft.client.gui.achievement.GuiAchievements;
 import net.minecraft.client.gui.achievement.GuiStats;
 import net.minecraft.client.multiplayer.WorldClient;
+import net.minecraft.client.renderer.OpenGlHelper;
+import net.minecraft.client.renderer.Tessellator;
+import net.minecraft.client.renderer.WorldRenderer;
 import net.minecraft.client.resources.I18n;
+import net.minecraft.util.ResourceLocation;
+
+import org.lwjgl.opengl.GL11;
+
+import tk.wurst_client.gui.main.GuiWurstMainMenu;
+import tk.wurst_client.gui.options.GuiWurstOptions;
 
 public class GuiIngameMenu extends GuiScreen
 {
     private int field_146445_a;
     private int field_146444_f;
+    //TODO: Client
+    private static final ResourceLocation wurstTextures = new ResourceLocation("wurst/wurst_128.png");
     private static final String __OBFID = "CL_00000703";
 
     /**
@@ -30,6 +46,8 @@ public class GuiIngameMenu extends GuiScreen
 
         this.buttonList.add(new GuiButton(4, this.width / 2 - 100, this.height / 4 + 24 + var1, I18n.format("menu.returnToGame", new Object[0])));
         this.buttonList.add(new GuiButton(0, this.width / 2 - 100, this.height / 4 + 96 + var1, 98, 20, I18n.format("menu.options", new Object[0])));
+        //TODO: Client
+        this.buttonList.add(new GuiButton(8, this.width / 2 - 100, this.height / 4 + 72 + var1, "            Options"));
         GuiButton var3;
         this.buttonList.add(var3 = new GuiButton(7, this.width / 2 + 2, this.height / 4 + 96 + var1, 98, 20, I18n.format("menu.shareToLan", new Object[0])));
         this.buttonList.add(new GuiButton(5, this.width / 2 - 100, this.height / 4 + 48 + var1, 98, 20, I18n.format("gui.achievements", new Object[0])));
@@ -49,7 +67,7 @@ public class GuiIngameMenu extends GuiScreen
                 button.enabled = false;
                 this.mc.theWorld.sendQuittingDisconnectingPacket();
                 this.mc.loadWorld((WorldClient)null);
-                this.mc.displayGuiScreen(new GuiMainMenu());
+                this.mc.displayGuiScreen(new GuiWurstMainMenu());
 
             case 2:
             case 3:
@@ -71,6 +89,11 @@ public class GuiIngameMenu extends GuiScreen
 
             case 7:
                 this.mc.displayGuiScreen(new GuiShareToLan(this));
+                break;
+
+                //TODO: Client
+            case 8:
+                this.mc.displayGuiScreen(new GuiWurstOptions(this));
         }
     }
 
@@ -91,5 +114,29 @@ public class GuiIngameMenu extends GuiScreen
         this.drawDefaultBackground();
         this.drawCenteredString(this.fontRendererObj, I18n.format("menu.game", new Object[0]), this.width / 2, 40, 16777215);
         super.drawScreen(mouseX, mouseY, partialTicks);
+        //TODO: Client
+		glEnable(GL_TEXTURE_2D);
+		glEnable(GL_CULL_FACE);
+        GL11.glDisable(GL11.GL_DEPTH_TEST);
+        GL11.glDepthMask(false);
+        OpenGlHelper.glBlendFunc(770, 771, 1, 0);
+        GL11.glColor4f(1.0F, 1.0F, 1.0F, 1.0F);
+        this.mc.getTextureManager().bindTexture(wurstTextures);
+        Tessellator var3 = Tessellator.getInstance();
+        WorldRenderer var4 = var3.getWorldRenderer();
+        double x = this.width / 2 - 68;
+        double y = this.height / 4 + 73 - 14.5;
+        double h = 16;
+        double w = 63;
+        double fw = 256;
+        double fh = 256;
+        double u1 = 0;
+        double v1 = 0;
+        var4.startDrawingQuads();
+        var4.addVertexWithUV((double)x + 0, (double)y + h, (double)this.zLevel, (double)((float)(u1 + 0) * 0.00390625F), (double)((float)(v1 + fh) * 0.00390625F));
+        var4.addVertexWithUV((double)x + w, (double)y + h, (double)this.zLevel, (double)((float)(u1 + fw) * 0.00390625F), (double)((float)(v1 + fh) * 0.00390625F));
+        var4.addVertexWithUV((double)x + w, (double)y + 0, (double)this.zLevel, (double)((float)(u1 + fw) * 0.00390625F), (double)((float)(v1 + 0) * 0.00390625F));
+        var4.addVertexWithUV((double)x + 0, (double)y + 0, (double)this.zLevel, (double)((float)(u1 + 0) * 0.00390625F), (double)((float)(v1 + 0) * 0.00390625F));
+        var3.draw();
     }
 }
diff --git a/src/net/minecraft/client/gui/GuiKeyBindingList.java b/src/net/minecraft/client/gui/GuiKeyBindingList.java
index 63ce2aa..4097c4d 100644
--- a/src/net/minecraft/client/gui/GuiKeyBindingList.java
+++ b/src/net/minecraft/client/gui/GuiKeyBindingList.java
@@ -1,11 +1,14 @@
 package net.minecraft.client.gui;
 
 import java.util.Arrays;
+
 import net.minecraft.client.Minecraft;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.resources.I18n;
 import net.minecraft.client.settings.GameSettings;
 import net.minecraft.client.settings.KeyBinding;
 import net.minecraft.util.EnumChatFormatting;
+
 import org.apache.commons.lang3.ArrayUtils;
 
 public class GuiKeyBindingList extends GuiListExtended
diff --git a/src/net/minecraft/client/gui/GuiLanguage.java b/src/net/minecraft/client/gui/GuiLanguage.java
index 21d8db6..866b405 100644
--- a/src/net/minecraft/client/gui/GuiLanguage.java
+++ b/src/net/minecraft/client/gui/GuiLanguage.java
@@ -2,10 +2,13 @@ package net.minecraft.client.gui;
 
 import com.google.common.collect.Lists;
 import com.google.common.collect.Maps;
+
 import java.io.IOException;
 import java.util.Iterator;
 import java.util.Map;
+
 import net.minecraft.client.Minecraft;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.resources.I18n;
 import net.minecraft.client.resources.Language;
 import net.minecraft.client.resources.LanguageManager;
diff --git a/src/net/minecraft/client/gui/GuiListButton.java b/src/net/minecraft/client/gui/GuiListButton.java
index ce714c0..7037d3b 100644
--- a/src/net/minecraft/client/gui/GuiListButton.java
+++ b/src/net/minecraft/client/gui/GuiListButton.java
@@ -1,6 +1,7 @@
 package net.minecraft.client.gui;
 
 import net.minecraft.client.Minecraft;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.resources.I18n;
 
 public class GuiListButton extends GuiButton
diff --git a/src/net/minecraft/client/gui/GuiListExtended.java b/src/net/minecraft/client/gui/GuiListExtended.java
index 1f23abe..db99de6 100644
--- a/src/net/minecraft/client/gui/GuiListExtended.java
+++ b/src/net/minecraft/client/gui/GuiListExtended.java
@@ -33,6 +33,10 @@ public abstract class GuiListExtended extends GuiSlot
 
     protected void func_178040_a(int p_178040_1_, int p_178040_2_, int p_178040_3_)
     {
+    	//TODO: Client
+    	if(p_178040_1_ >= getSize())
+    		return;
+    	
         this.getListEntry(p_178040_1_).setSelected(p_178040_1_, p_178040_2_, p_178040_3_);
     }
 
diff --git a/src/net/minecraft/client/gui/GuiLockIconButton.java b/src/net/minecraft/client/gui/GuiLockIconButton.java
index f86264c..e44dc02 100644
--- a/src/net/minecraft/client/gui/GuiLockIconButton.java
+++ b/src/net/minecraft/client/gui/GuiLockIconButton.java
@@ -1,6 +1,7 @@
 package net.minecraft.client.gui;
 
 import net.minecraft.client.Minecraft;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.renderer.GlStateManager;
 
 public class GuiLockIconButton extends GuiButton
diff --git a/src/net/minecraft/client/gui/GuiMainMenu.java b/src/net/minecraft/client/gui/GuiMainMenu.java
index 38033d9..e5daf24 100644
--- a/src/net/minecraft/client/gui/GuiMainMenu.java
+++ b/src/net/minecraft/client/gui/GuiMainMenu.java
@@ -1,15 +1,25 @@
 package net.minecraft.client.gui;
 
-import com.google.common.collect.Lists;
+import static org.lwjgl.opengl.GL11.GL_BLEND;
+import static org.lwjgl.opengl.GL11.GL_ONE_MINUS_SRC_ALPHA;
+import static org.lwjgl.opengl.GL11.GL_SRC_ALPHA;
+import static org.lwjgl.opengl.GL11.glBlendFunc;
+import static org.lwjgl.opengl.GL11.glEnable;
+
 import java.io.BufferedReader;
 import java.io.IOException;
 import java.io.InputStreamReader;
 import java.net.URI;
+import java.net.URL;
 import java.util.ArrayList;
 import java.util.Calendar;
+import java.util.ConcurrentModificationException;
 import java.util.Date;
 import java.util.Random;
 import java.util.concurrent.atomic.AtomicInteger;
+
+import javax.net.ssl.HttpsURLConnection;
+
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.client.renderer.OpenGlHelper;
@@ -24,12 +34,26 @@ import net.minecraft.util.ResourceLocation;
 import net.minecraft.world.demo.DemoWorldServer;
 import net.minecraft.world.storage.ISaveFormat;
 import net.minecraft.world.storage.WorldInfo;
+
 import org.apache.commons.io.Charsets;
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 import org.lwjgl.opengl.GL11;
 import org.lwjgl.opengl.GLContext;
 import org.lwjgl.util.glu.Project;
+import org.newdawn.slick.util.xml.XMLElement;
+import org.newdawn.slick.util.xml.XMLElementList;
+import org.newdawn.slick.util.xml.XMLParser;
+
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.gui.alts.GuiAlts;
+import tk.wurst_client.gui.main.GuiMessage;
+import tk.wurst_client.hooks.ServerHook;
+import tk.wurst_client.utils.MiscUtils;
+
+import com.google.common.collect.Lists;
+import com.google.gson.JsonObject;
+import com.google.gson.JsonParser;
 
 public class GuiMainMenu extends GuiScreen implements GuiYesNoCallback
 {
@@ -40,8 +64,8 @@ public class GuiMainMenu extends GuiScreen implements GuiYesNoCallback
     /** Counts the number of screen updates. */
     private float updateCounter;
 
-    /** The splash message. */
-    private String splashText;
+    /** The splash message. *///TODO: Client
+    public static String splashText;
     private GuiButton buttonResetDemo;
 
     /** Timer used to rotate the panorama, increases every tick. */
@@ -57,7 +81,10 @@ public class GuiMainMenu extends GuiScreen implements GuiYesNoCallback
     private String field_146972_A;
     private String field_104024_v;
     private static final ResourceLocation splashTexts = new ResourceLocation("texts/splashes.txt");
-    private static final ResourceLocation minecraftTitleTextures = new ResourceLocation("textures/gui/title/minecraft.png");
+    
+    //TODO: Client
+    private static final ResourceLocation minecraftTitleTextures = new ResourceLocation("wurst/wurst_380.png");
+    private ArrayList<String> newsItems = new ArrayList<String>();
 
     /** An array of all the paths to the panorama pictures. */
     private static final ResourceLocation[] titlePanoramaPaths = new ResourceLocation[] {new ResourceLocation("textures/gui/title/background/panorama_0.png"), new ResourceLocation("textures/gui/title/background/panorama_1.png"), new ResourceLocation("textures/gui/title/background/panorama_2.png"), new ResourceLocation("textures/gui/title/background/panorama_3.png"), new ResourceLocation("textures/gui/title/background/panorama_4.png"), new ResourceLocation("textures/gui/title/background/panorama_5.png")};
@@ -184,7 +211,13 @@ public class GuiMainMenu extends GuiScreen implements GuiYesNoCallback
         else if (var1.get(2) + 1 == 10 && var1.get(5) == 31)
         {
             this.splashText = "OOoooOOOoooo! Spooky!";
+            
+            //TODO: Client
+        }else if (var1.get(2) + 1 == 2 && var1.get(5) == 9)
+        {
+            this.splashText = "Happy birthday, Alexander01998!";
         }
+        ServerHook.setCurrentIpToSingleplayer();
 
         boolean var2 = true;
         int var3 = this.height / 4 + 48;
@@ -198,9 +231,9 @@ public class GuiMainMenu extends GuiScreen implements GuiYesNoCallback
             this.addSingleplayerMultiplayerButtons(var3, 24);
         }
 
-        this.buttonList.add(new GuiButton(0, this.width / 2 - 100, var3 + 72 + 12, 98, 20, I18n.format("menu.options", new Object[0])));
-        this.buttonList.add(new GuiButton(4, this.width / 2 + 2, var3 + 72 + 12, 98, 20, I18n.format("menu.quit", new Object[0])));
-        this.buttonList.add(new GuiButtonLanguage(5, this.width / 2 - 124, var3 + 72 + 12));
+        this.buttonList.add(new GuiButton(0, this.width / 2 - 100, var3 + 72 + 24, 98, 20, I18n.format("menu.options", new Object[0])));
+        this.buttonList.add(new GuiButton(4, this.width / 2 + 2, var3 + 72 + 24, 98, 20, I18n.format("menu.quit", new Object[0])));
+        this.buttonList.add(new GuiButtonLanguage(5, this.width / 2 - 124, var3 + 72 + 24));
         Object var4 = this.field_104025_t;
 
         synchronized (this.field_104025_t)
@@ -222,7 +255,9 @@ public class GuiMainMenu extends GuiScreen implements GuiYesNoCallback
     {
         this.buttonList.add(new GuiButton(1, this.width / 2 - 100, p_73969_1_, I18n.format("menu.singleplayer", new Object[0])));
         this.buttonList.add(new GuiButton(2, this.width / 2 - 100, p_73969_1_ + p_73969_2_ * 1, I18n.format("menu.multiplayer", new Object[0])));
-        this.buttonList.add(this.field_175372_K = new GuiButton(14, this.width / 2 - 100, p_73969_1_ + p_73969_2_ * 2, I18n.format("menu.online", new Object[0])));
+        //TODO: Client
+        this.buttonList.add(new GuiButton(3, this.width / 2 - 100, p_73969_1_ + p_73969_2_ * 2, "Alt Manager"));
+        //this.buttonList.add(this.field_175372_K = new GuiButton(14, this.width / 2 - 100, p_73969_1_ + p_73969_2_ * 2, I18n.format("menu.online", new Object[0])));
     }
 
     /**
@@ -263,10 +298,10 @@ public class GuiMainMenu extends GuiScreen implements GuiYesNoCallback
             this.mc.displayGuiScreen(new GuiMultiplayer(this));
         }
 
-        if (button.id == 14 && this.field_175372_K.visible)
+        /*if (button.id == 14 && this.field_175372_K.visible)
         {
             this.switchToRealms();
-        }
+        }*/
 
         if (button.id == 4)
         {
@@ -324,6 +359,23 @@ public class GuiMainMenu extends GuiScreen implements GuiYesNoCallback
 
             this.mc.displayGuiScreen(this);
         }
+        //TODO: Client
+        if(id == 1)
+		{
+			if(result)
+			{
+				MiscUtils
+					.openLink("https://www.youtube.com/watch?v=_Gf8oaC9QKM");
+				WurstClient.INSTANCE.analytics.trackEvent("christmas easter egg",
+					"play christmas song");
+				this.mc.shutdown();
+			}else
+			{
+				this.mc.displayGuiScreen(this);
+				WurstClient.INSTANCE.analytics.trackEvent("christmas easter egg",
+					"grief on christmas");
+			}
+		}
     }
 
     /**
@@ -391,7 +443,7 @@ public class GuiMainMenu extends GuiScreen implements GuiYesNoCallback
 
                 this.mc.getTextureManager().bindTexture(titlePanoramaPaths[var11]);
                 var5.startDrawingQuads();
-                var5.func_178974_a(16777215, 255 / (var7 + 1));
+                var5.setColorRGBA_I(16777215, 255 / (var7 + 1));
                 float var12 = 0.0F;
                 var5.addVertexWithUV(-1.0D, -1.0D, 1.0D, (double)(0.0F + var12), (double)(0.0F + var12));
                 var5.addVertexWithUV(1.0D, -1.0D, 1.0D, (double)(1.0F - var12), (double)(0.0F + var12));
@@ -436,7 +488,7 @@ public class GuiMainMenu extends GuiScreen implements GuiYesNoCallback
 
         for (int var5 = 0; var5 < var4; ++var5)
         {
-            var3.func_178960_a(1.0F, 1.0F, 1.0F, 1.0F / (float)(var5 + 1));
+            var3.setColorRGBA_F(1.0F, 1.0F, 1.0F, 1.0F / (float)(var5 + 1));
             int var6 = this.width;
             int var7 = this.height;
             float var8 = (float)(var5 - var4 / 2) / 256.0F;
@@ -454,7 +506,7 @@ public class GuiMainMenu extends GuiScreen implements GuiYesNoCallback
     /**
      * Renders the skybox in the main menu
      */
-    private void renderSkybox(int p_73971_1_, int p_73971_2_, float p_73971_3_)
+    protected void renderSkybox(int p_73971_1_, int p_73971_2_, float p_73971_3_)
     {
         this.mc.getFramebuffer().unbindFramebuffer();
         GlStateManager.viewport(0, 0, 256, 256);
@@ -474,7 +526,7 @@ public class GuiMainMenu extends GuiScreen implements GuiYesNoCallback
         float var6 = this.width > this.height ? 120.0F / (float)this.width : 120.0F / (float)this.height;
         float var7 = (float)this.height * var6 / 256.0F;
         float var8 = (float)this.width * var6 / 256.0F;
-        var5.func_178960_a(1.0F, 1.0F, 1.0F, 1.0F);
+        var5.setColorRGBA_F(1.0F, 1.0F, 1.0F, 1.0F);
         int var9 = this.width;
         int var10 = this.height;
         var5.addVertexWithUV(0.0D, (double)var10, (double)this.zLevel, (double)(0.5F - var7), (double)(0.5F + var8));
@@ -494,47 +546,121 @@ public class GuiMainMenu extends GuiScreen implements GuiYesNoCallback
         GlStateManager.enableAlpha();
         Tessellator var4 = Tessellator.getInstance();
         WorldRenderer var5 = var4.getWorldRenderer();
-        short var6 = 274;
+        
+        //TODO: Client
+        short var6 = 256;
         int var7 = this.width / 2 - var6 / 2;
         byte var8 = 30;
         this.drawGradientRect(0, 0, this.width, this.height, -2130706433, 16777215);
         this.drawGradientRect(0, 0, this.width, this.height, 0, Integer.MIN_VALUE);
         this.mc.getTextureManager().bindTexture(minecraftTitleTextures);
         GlStateManager.color(1.0F, 1.0F, 1.0F, 1.0F);
-
+        glEnable(GL_BLEND);
+		glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);
+        double x = var7;
+        double y = var8;
+        double h = 64;
+        double w = 256;
+        double fw = 256;
+        double fh = 256;
+        double u = 0;
+        double v = 0;
+        if(GuiMainMenu.splashText.equals("umop-apisdn!"))
+        {
+        	GL11.glRotatef(180.0F, 0.0F, 0.0F, 1.0F);
+        	GL11.glTranslatef((float)(-this.width), (float) (-h - 60), 0.0F);
+        }
         if ((double)this.updateCounter < 1.0E-4D)
         {
-            this.drawTexturedModalRect(var7 + 0, var8 + 0, 0, 0, 99, 44);
-            this.drawTexturedModalRect(var7 + 99, var8 + 0, 129, 0, 27, 44);
-            this.drawTexturedModalRect(var7 + 99 + 26, var8 + 0, 126, 0, 3, 44);
-            this.drawTexturedModalRect(var7 + 99 + 26 + 3, var8 + 0, 99, 0, 26, 44);
-            this.drawTexturedModalRect(var7 + 155, var8 + 0, 0, 45, 155, 44);
+        	var5.startDrawingQuads();
+            var5.addVertexWithUV((double)x + 0, (double)y + h, (double)this.zLevel, (double)((float)(u + 0) * 0.00390625F), (double)((float)(v + fh) * 0.00390625F));
+            var5.addVertexWithUV((double)x + 120, (double)y + h, (double)this.zLevel, (double)((float)(u + 120) * 0.00390625F), (double)((float)(v + fh) * 0.00390625F));
+            var5.addVertexWithUV((double)x + 120, (double)y + 0, (double)this.zLevel, (double)((float)(u + 120) * 0.00390625F), (double)((float)(v + 0) * 0.00390625F));
+            var5.addVertexWithUV((double)x + 0, (double)y + 0, (double)this.zLevel, (double)((float)(u + 0) * 0.00390625F), (double)((float)(v + 0) * 0.00390625F));
+            var4.draw();
+            var5.startDrawingQuads();
+            var5.addVertexWithUV((double)x + 120, (double)y + h, (double)this.zLevel, (double)((float)(160 + 0) * 0.00390625F), (double)((float)(v + fh) * 0.00390625F));
+            var5.addVertexWithUV((double)x + 120 + 38, (double)y + h, (double)this.zLevel, (double)((float)(160 + 38) * 0.00390625F), (double)((float)(v + fh) * 0.00390625F));
+            var5.addVertexWithUV((double)x + 120 + 38, (double)y + 0, (double)this.zLevel, (double)((float)(160 + 38) * 0.00390625F), (double)((float)(v + 0) * 0.00390625F));
+            var5.addVertexWithUV((double)x + 120 + 0, (double)y + 0, (double)this.zLevel, (double)((float)(160 + 0) * 0.00390625F), (double)((float)(v + 0) * 0.00390625F));
+            var4.draw();
+            var5.startDrawingQuads();
+            var5.addVertexWithUV((double)x + 158 + 0, (double)y + h, (double)this.zLevel, (double)((float)(120 + 0) * 0.00390625F), (double)((float)(v + fh) * 0.00390625F));
+            var5.addVertexWithUV((double)x + 158 + 40, (double)y + h, (double)this.zLevel, (double)((float)(120 + 40) * 0.00390625F), (double)((float)(v + fh) * 0.00390625F));
+            var5.addVertexWithUV((double)x + 158 + 40, (double)y + 0, (double)this.zLevel, (double)((float)(120 + 40) * 0.00390625F), (double)((float)(v + 0) * 0.00390625F));
+            var5.addVertexWithUV((double)x + 158 + 0, (double)y + 0, (double)this.zLevel, (double)((float)(120 + 0) * 0.00390625F), (double)((float)(v + 0) * 0.00390625F));
+            var4.draw();
+            var5.startDrawingQuads();
+            var5.addVertexWithUV((double)x + 198 + 0, (double)y + h, (double)this.zLevel, (double)((float)(198 + 0) * 0.00390625F), (double)((float)(v + fh) * 0.00390625F));
+            var5.addVertexWithUV((double)x + 198 + 58, (double)y + h, (double)this.zLevel, (double)((float)(198 + 58) * 0.00390625F), (double)((float)(v + fh) * 0.00390625F));
+            var5.addVertexWithUV((double)x + 198 + 58, (double)y + 0, (double)this.zLevel, (double)((float)(198 + 58) * 0.00390625F), (double)((float)(v + 0) * 0.00390625F));
+            var5.addVertexWithUV((double)x + 198 + 0, (double)y + 0, (double)this.zLevel, (double)((float)(198 + 0) * 0.00390625F), (double)((float)(v + 0) * 0.00390625F));
+            var4.draw();
         }
         else
         {
-            this.drawTexturedModalRect(var7 + 0, var8 + 0, 0, 0, 155, 44);
-            this.drawTexturedModalRect(var7 + 155, var8 + 0, 0, 45, 155, 44);
+            var5.startDrawingQuads();
+            var5.addVertexWithUV((double)x + 0, (double)y + h, (double)this.zLevel, (double)((float)(u + 0) * 0.00390625F), (double)((float)(v + fh) * 0.00390625F));
+            var5.addVertexWithUV((double)x + w, (double)y + h, (double)this.zLevel, (double)((float)(u + fw) * 0.00390625F), (double)((float)(v + fh) * 0.00390625F));
+            var5.addVertexWithUV((double)x + w, (double)y + 0, (double)this.zLevel, (double)((float)(u + fw) * 0.00390625F), (double)((float)(v + 0) * 0.00390625F));
+            var5.addVertexWithUV((double)x + 0, (double)y + 0, (double)this.zLevel, (double)((float)(u + 0) * 0.00390625F), (double)((float)(v + 0) * 0.00390625F));
+            var4.draw();
+        }
+        if(GuiMainMenu.splashText.equals("umop-apisdn!"))
+        {
+        	GL11.glRotatef(-180.0F, 0.0F, 0.0F, 1.0F);
+        	GL11.glTranslatef((float)(-this.width), (float) (-h - 60), 0.0F);
         }
 
-        var5.func_178991_c(-1);
+        var5.setColorOpaque_I(-1);
         GlStateManager.pushMatrix();
         GlStateManager.translate((float)(this.width / 2 + 90), 70.0F, 0.0F);
         GlStateManager.rotate(-20.0F, 0.0F, 0.0F, 1.0F);
         float var9 = 1.8F - MathHelper.abs(MathHelper.sin((float)(Minecraft.getSystemTime() % 1000L) / 1000.0F * (float)Math.PI * 2.0F) * 0.1F);
         var9 = var9 * 100.0F / (float)(this.fontRendererObj.getStringWidth(this.splashText) + 32);
         GlStateManager.scale(var9, var9, var9);
-        this.drawCenteredString(this.fontRendererObj, this.splashText, 0, -8, -256);
+        
+        //TODO: Client
+        this.drawCenteredString(this.fontRendererObj, this.splashText, 0, 0, -256);
         GlStateManager.popMatrix();
         String var10 = "Minecraft 1.8";
+        String wurst10 = "Wurst v" + WurstClient.INSTANCE.VERSION;
 
         if (this.mc.isDemo())
         {
             var10 = var10 + " Demo";
         }
 
-        this.drawString(this.fontRendererObj, var10, 2, this.height - 10, -1);
-        String var11 = "Copyright Mojang AB. Do not distribute!";
-        this.drawString(this.fontRendererObj, var11, this.width - this.fontRendererObj.getStringWidth(var11) - 2, this.height - 10, -1);
+        //TODO: Client
+        this.drawString(this.fontRendererObj, var10, this.width - this.fontRendererObj.getStringWidth(var10) - 2, 2, -1);
+        this.drawString(this.fontRendererObj, wurst10, 2, 2, -1);
+        String var11 = "Copyright Mojang AB";
+        String wurst11 = "Copyright Alexander01998";
+        this.drawString(this.fontRendererObj, wurst11, 2, 12, -1);
+        this.drawString(this.fontRendererObj, var11, this.width - this.fontRendererObj.getStringWidth(var11) - 2, 12, -1);
+        String var12 = "Do not distribute!";
+        String wurst12 = "All rights reserved.";
+        this.drawString(this.fontRendererObj, wurst12, 2, 22, -1);
+        this.drawString(this.fontRendererObj, var12, this.width - this.fontRendererObj.getStringWidth(var12) - 2, 22, -1);
+        String news = "";
+        try
+		{
+			for(String item : newsItems)
+			{
+				news += item + "e+++r";
+			}
+		}catch(ConcurrentModificationException e)
+		{
+			
+		}
+        int newsWidth = fontRendererObj.getStringWidth(news);
+        while(fontRendererObj.getStringWidth(news) < Math.max(width * 2, newsWidth * 2) && !news.isEmpty())
+        	news += news;
+        if(!news.isEmpty())
+        {
+        	this.drawCenteredString(fontRendererObj, "nWurst News", this.width / 2, this.height - 20, -1);
+        	this.drawString(this.fontRendererObj, news, -(int)(mc.getSystemTime() / 50 % newsWidth), this.height - 10, -1);
+        }
 
         if (this.field_92025_p != null && this.field_92025_p.length() > 0)
         {
@@ -542,7 +668,6 @@ public class GuiMainMenu extends GuiScreen implements GuiYesNoCallback
             this.drawString(this.fontRendererObj, this.field_92025_p, this.field_92022_t, this.field_92021_u, -1);
             this.drawString(this.fontRendererObj, this.field_146972_A, (this.width - this.field_92024_r) / 2, ((GuiButton)this.buttonList.get(0)).yPosition - 12, -1);
         }
-
         super.drawScreen(mouseX, mouseY, partialTicks);
     }
 
diff --git a/src/net/minecraft/client/gui/GuiMemoryErrorScreen.java b/src/net/minecraft/client/gui/GuiMemoryErrorScreen.java
index 0fb898e..e97ec4b 100644
--- a/src/net/minecraft/client/gui/GuiMemoryErrorScreen.java
+++ b/src/net/minecraft/client/gui/GuiMemoryErrorScreen.java
@@ -1,7 +1,9 @@
 package net.minecraft.client.gui;
 
 import java.io.IOException;
+
 import net.minecraft.client.resources.I18n;
+import tk.wurst_client.gui.main.GuiWurstMainMenu;
 
 public class GuiMemoryErrorScreen extends GuiScreen
 {
@@ -21,7 +23,7 @@ public class GuiMemoryErrorScreen extends GuiScreen
     {
         if (button.id == 0)
         {
-            this.mc.displayGuiScreen(new GuiMainMenu());
+            this.mc.displayGuiScreen(new GuiWurstMainMenu());
         }
         else if (button.id == 1)
         {
diff --git a/src/net/minecraft/client/gui/GuiMerchant.java b/src/net/minecraft/client/gui/GuiMerchant.java
index 518840e..0550d2e 100644
--- a/src/net/minecraft/client/gui/GuiMerchant.java
+++ b/src/net/minecraft/client/gui/GuiMerchant.java
@@ -1,8 +1,11 @@
 package net.minecraft.client.gui;
 
 import io.netty.buffer.Unpooled;
+
 import java.io.IOException;
+
 import net.minecraft.client.Minecraft;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.gui.inventory.GuiContainer;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.client.renderer.RenderHelper;
@@ -18,6 +21,7 @@ import net.minecraft.util.ResourceLocation;
 import net.minecraft.village.MerchantRecipe;
 import net.minecraft.village.MerchantRecipeList;
 import net.minecraft.world.World;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
@@ -195,7 +199,7 @@ public class GuiMerchant extends GuiContainer
             {
                 this.renderToolTip(var10, mouseX, mouseY);
             }
-            else if (var11 != null && this.isPointInRegion(120, 24, 16, 16, mouseX, mouseY) && var11 != null)
+            else if (this.isPointInRegion(120, 24, 16, 16, mouseX, mouseY) && var11 != null)
             {
                 this.renderToolTip(var11, mouseX, mouseY);
             }
diff --git a/src/net/minecraft/client/gui/GuiMultiplayer.java b/src/net/minecraft/client/gui/GuiMultiplayer.java
index da42542..7fdb8d8 100644
--- a/src/net/minecraft/client/gui/GuiMultiplayer.java
+++ b/src/net/minecraft/client/gui/GuiMultiplayer.java
@@ -1,26 +1,53 @@
 package net.minecraft.client.gui;
 
-import com.google.common.base.Splitter;
-import com.google.common.collect.Lists;
+import java.awt.Component;
+import java.awt.HeadlessException;
+import java.io.BufferedReader;
+import java.io.File;
+import java.io.FileReader;
+import java.io.FileWriter;
 import java.io.IOException;
+import java.io.PrintWriter;
 import java.util.List;
+
+import javax.swing.JDialog;
+import javax.swing.JFileChooser;
+import javax.swing.filechooser.FileNameExtensionFilter;
+
+import net.minecraft.client.Minecraft;
 import net.minecraft.client.multiplayer.GuiConnecting;
 import net.minecraft.client.multiplayer.ServerData;
 import net.minecraft.client.multiplayer.ServerList;
 import net.minecraft.client.network.LanServerDetector;
 import net.minecraft.client.network.OldServerPinger;
 import net.minecraft.client.resources.I18n;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 import org.lwjgl.input.Keyboard;
 
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.gui.multiplayer.GuiCleanUp;
+import tk.wurst_client.gui.multiplayer.GuiServerFinder;
+import tk.wurst_client.gui.multiplayer.GuiUseProxy;
+import tk.wurst_client.hooks.FrameHook;
+import tk.wurst_client.hooks.ServerHook;
+import tk.wurst_client.spam.SpamProcessor;
+import tk.wurst_client.utils.MiscUtils;
+
+import com.google.common.base.Splitter;
+import com.google.common.collect.Lists;
+
 public class GuiMultiplayer extends GuiScreen implements GuiYesNoCallback
 {
     private static final Logger logger = LogManager.getLogger();
     private final OldServerPinger oldServerPinger = new OldServerPinger();
     private GuiScreen parentScreen;
-    private ServerSelectionList serverListSelector;
-    private ServerList savedServerList;
+    
+    //TODO: Client
+    public ServerSelectionList serverListSelector;
+    public ServerList savedServerList;
+    
     private GuiButton btnEditServer;
     private GuiButton btnSelectServer;
     private GuiButton btnDeleteServer;
@@ -74,6 +101,9 @@ public class GuiMultiplayer extends GuiScreen implements GuiYesNoCallback
         }
 
         this.createButtons();
+        
+        //TODO: Client
+        WurstClient.INSTANCE.analytics.trackPageView("/multiplayer", "Select Server");
     }
 
     /**
@@ -82,6 +112,9 @@ public class GuiMultiplayer extends GuiScreen implements GuiYesNoCallback
     public void handleMouseInput() throws IOException
     {
         super.handleMouseInput();
+        
+        //TODO: Client
+        if(serverListSelector != null)
         	this.serverListSelector.func_178039_p();
     }
 
@@ -94,7 +127,16 @@ public class GuiMultiplayer extends GuiScreen implements GuiYesNoCallback
         this.buttonList.add(new GuiButton(3, this.width / 2 + 4 + 50, this.height - 52, 100, 20, I18n.format("selectServer.add", new Object[0])));
         this.buttonList.add(new GuiButton(8, this.width / 2 + 4, this.height - 28, 70, 20, I18n.format("selectServer.refresh", new Object[0])));
         this.buttonList.add(new GuiButton(0, this.width / 2 + 4 + 76, this.height - 28, 75, 20, I18n.format("gui.cancel", new Object[0])));
-        this.selectServer(this.serverListSelector.func_148193_k());
+        
+        //TODO: Client
+        this.buttonList.add(new GuiButton(5, this.width / 2 - 154, 10, 100, 20, "Last server"));
+        this.buttonList.add(new GuiButton(6, this.width / 2 + 54, 10, 100, 20, "Use Proxy"));
+        this.buttonList.add(new GuiButton(10, this.width / 2 - 154 - 104, this.height - 52, 100, 20, "Import Servers"));
+        this.buttonList.add(new GuiButton(11, this.width / 2 - 154 - 104, this.height - 28, 100, 20, "Export Servers"));
+        this.buttonList.add(new GuiButton(12, this.width / 2 + 154 + 4, this.height - 52, 100, 20, "Server Finder"));
+        this.buttonList.add(new GuiButton(13, this.width / 2 + 154 + 4, this.height - 28, 100, 20, "Clean Up"));
+        
+        this.selectServer(this.serverListSelector.getSelectedServer());
     }
 
     /**
@@ -112,6 +154,11 @@ public class GuiMultiplayer extends GuiScreen implements GuiYesNoCallback
         }
 
         this.oldServerPinger.pingPendingNetworks();
+        
+		// TODO: Client
+		// Enable/disable "Last Server" button
+		((GuiButton)this.buttonList.get(7)).enabled =
+			ServerHook.hasLastServer();
     }
 
     /**
@@ -134,7 +181,7 @@ public class GuiMultiplayer extends GuiScreen implements GuiYesNoCallback
     {
         if (button.enabled)
         {
-            GuiListExtended.IGuiListEntry var2 = this.serverListSelector.func_148193_k() < 0 ? null : this.serverListSelector.getListEntry(this.serverListSelector.func_148193_k());
+            GuiListExtended.IGuiListEntry var2 = this.serverListSelector.getSelectedServer() < 0 ? null : this.serverListSelector.getListEntry(this.serverListSelector.getSelectedServer());
 
             if (button.id == 2 && var2 instanceof ServerListEntryNormal)
             {
@@ -147,7 +194,7 @@ public class GuiMultiplayer extends GuiScreen implements GuiYesNoCallback
                     String var5 = "\'" + var9 + "\' " + I18n.format("selectServer.deleteWarning", new Object[0]);
                     String var6 = I18n.format("selectServer.deleteButton", new Object[0]);
                     String var7 = I18n.format("gui.cancel", new Object[0]);
-                    GuiYesNo var8 = new GuiYesNo(this, var4, var5, var6, var7, this.serverListSelector.func_148193_k());
+                    GuiYesNo var8 = new GuiYesNo(this, var4, var5, var6, var7, this.serverListSelector.getSelectedServer());
                     this.mc.displayGuiScreen(var8);
                 }
             }
@@ -180,18 +227,41 @@ public class GuiMultiplayer extends GuiScreen implements GuiYesNoCallback
             else if (button.id == 8)
             {
                 this.refreshServerList();
-            }
-        }
-    }
                 
-    private void refreshServerList()
+				// TODO: Client
+			}else if(button.id == 5)
+			{// Last Server
+				ServerHook.joinLastServer(this);
+			}else if(button.id == 6)
+				// Use Proxy
+				mc.displayGuiScreen(new GuiUseProxy(this));
+			else if(button.id == 10)
+				// Import
+				new Thread(
+					() -> ServerHook.importServers(GuiMultiplayer.this))
+					.start();
+			else if(button.id == 11)
+				// Export
+				new Thread(
+					() -> ServerHook.exportServers(GuiMultiplayer.this))
+					.start();
+			else if(button.id == 12)
+				// Server Finder
+				mc.displayGuiScreen(new GuiServerFinder(this));
+			else if(button.id == 13)
+				// Clean Up
+				mc.displayGuiScreen(new GuiCleanUp(this));
+        }
+    }
+
+    public void refreshServerList()
     {
         this.mc.displayGuiScreen(new GuiMultiplayer(this.parentScreen));
     }
 
     public void confirmClicked(boolean result, int id)
     {
-        GuiListExtended.IGuiListEntry var3 = this.serverListSelector.func_148193_k() < 0 ? null : this.serverListSelector.getListEntry(this.serverListSelector.func_148193_k());
+        GuiListExtended.IGuiListEntry var3 = this.serverListSelector.getSelectedServer() < 0 ? null : this.serverListSelector.getListEntry(this.serverListSelector.getSelectedServer());
 
         if (this.deletingServer)
         {
@@ -199,9 +269,9 @@ public class GuiMultiplayer extends GuiScreen implements GuiYesNoCallback
 
             if (result && var3 instanceof ServerListEntryNormal)
             {
-                this.savedServerList.removeServerData(this.serverListSelector.func_148193_k());
+                this.savedServerList.removeServerData(this.serverListSelector.getSelectedServer());
                 this.savedServerList.saveServerList();
-                this.serverListSelector.func_148192_c(-1);
+                this.serverListSelector.setSelectedServer(-1);
                 this.serverListSelector.func_148195_a(this.savedServerList);
             }
 
@@ -228,7 +298,7 @@ public class GuiMultiplayer extends GuiScreen implements GuiYesNoCallback
             {
                 this.savedServerList.addServerData(this.selectedServer);
                 this.savedServerList.saveServerList();
-                this.serverListSelector.func_148192_c(-1);
+                this.serverListSelector.setSelectedServer(-1);
                 this.serverListSelector.func_148195_a(this.savedServerList);
             }
 
@@ -258,7 +328,7 @@ public class GuiMultiplayer extends GuiScreen implements GuiYesNoCallback
      */
     protected void keyTyped(char typedChar, int keyCode) throws IOException
     {
-        int var3 = this.serverListSelector.func_148193_k();
+        int var3 = this.serverListSelector.getSelectedServer();
         GuiListExtended.IGuiListEntry var4 = var3 < 0 ? null : this.serverListSelector.getListEntry(var3);
 
         if (keyCode == 63)
@@ -276,19 +346,19 @@ public class GuiMultiplayer extends GuiScreen implements GuiYesNoCallback
                         if (var3 > 0 && var4 instanceof ServerListEntryNormal)
                         {
                             this.savedServerList.swapServers(var3, var3 - 1);
-                            this.selectServer(this.serverListSelector.func_148193_k() - 1);
+                            this.selectServer(this.serverListSelector.getSelectedServer() - 1);
                             this.serverListSelector.scrollBy(-this.serverListSelector.getSlotHeight());
                             this.serverListSelector.func_148195_a(this.savedServerList);
                         }
                     }
                     else if (var3 > 0)
                     {
-                        this.selectServer(this.serverListSelector.func_148193_k() - 1);
+                        this.selectServer(this.serverListSelector.getSelectedServer() - 1);
                         this.serverListSelector.scrollBy(-this.serverListSelector.getSlotHeight());
 
-                        if (this.serverListSelector.getListEntry(this.serverListSelector.func_148193_k()) instanceof ServerListEntryLanScan)
+                        if (this.serverListSelector.getListEntry(this.serverListSelector.getSelectedServer()) instanceof ServerListEntryLanScan)
                         {
-                            if (this.serverListSelector.func_148193_k() > 0)
+                            if (this.serverListSelector.getSelectedServer() > 0)
                             {
                                 this.selectServer(this.serverListSelector.getSize() - 1);
                                 this.serverListSelector.scrollBy(-this.serverListSelector.getSlotHeight());
@@ -318,12 +388,12 @@ public class GuiMultiplayer extends GuiScreen implements GuiYesNoCallback
                     }
                     else if (var3 < this.serverListSelector.getSize())
                     {
-                        this.selectServer(this.serverListSelector.func_148193_k() + 1);
+                        this.selectServer(this.serverListSelector.getSelectedServer() + 1);
                         this.serverListSelector.scrollBy(this.serverListSelector.getSlotHeight());
 
-                        if (this.serverListSelector.getListEntry(this.serverListSelector.func_148193_k()) instanceof ServerListEntryLanScan)
+                        if (this.serverListSelector.getListEntry(this.serverListSelector.getSelectedServer()) instanceof ServerListEntryLanScan)
                         {
-                            if (this.serverListSelector.func_148193_k() < this.serverListSelector.getSize() - 1)
+                            if (this.serverListSelector.getSelectedServer() < this.serverListSelector.getSize() - 1)
                             {
                                 this.selectServer(this.serverListSelector.getSize() + 1);
                                 this.serverListSelector.scrollBy(this.serverListSelector.getSlotHeight());
@@ -363,7 +433,8 @@ public class GuiMultiplayer extends GuiScreen implements GuiYesNoCallback
         this.field_146812_y = null;
         this.drawDefaultBackground();
         this.serverListSelector.drawScreen(mouseX, mouseY, partialTicks);
-        this.drawCenteredString(this.fontRendererObj, I18n.format("multiplayer.title", new Object[0]), this.width / 2, 20, 16777215);
+        //TODO: Client
+        this.drawCenteredString(this.fontRendererObj, I18n.format("multiplayer.title", new Object[0]), this.width / 2, 16, 16777215);
         super.drawScreen(mouseX, mouseY, partialTicks);
 
         if (this.field_146812_y != null)
@@ -374,7 +445,10 @@ public class GuiMultiplayer extends GuiScreen implements GuiYesNoCallback
 
     public void connectToSelected()
     {
-        GuiListExtended.IGuiListEntry var1 = this.serverListSelector.func_148193_k() < 0 ? null : this.serverListSelector.getListEntry(this.serverListSelector.func_148193_k());
+        GuiListExtended.IGuiListEntry var1 = this.serverListSelector.getSelectedServer() < 0 ? null : this.serverListSelector.getListEntry(this.serverListSelector.getSelectedServer());
+
+        //TODO: Client
+        ServerHook.updateLastServerFromServerlist(var1, this);
         
         if (var1 instanceof ServerListEntryNormal)
         {
@@ -387,14 +461,18 @@ public class GuiMultiplayer extends GuiScreen implements GuiYesNoCallback
         }
     }
 
-    private void connectToServer(ServerData server)
+    public void connectToServer(ServerData server)
     {
         this.mc.displayGuiScreen(new GuiConnecting(this, this.mc, server));
+        
+        //TODO: Client
+        SpamProcessor.runScript("joinserver", "Runs whenever you join a server.");
+		WurstClient.INSTANCE.analytics.trackPageView("/play/multiplayer", "Multiplayer");
     }
 
     public void selectServer(int index)
     {
-        this.serverListSelector.func_148192_c(index);
+        this.serverListSelector.setSelectedServer(index);
         GuiListExtended.IGuiListEntry var2 = index < 0 ? null : this.serverListSelector.getListEntry(index);
         this.btnSelectServer.enabled = false;
         this.btnEditServer.enabled = false;
@@ -460,7 +538,7 @@ public class GuiMultiplayer extends GuiScreen implements GuiYesNoCallback
         int var4 = p_175391_3_ ? 0 : p_175391_2_ - 1;
         this.savedServerList.swapServers(p_175391_2_, var4);
 
-        if (this.serverListSelector.func_148193_k() == p_175391_2_)
+        if (this.serverListSelector.getSelectedServer() == p_175391_2_)
         {
             this.selectServer(var4);
         }
@@ -473,7 +551,7 @@ public class GuiMultiplayer extends GuiScreen implements GuiYesNoCallback
         int var4 = p_175393_3_ ? this.savedServerList.countServers() - 1 : p_175393_2_ + 1;
         this.savedServerList.swapServers(p_175393_2_, var4);
 
-        if (this.serverListSelector.func_148193_k() == p_175393_2_)
+        if (this.serverListSelector.getSelectedServer() == p_175393_2_)
         {
             this.selectServer(var4);
         }
diff --git a/src/net/minecraft/client/gui/GuiNewChat.java b/src/net/minecraft/client/gui/GuiNewChat.java
index 1614678..8a2e1fd 100644
--- a/src/net/minecraft/client/gui/GuiNewChat.java
+++ b/src/net/minecraft/client/gui/GuiNewChat.java
@@ -1,17 +1,23 @@
 package net.minecraft.client.gui;
 
-import com.google.common.collect.Lists;
 import java.util.Iterator;
 import java.util.List;
+
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.entity.player.EntityPlayer;
 import net.minecraft.util.ChatComponentText;
 import net.minecraft.util.IChatComponent;
 import net.minecraft.util.MathHelper;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.events.ChatInputEvent;
+
+import com.google.common.collect.Lists;
+
 public class GuiNewChat extends Gui
 {
     private static final Logger logger = LogManager.getLogger();
@@ -90,7 +96,7 @@ public class GuiNewChat extends Gui
                                 drawRect(var15, var16 - 9, var15 + var8 + 4, var16, var14 / 2 << 24);
                                 String var17 = var10.getChatComponent().getFormattedText();
                                 GlStateManager.enableBlend();
-                                this.mc.fontRendererObj.func_175063_a(var17, (float)var15, (float)(var16 - 8), 16777215 + (var14 << 24));
+                                this.mc.fontRendererObj.drawStringWithShadow(var17, (float)var15, (float)(var16 - 8), 16777215 + (var14 << 24));
                                 GlStateManager.disableAlpha();
                                 GlStateManager.disableBlend();
                             }
@@ -141,47 +147,67 @@ public class GuiNewChat extends Gui
      */
     public void printChatMessageWithOptionalDeletion(IChatComponent p_146234_1_, int p_146234_2_)
     {
+    	//TODO: Client
+    	ChatInputEvent event = new ChatInputEvent(p_146234_1_, field_146253_i);
+    	WurstClient.INSTANCE.events.fireEvent(ChatInputEvent.class, event);
+    	if(event.isCancelled())
+    		return;
+    	p_146234_1_ = event.getComponent();
+    	
         this.setChatLine(p_146234_1_, p_146234_2_, this.mc.ingameGUI.getUpdateCounter(), false);
         logger.info("[CHAT] " + p_146234_1_.getUnformattedText());
     }
 
     private void setChatLine(IChatComponent p_146237_1_, int p_146237_2_, int p_146237_3_, boolean p_146237_4_)
     {
-        if (p_146237_2_ != 0)
+    	try
+		{
+			if(p_146237_2_ != 0)
 			{
 				this.deleteChatLine(p_146237_2_);
 			}
 			
-        int var5 = MathHelper.floor_float((float)this.getChatWidth() / this.getChatScale());
-        List var6 = GuiUtilRenderComponents.func_178908_a(p_146237_1_, var5, this.mc.fontRendererObj, false, false);
+			int var5 =
+				MathHelper.floor_float((float)this.getChatWidth()
+					/ this.getChatScale());
+			List var6 =
+				GuiUtilRenderComponents.func_178908_a(p_146237_1_, var5,
+					this.mc.fontRendererObj, false, false);
 			boolean var7 = this.getChatOpen();
 			IChatComponent var9;
 			
-        for (Iterator var8 = var6.iterator(); var8.hasNext(); this.field_146253_i.add(0, new ChatLine(p_146237_3_, var9, p_146237_2_)))
+			for(Iterator var8 = var6.iterator(); var8.hasNext(); this.field_146253_i
+				.add(0, new ChatLine(p_146237_3_, var9, p_146237_2_)))
 			{
 				var9 = (IChatComponent)var8.next();
 				
-            if (var7 && this.scrollPos > 0)
+				if(var7 && this.scrollPos > 0)
 				{
 					this.isScrolled = true;
 					this.scroll(1);
 				}
 			}
 			
-        while (this.field_146253_i.size() > 100)
+			while(this.field_146253_i.size() > 100)
 			{
 				this.field_146253_i.remove(this.field_146253_i.size() - 1);
 			}
 			
-        if (!p_146237_4_)
+			if(!p_146237_4_)
 			{
-            this.chatLines.add(0, new ChatLine(p_146237_3_, p_146237_1_, p_146237_2_));
+				this.chatLines.add(0, new ChatLine(p_146237_3_, p_146237_1_,
+					p_146237_2_));
 				
-            while (this.chatLines.size() > 100)
+				while(this.chatLines.size() > 100)
 				{
 					this.chatLines.remove(this.chatLines.size() - 1);
 				}
 			}
+		}catch(IndexOutOfBoundsException e)
+    	{
+    		// Rarely gets thrown for no reason
+    		// Might be a concurrent modification issue
+    	}
     }
 
     public void refreshChat()
diff --git a/src/net/minecraft/client/gui/GuiOptionButton.java b/src/net/minecraft/client/gui/GuiOptionButton.java
index 833c342..c273f56 100644
--- a/src/net/minecraft/client/gui/GuiOptionButton.java
+++ b/src/net/minecraft/client/gui/GuiOptionButton.java
@@ -1,5 +1,6 @@
 package net.minecraft.client.gui;
 
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.settings.GameSettings;
 
 public class GuiOptionButton extends GuiButton
diff --git a/src/net/minecraft/client/gui/GuiOptionSlider.java b/src/net/minecraft/client/gui/GuiOptionSlider.java
index 423c7b2..e303065 100644
--- a/src/net/minecraft/client/gui/GuiOptionSlider.java
+++ b/src/net/minecraft/client/gui/GuiOptionSlider.java
@@ -1,6 +1,7 @@
 package net.minecraft.client.gui;
 
 import net.minecraft.client.Minecraft;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.client.settings.GameSettings;
 import net.minecraft.util.MathHelper;
diff --git a/src/net/minecraft/client/gui/GuiOptions.java b/src/net/minecraft/client/gui/GuiOptions.java
index 2696569..77a440b 100644
--- a/src/net/minecraft/client/gui/GuiOptions.java
+++ b/src/net/minecraft/client/gui/GuiOptions.java
@@ -1,10 +1,12 @@
 package net.minecraft.client.gui;
 
 import java.io.IOException;
+
 import net.minecraft.client.audio.PositionedSoundRecord;
 import net.minecraft.client.audio.SoundCategory;
 import net.minecraft.client.audio.SoundEventAccessorComposite;
 import net.minecraft.client.audio.SoundHandler;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.gui.stream.GuiStreamOptions;
 import net.minecraft.client.gui.stream.GuiStreamUnavailable;
 import net.minecraft.client.resources.I18n;
diff --git a/src/net/minecraft/client/gui/GuiOptionsRowList.java b/src/net/minecraft/client/gui/GuiOptionsRowList.java
index 812b099..d69a453 100644
--- a/src/net/minecraft/client/gui/GuiOptionsRowList.java
+++ b/src/net/minecraft/client/gui/GuiOptionsRowList.java
@@ -1,8 +1,11 @@
 package net.minecraft.client.gui;
 
 import com.google.common.collect.Lists;
+
 import java.util.List;
+
 import net.minecraft.client.Minecraft;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.settings.GameSettings;
 
 public class GuiOptionsRowList extends GuiListExtended
diff --git a/src/net/minecraft/client/gui/GuiOverlayDebug.java b/src/net/minecraft/client/gui/GuiOverlayDebug.java
index 273ee40..0b4ed2d 100644
--- a/src/net/minecraft/client/gui/GuiOverlayDebug.java
+++ b/src/net/minecraft/client/gui/GuiOverlayDebug.java
@@ -127,7 +127,7 @@ public class GuiOverlayDebug extends Gui
 
             ArrayList var5 = Lists.newArrayList(new String[] {"Minecraft 1.8 (" + this.mc.func_175600_c() + "/" + ClientBrandRetriever.getClientModName() + ")", this.mc.debug, this.mc.renderGlobal.getDebugInfoRenders(), this.mc.renderGlobal.getDebugInfoEntities(), "P: " + this.mc.effectRenderer.getStatistics() + ". T: " + this.mc.theWorld.getDebugLoadedEntities(), this.mc.theWorld.getProviderName(), "", String.format("XYZ: %.3f / %.5f / %.3f", new Object[]{Double.valueOf(this.mc.func_175606_aa().posX), Double.valueOf(this.mc.func_175606_aa().getEntityBoundingBox().minY), Double.valueOf(this.mc.func_175606_aa().posZ)}), String.format("Block: %d %d %d", new Object[]{Integer.valueOf(var1.getX()), Integer.valueOf(var1.getY()), Integer.valueOf(var1.getZ())}), String.format("Chunk: %d %d %d in %d %d %d", new Object[]{Integer.valueOf(var1.getX() & 15), Integer.valueOf(var1.getY() & 15), Integer.valueOf(var1.getZ() & 15), Integer.valueOf(var1.getX() >> 4), Integer.valueOf(var1.getY() >> 4), Integer.valueOf(var1.getZ() >> 4)}), String.format("Facing: %s (%s) (%.1f / %.1f)", new Object[]{var3, var4, Float.valueOf(MathHelper.wrapAngleTo180_float(var2.rotationYaw)), Float.valueOf(MathHelper.wrapAngleTo180_float(var2.rotationPitch))})});
 
-            if (this.mc.theWorld != null && this.mc.theWorld.isBlockLoaded(var1))
+            if (this.mc.theWorld.isBlockLoaded(var1))
             {
                 Chunk var6 = this.mc.theWorld.getChunkFromBlockCoords(var1);
                 var5.add("Biome: " + var6.getBiome(var1, this.mc.theWorld.getWorldChunkManager()).biomeName);
@@ -152,9 +152,9 @@ public class GuiOverlayDebug extends Gui
                 var5.add("Shader: " + this.mc.entityRenderer.getShaderGroup().getShaderGroupName());
             }
 
-            if (this.mc.objectMouseOver != null && this.mc.objectMouseOver.typeOfHit == MovingObjectPosition.MovingObjectType.BLOCK && this.mc.objectMouseOver.func_178782_a() != null)
+            if (this.mc.objectMouseOver != null && this.mc.objectMouseOver.typeOfHit == MovingObjectPosition.MovingObjectType.BLOCK && this.mc.objectMouseOver.getBlockPos() != null)
             {
-                BlockPos var9 = this.mc.objectMouseOver.func_178782_a();
+                BlockPos var9 = this.mc.objectMouseOver.getBlockPos();
                 var5.add(String.format("Looking at: %d %d %d", new Object[] {Integer.valueOf(var9.getX()), Integer.valueOf(var9.getY()), Integer.valueOf(var9.getZ())}));
             }
 
@@ -176,9 +176,9 @@ public class GuiOverlayDebug extends Gui
         }
         else
         {
-            if (this.mc.objectMouseOver != null && this.mc.objectMouseOver.typeOfHit == MovingObjectPosition.MovingObjectType.BLOCK && this.mc.objectMouseOver.func_178782_a() != null)
+            if (this.mc.objectMouseOver != null && this.mc.objectMouseOver.typeOfHit == MovingObjectPosition.MovingObjectType.BLOCK && this.mc.objectMouseOver.getBlockPos() != null)
             {
-                BlockPos var10 = this.mc.objectMouseOver.func_178782_a();
+                BlockPos var10 = this.mc.objectMouseOver.getBlockPos();
                 IBlockState var11 = this.mc.theWorld.getBlockState(var10);
 
                 if (this.mc.theWorld.getWorldType() != WorldType.DEBUG_WORLD)
diff --git a/src/net/minecraft/client/gui/GuiPageButtonList.java b/src/net/minecraft/client/gui/GuiPageButtonList.java
index 7f0ae74..221e068 100644
--- a/src/net/minecraft/client/gui/GuiPageButtonList.java
+++ b/src/net/minecraft/client/gui/GuiPageButtonList.java
@@ -4,8 +4,11 @@ import com.google.common.base.Objects;
 import com.google.common.base.Predicate;
 import com.google.common.base.Predicates;
 import com.google.common.collect.Lists;
+
 import java.util.List;
+
 import net.minecraft.client.Minecraft;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.util.IntHashMap;
 
 public class GuiPageButtonList extends GuiListExtended
diff --git a/src/net/minecraft/client/gui/GuiPlayerTabOverlay.java b/src/net/minecraft/client/gui/GuiPlayerTabOverlay.java
index d09e06f..6728fd1 100644
--- a/src/net/minecraft/client/gui/GuiPlayerTabOverlay.java
+++ b/src/net/minecraft/client/gui/GuiPlayerTabOverlay.java
@@ -37,9 +37,9 @@ public class GuiPlayerTabOverlay extends Gui
         this.field_175251_g = p_i45529_2_;
     }
 
-    public String func_175243_a(NetworkPlayerInfo p_175243_1_)
+    public String func_175243_a(NetworkPlayerInfo networkPlayerInfo)
     {
-        return p_175243_1_.func_178854_k() != null ? p_175243_1_.func_178854_k().getFormattedText() : ScorePlayerTeam.formatPlayerName(p_175243_1_.func_178850_i(), p_175243_1_.func_178845_a().getName());
+        return networkPlayerInfo.getPlayerName() != null ? networkPlayerInfo.getPlayerName().getFormattedText() : ScorePlayerTeam.formatPlayerName(networkPlayerInfo.getScoreTeam(), networkPlayerInfo.getGameProfile().getName());
     }
 
     public void func_175246_a(boolean p_175246_1_)
@@ -55,7 +55,7 @@ public class GuiPlayerTabOverlay extends Gui
     public void func_175249_a(int p_175249_1_, Scoreboard p_175249_2_, ScoreObjective p_175249_3_)
     {
         NetHandlerPlayClient var4 = this.field_175250_f.thePlayer.sendQueue;
-        List var5 = field_175252_a.sortedCopy(var4.func_175106_d());
+        List var5 = field_175252_a.sortedCopy(var4.getPlayerInfo());
         int var6 = 0;
         int var7 = 0;
         Iterator var8 = var5.iterator();
@@ -69,7 +69,7 @@ public class GuiPlayerTabOverlay extends Gui
 
             if (p_175249_3_ != null && p_175249_3_.func_178766_e() != IScoreObjectiveCriteria.EnumRenderType.HEARTS)
             {
-                var10 = this.field_175250_f.fontRendererObj.getStringWidth(" " + p_175249_2_.getValueFromObjective(var9.func_178845_a().getName(), p_175249_3_).getScorePoints());
+                var10 = this.field_175250_f.fontRendererObj.getStringWidth(" " + p_175249_2_.getValueFromObjective(var9.getGameProfile().getName(), p_175249_3_).getScorePoints());
                 var7 = Math.max(var7, var10);
             }
         }
@@ -83,7 +83,7 @@ public class GuiPlayerTabOverlay extends Gui
             ++var10;
         }
 
-        boolean var11 = this.field_175250_f.isIntegratedServerRunning() || this.field_175250_f.getNetHandler().getNetworkManager().func_179292_f();
+        boolean var11 = this.field_175250_f.isIntegratedServerRunning() || this.field_175250_f.getNetHandler().getNetworkManager().isEncrypted();
         int var12;
 
         if (p_175249_3_ != null)
@@ -141,7 +141,7 @@ public class GuiPlayerTabOverlay extends Gui
             {
                 var20 = (String)var19.next();
                 var21 = this.field_175250_f.fontRendererObj.getStringWidth(var20);
-                this.field_175250_f.fontRendererObj.func_175063_a(var20, (float)(p_175249_1_ / 2 - var21 / 2), (float)var15, -1);
+                this.field_175250_f.fontRendererObj.drawStringWithShadow(var20, (float)(p_175249_1_ / 2 - var21 / 2), (float)var15, -1);
             }
 
             ++var15;
@@ -170,7 +170,7 @@ public class GuiPlayerTabOverlay extends Gui
                 {
                     this.field_175250_f.getTextureManager().bindTexture(var24.func_178837_g());
                     Gui.drawScaledCustomSizeModalRect(var22, var23, 8.0F, 8.0F, 8, 8, 8, 8, 64.0F, 64.0F);
-                    EntityPlayer var26 = this.field_175250_f.theWorld.getPlayerEntityByUUID(var24.func_178845_a().getId());
+                    EntityPlayer var26 = this.field_175250_f.theWorld.getPlayerEntityByUUID(var24.getGameProfile().getId());
 
                     if (var26 != null && var26.func_175148_a(EnumPlayerModelParts.HAT))
                     {
@@ -183,11 +183,11 @@ public class GuiPlayerTabOverlay extends Gui
                 if (var24.getGameType() == WorldSettings.GameType.SPECTATOR)
                 {
                     var25 = EnumChatFormatting.ITALIC + var25;
-                    this.field_175250_f.fontRendererObj.func_175063_a(var25, (float)var22, (float)var23, -1862270977);
+                    this.field_175250_f.fontRendererObj.drawStringWithShadow(var25, (float)var22, (float)var23, -1862270977);
                 }
                 else
                 {
-                    this.field_175250_f.fontRendererObj.func_175063_a(var25, (float)var22, (float)var23, -1);
+                    this.field_175250_f.fontRendererObj.drawStringWithShadow(var25, (float)var22, (float)var23, -1);
                 }
 
                 if (p_175249_3_ != null && var24.getGameType() != WorldSettings.GameType.SPECTATOR)
@@ -197,7 +197,7 @@ public class GuiPlayerTabOverlay extends Gui
 
                     if (var27 - var32 > 5)
                     {
-                        this.func_175247_a(p_175249_3_, var23, var24.func_178845_a().getName(), var32, var27, var24);
+                        this.func_175247_a(p_175249_3_, var23, var24.getGameProfile().getName(), var32, var27, var24);
                     }
                 }
 
@@ -214,7 +214,7 @@ public class GuiPlayerTabOverlay extends Gui
             {
                 var20 = (String)var19.next();
                 var21 = this.field_175250_f.fontRendererObj.getStringWidth(var20);
-                this.field_175250_f.fontRendererObj.func_175063_a(var20, (float)(p_175249_1_ / 2 - var21 / 2), (float)var15, -1);
+                this.field_175250_f.fontRendererObj.drawStringWithShadow(var20, (float)(p_175249_1_ / 2 - var21 / 2), (float)var15, -1);
             }
         }
     }
@@ -344,14 +344,14 @@ public class GuiPlayerTabOverlay extends Gui
                         var14 = var14 + "hp";
                     }
 
-                    this.field_175250_f.fontRendererObj.func_175063_a(var14, (float)((p_175247_5_ + p_175247_4_) / 2 - this.field_175250_f.fontRendererObj.getStringWidth(var14) / 2), (float)p_175247_2_, var13);
+                    this.field_175250_f.fontRendererObj.drawStringWithShadow(var14, (float)((p_175247_5_ + p_175247_4_) / 2 - this.field_175250_f.fontRendererObj.getStringWidth(var14) / 2), (float)p_175247_2_, var13);
                 }
             }
         }
         else
         {
             String var15 = EnumChatFormatting.YELLOW + "" + var7;
-            this.field_175250_f.fontRendererObj.func_175063_a(var15, (float)(p_175247_5_ - this.field_175250_f.fontRendererObj.getStringWidth(var15)), (float)p_175247_2_, 16777215);
+            this.field_175250_f.fontRendererObj.drawStringWithShadow(var15, (float)(p_175247_5_ - this.field_175250_f.fontRendererObj.getStringWidth(var15)), (float)p_175247_2_, 16777215);
         }
     }
 
@@ -373,9 +373,9 @@ public class GuiPlayerTabOverlay extends Gui
 
         public int func_178952_a(NetworkPlayerInfo p_178952_1_, NetworkPlayerInfo p_178952_2_)
         {
-            ScorePlayerTeam var3 = p_178952_1_.func_178850_i();
-            ScorePlayerTeam var4 = p_178952_2_.func_178850_i();
-            return ComparisonChain.start().compareTrueFirst(p_178952_1_.getGameType() != WorldSettings.GameType.SPECTATOR, p_178952_2_.getGameType() != WorldSettings.GameType.SPECTATOR).compare(var3 != null ? var3.getRegisteredName() : "", var4 != null ? var4.getRegisteredName() : "").compare(p_178952_1_.func_178845_a().getName(), p_178952_2_.func_178845_a().getName()).result();
+            ScorePlayerTeam var3 = p_178952_1_.getScoreTeam();
+            ScorePlayerTeam var4 = p_178952_2_.getScoreTeam();
+            return ComparisonChain.start().compareTrueFirst(p_178952_1_.getGameType() != WorldSettings.GameType.SPECTATOR, p_178952_2_.getGameType() != WorldSettings.GameType.SPECTATOR).compare(var3 != null ? var3.getRegisteredName() : "", var4 != null ? var4.getRegisteredName() : "").compare(p_178952_1_.getGameProfile().getName(), p_178952_2_.getGameProfile().getName()).result();
         }
 
         public int compare(Object p_compare_1_, Object p_compare_2_)
diff --git a/src/net/minecraft/client/gui/GuiRenameWorld.java b/src/net/minecraft/client/gui/GuiRenameWorld.java
index 977a564..7e7e929 100644
--- a/src/net/minecraft/client/gui/GuiRenameWorld.java
+++ b/src/net/minecraft/client/gui/GuiRenameWorld.java
@@ -1,9 +1,12 @@
 package net.minecraft.client.gui;
 
 import java.io.IOException;
+
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.resources.I18n;
 import net.minecraft.world.storage.ISaveFormat;
 import net.minecraft.world.storage.WorldInfo;
+
 import org.lwjgl.input.Keyboard;
 
 public class GuiRenameWorld extends GuiScreen
diff --git a/src/net/minecraft/client/gui/GuiScreen.java b/src/net/minecraft/client/gui/GuiScreen.java
index 1aa3ab1..51e7d84 100644
--- a/src/net/minecraft/client/gui/GuiScreen.java
+++ b/src/net/minecraft/client/gui/GuiScreen.java
@@ -3,6 +3,7 @@ package net.minecraft.client.gui;
 import com.google.common.base.Splitter;
 import com.google.common.collect.Lists;
 import com.google.common.collect.Sets;
+
 import java.awt.Toolkit;
 import java.awt.datatransfer.ClipboardOwner;
 import java.awt.datatransfer.DataFlavor;
@@ -17,7 +18,9 @@ import java.util.Arrays;
 import java.util.Iterator;
 import java.util.List;
 import java.util.Set;
+
 import net.minecraft.client.Minecraft;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.gui.stream.GuiTwitchUserMode;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.client.renderer.RenderHelper;
@@ -37,11 +40,13 @@ import net.minecraft.stats.StatList;
 import net.minecraft.util.ChatComponentTranslation;
 import net.minecraft.util.EnumChatFormatting;
 import net.minecraft.util.IChatComponent;
+
 import org.apache.commons.lang3.StringUtils;
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 import org.lwjgl.input.Keyboard;
 import org.lwjgl.input.Mouse;
+
 import tv.twitch.chat.ChatUserInfo;
 
 public abstract class GuiScreen extends Gui implements GuiYesNoCallback
@@ -51,7 +56,8 @@ public abstract class GuiScreen extends Gui implements GuiYesNoCallback
     private static final Splitter field_175285_g = Splitter.on('\n');
 
     /** Reference to the Minecraft object. */
-    protected Minecraft mc;
+    //TODO: Client
+    public static Minecraft mc;
 
     /**
      * Holds a instance of RenderItem, used to draw the achievement icons on screen (is based on ItemStack)
@@ -250,7 +256,7 @@ public abstract class GuiScreen extends Gui implements GuiYesNoCallback
             for (int var12 = 0; var12 < textLines.size(); ++var12)
             {
                 String var13 = (String)textLines.get(var12);
-                this.fontRendererObj.func_175063_a(var13, (float)var14, (float)var15, -1);
+                this.fontRendererObj.drawStringWithShadow(var13, (float)var14, (float)var15, -1);
 
                 if (var12 == 0)
                 {
@@ -657,7 +663,7 @@ public abstract class GuiScreen extends Gui implements GuiYesNoCallback
         GlStateManager.color(1.0F, 1.0F, 1.0F, 1.0F);
         float var4 = 32.0F;
         var3.startDrawingQuads();
-        var3.func_178991_c(4210752);
+        var3.setColorOpaque_I(4210752);
         var3.addVertexWithUV(0.0D, (double)this.height, 0.0D, 0.0D, (double)((float)this.height / var4 + (float)tint));
         var3.addVertexWithUV((double)this.width, (double)this.height, 0.0D, (double)((float)this.width / var4), (double)((float)this.height / var4 + (float)tint));
         var3.addVertexWithUV((double)this.width, 0.0D, 0.0D, (double)((float)this.width / var4), (double)tint);
diff --git a/src/net/minecraft/client/gui/GuiScreenAddServer.java b/src/net/minecraft/client/gui/GuiScreenAddServer.java
index 098969d..f032cdc 100644
--- a/src/net/minecraft/client/gui/GuiScreenAddServer.java
+++ b/src/net/minecraft/client/gui/GuiScreenAddServer.java
@@ -1,8 +1,11 @@
 package net.minecraft.client.gui;
 
 import java.io.IOException;
+
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.multiplayer.ServerData;
 import net.minecraft.client.resources.I18n;
+
 import org.lwjgl.input.Keyboard;
 
 public class GuiScreenAddServer extends GuiScreen
diff --git a/src/net/minecraft/client/gui/GuiScreenBook.java b/src/net/minecraft/client/gui/GuiScreenBook.java
index 914a882..bff5797 100644
--- a/src/net/minecraft/client/gui/GuiScreenBook.java
+++ b/src/net/minecraft/client/gui/GuiScreenBook.java
@@ -2,11 +2,15 @@ package net.minecraft.client.gui;
 
 import com.google.common.collect.Lists;
 import com.google.gson.JsonParseException;
+
 import io.netty.buffer.Unpooled;
+
 import java.io.IOException;
 import java.util.Iterator;
 import java.util.List;
+
 import net.minecraft.client.Minecraft;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.client.resources.I18n;
 import net.minecraft.entity.player.EntityPlayer;
@@ -14,6 +18,9 @@ import net.minecraft.event.ClickEvent;
 import net.minecraft.init.Items;
 import net.minecraft.item.ItemEditableBook;
 import net.minecraft.item.ItemStack;
+import net.minecraft.nbt.JsonToNBT;
+import net.minecraft.nbt.NBTBase;
+import net.minecraft.nbt.NBTException;
 import net.minecraft.nbt.NBTTagCompound;
 import net.minecraft.nbt.NBTTagList;
 import net.minecraft.nbt.NBTTagString;
@@ -21,13 +28,17 @@ import net.minecraft.network.PacketBuffer;
 import net.minecraft.network.play.client.C17PacketCustomPayload;
 import net.minecraft.util.ChatAllowedCharacters;
 import net.minecraft.util.ChatComponentText;
+import net.minecraft.util.ChatStyle;
 import net.minecraft.util.EnumChatFormatting;
 import net.minecraft.util.IChatComponent;
 import net.minecraft.util.ResourceLocation;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 import org.lwjgl.input.Keyboard;
 
+import tk.wurst_client.gui.mods.GuiBookHack;
+
 public class GuiScreenBook extends GuiScreen
 {
     private static final Logger logger = LogManager.getLogger();
@@ -68,6 +79,10 @@ public class GuiScreenBook extends GuiScreen
     private GuiButton buttonCancel;
     private static final String __OBFID = "CL_00000744";
     
+    //TODO: Client
+    private boolean hasCommand;
+    private String command;
+
     public GuiScreenBook(EntityPlayer p_i1080_1_, ItemStack p_i1080_2_, boolean p_i1080_3_)
     {
         this.editingPlayer = p_i1080_1_;
@@ -122,6 +137,10 @@ public class GuiScreenBook extends GuiScreen
             this.buttonList.add(this.buttonDone = new GuiButton(0, this.width / 2 + 2, 4 + this.bookImageHeight, 98, 20, I18n.format("gui.done", new Object[0])));
             this.buttonList.add(this.buttonFinalize = new GuiButton(5, this.width / 2 - 100, 4 + this.bookImageHeight, 98, 20, I18n.format("book.finalizeButton", new Object[0])));
             this.buttonList.add(this.buttonCancel = new GuiButton(4, this.width / 2 + 2, 4 + this.bookImageHeight, 98, 20, I18n.format("gui.cancel", new Object[0])));
+            
+            //TODO: Client
+            this.buttonList.add(new GuiButton(6, (width + bookImageWidth) / 2, bookImageHeight / 2, 100, 20, "Command Link"));
+            
         }
         else
         {
@@ -155,6 +174,12 @@ public class GuiScreenBook extends GuiScreen
             this.buttonCancel.visible = this.bookGettingSigned;
             this.buttonFinalize.visible = this.bookGettingSigned;
             this.buttonFinalize.enabled = this.bookTitle.trim().length() > 0;
+            
+            //TODO: Client
+            GuiButton buttonCommandLink = (GuiButton)buttonList.get(4);
+            buttonCommandLink.visible = bookGettingSigned;
+            buttonCommandLink.enabled = buttonFinalize.enabled;
+            
         }
     }
 
@@ -205,6 +230,35 @@ public class GuiScreenBook extends GuiScreen
                     }
 
                     this.bookObj.setItem(Items.written_book);
+                    
+                    // TODO: Client
+                    if(hasCommand)
+                    	try
+						{
+							NBTTagList pages =
+								bookObj.getTagCompound().getTagList("pages", 8);
+							for(int page = 0; page < pages.tagCount(); page++)
+							{
+								String text = pages.getStringTagAt(page);
+								text = text.substring(1, text.length() - 1);
+								ChatComponentText component =
+									new ChatComponentText(text);
+								component
+									.setChatStyle(new ChatStyle())
+									.getChatStyle()
+									.setChatClickEvent(
+										new ClickEvent(
+											ClickEvent.Action.RUN_COMMAND, command));
+								text =
+									IChatComponent.Serializer
+										.componentToJson(component);
+								pages.set(page, new NBTTagString(text));
+							}
+							System.out.println(bookObj.getTagCompound());
+						}catch(Exception e)
+                    {
+                    	e.printStackTrace();
+                    }
                 }
 
                 PacketBuffer var7 = new PacketBuffer(Unpooled.buffer());
@@ -258,12 +312,32 @@ public class GuiScreenBook extends GuiScreen
             else if (button.id == 4 && this.bookGettingSigned)
             {
                 this.bookGettingSigned = false;
+                
+                //TODO: Client
+            }else if(button.id == 6)
+			{
+            	mc.displayGuiScreen(new GuiBookHack(this));
 			}
 
             this.updateButtons();
         }
     }
     
+    //TODO: Client
+    public void signWithCommand(String command)
+    {
+		try
+		{
+			this.command = command;
+			hasCommand = true;
+			sendBookToServer(true);
+			this.mc.displayGuiScreen((GuiScreen)null);
+		}catch(Exception e)
+		{
+			e.printStackTrace();
+		}
+    }
+
     private void addNewPage()
     {
         if (this.bookPages != null && this.bookPages.tagCount() < 50)
diff --git a/src/net/minecraft/client/gui/GuiScreenCustomizePresets.java b/src/net/minecraft/client/gui/GuiScreenCustomizePresets.java
index 02c79e4..96f2ccd 100644
--- a/src/net/minecraft/client/gui/GuiScreenCustomizePresets.java
+++ b/src/net/minecraft/client/gui/GuiScreenCustomizePresets.java
@@ -1,14 +1,18 @@
 package net.minecraft.client.gui;
 
 import com.google.common.collect.Lists;
+
 import java.io.IOException;
 import java.util.List;
+
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.client.renderer.Tessellator;
 import net.minecraft.client.renderer.WorldRenderer;
 import net.minecraft.client.resources.I18n;
 import net.minecraft.util.ResourceLocation;
 import net.minecraft.world.gen.ChunkProviderSettings;
+
 import org.lwjgl.input.Keyboard;
 
 public class GuiScreenCustomizePresets extends GuiScreen
diff --git a/src/net/minecraft/client/gui/GuiScreenDemo.java b/src/net/minecraft/client/gui/GuiScreenDemo.java
index 68db2e7..61a59f3 100644
--- a/src/net/minecraft/client/gui/GuiScreenDemo.java
+++ b/src/net/minecraft/client/gui/GuiScreenDemo.java
@@ -2,10 +2,13 @@ package net.minecraft.client.gui;
 
 import java.io.IOException;
 import java.net.URI;
+
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.client.resources.I18n;
 import net.minecraft.client.settings.GameSettings;
 import net.minecraft.util.ResourceLocation;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
diff --git a/src/net/minecraft/client/gui/GuiScreenOptionsSounds.java b/src/net/minecraft/client/gui/GuiScreenOptionsSounds.java
index fd5022d..286c43b 100644
--- a/src/net/minecraft/client/gui/GuiScreenOptionsSounds.java
+++ b/src/net/minecraft/client/gui/GuiScreenOptionsSounds.java
@@ -1,10 +1,12 @@
 package net.minecraft.client.gui;
 
 import java.io.IOException;
+
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.audio.PositionedSoundRecord;
 import net.minecraft.client.audio.SoundCategory;
 import net.minecraft.client.audio.SoundHandler;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.client.resources.I18n;
 import net.minecraft.client.settings.GameSettings;
diff --git a/src/net/minecraft/client/gui/GuiScreenRealmsProxy.java b/src/net/minecraft/client/gui/GuiScreenRealmsProxy.java
index 61e8488..cf81f61 100644
--- a/src/net/minecraft/client/gui/GuiScreenRealmsProxy.java
+++ b/src/net/minecraft/client/gui/GuiScreenRealmsProxy.java
@@ -1,11 +1,14 @@
 package net.minecraft.client.gui;
 
 import com.google.common.collect.Lists;
+
 import java.io.IOException;
 import java.util.ArrayList;
 import java.util.Collections;
 import java.util.Iterator;
 import java.util.List;
+
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.item.ItemStack;
 import net.minecraft.realms.RealmsButton;
 import net.minecraft.realms.RealmsScreen;
@@ -132,7 +135,7 @@ public class GuiScreenRealmsProxy extends GuiScreen
 
     public void func_154319_c(String p_154319_1_, int p_154319_2_, int p_154319_3_, int p_154319_4_)
     {
-        this.fontRendererObj.func_175063_a(p_154319_1_, (float)p_154319_2_, (float)p_154319_3_, p_154319_4_);
+        this.fontRendererObj.drawStringWithShadow(p_154319_1_, (float)p_154319_2_, (float)p_154319_3_, p_154319_4_);
     }
 
     public List func_154323_a(String p_154323_1_, int p_154323_2_)
diff --git a/src/net/minecraft/client/gui/GuiScreenResourcePacks.java b/src/net/minecraft/client/gui/GuiScreenResourcePacks.java
index 543f122..dbc9bc8 100644
--- a/src/net/minecraft/client/gui/GuiScreenResourcePacks.java
+++ b/src/net/minecraft/client/gui/GuiScreenResourcePacks.java
@@ -1,6 +1,7 @@
 package net.minecraft.client.gui;
 
 import com.google.common.collect.Lists;
+
 import java.io.File;
 import java.io.IOException;
 import java.net.URI;
@@ -8,12 +9,15 @@ import java.util.ArrayList;
 import java.util.Collections;
 import java.util.Iterator;
 import java.util.List;
+
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.resources.I18n;
 import net.minecraft.client.resources.ResourcePackListEntry;
 import net.minecraft.client.resources.ResourcePackListEntryDefault;
 import net.minecraft.client.resources.ResourcePackListEntryFound;
 import net.minecraft.client.resources.ResourcePackRepository;
 import net.minecraft.util.Util;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 import org.lwjgl.Sys;
diff --git a/src/net/minecraft/client/gui/GuiScreenServerList.java b/src/net/minecraft/client/gui/GuiScreenServerList.java
index 6a95e45..f9bf16f 100644
--- a/src/net/minecraft/client/gui/GuiScreenServerList.java
+++ b/src/net/minecraft/client/gui/GuiScreenServerList.java
@@ -1,10 +1,16 @@
 package net.minecraft.client.gui;
 
 import java.io.IOException;
+
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.multiplayer.ServerData;
 import net.minecraft.client.resources.I18n;
+
 import org.lwjgl.input.Keyboard;
 
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.hooks.ServerHook;
+
 public class GuiScreenServerList extends GuiScreen
 {
     private final GuiScreen field_146303_a;
@@ -63,6 +69,11 @@ public class GuiScreenServerList extends GuiScreen
             else if (button.id == 0)
             {
                 this.field_146301_f.serverIP = this.field_146302_g.getText();
+                
+				// TODO: Client
+				ServerHook.updateLastServerFromDirectConnect(
+					(GuiMultiplayer)field_146303_a, field_146301_f);
+                
                 this.field_146303_a.confirmClicked(true, 0);
             }
         }
diff --git a/src/net/minecraft/client/gui/GuiSelectWorld.java b/src/net/minecraft/client/gui/GuiSelectWorld.java
index 8fa79c9..d2f3b69 100644
--- a/src/net/minecraft/client/gui/GuiSelectWorld.java
+++ b/src/net/minecraft/client/gui/GuiSelectWorld.java
@@ -5,8 +5,10 @@ import java.text.DateFormat;
 import java.text.SimpleDateFormat;
 import java.util.Collections;
 import java.util.Date;
+
 import net.minecraft.client.AnvilConverterException;
 import net.minecraft.client.Minecraft;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.resources.I18n;
 import net.minecraft.util.EnumChatFormatting;
 import net.minecraft.world.WorldSettings;
@@ -14,10 +16,13 @@ import net.minecraft.world.storage.ISaveFormat;
 import net.minecraft.world.storage.ISaveHandler;
 import net.minecraft.world.storage.SaveFormatComparator;
 import net.minecraft.world.storage.WorldInfo;
+
 import org.apache.commons.lang3.StringUtils;
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
+import tk.wurst_client.WurstClient;
+
 public class GuiSelectWorld extends GuiScreen implements GuiYesNoCallback
 {
     private static final Logger logger = LogManager.getLogger();
@@ -70,6 +75,7 @@ public class GuiSelectWorld extends GuiScreen implements GuiYesNoCallback
         this.field_146638_t = new GuiSelectWorld.List(this.mc);
         this.field_146638_t.registerScrollButtons(4, 5);
         this.func_146618_g();
+        WurstClient.INSTANCE.analytics.trackPageView("/singleplayer", "Select World");
     }
 
     /**
diff --git a/src/net/minecraft/client/gui/GuiShareToLan.java b/src/net/minecraft/client/gui/GuiShareToLan.java
index 9e7abdc..75a052f 100644
--- a/src/net/minecraft/client/gui/GuiShareToLan.java
+++ b/src/net/minecraft/client/gui/GuiShareToLan.java
@@ -1,6 +1,10 @@
 package net.minecraft.client.gui;
 
 import java.io.IOException;
+
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.hooks.ServerHook;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.resources.I18n;
 import net.minecraft.util.ChatComponentText;
 import net.minecraft.util.ChatComponentTranslation;
@@ -90,6 +94,10 @@ public class GuiShareToLan extends GuiScreen
             if (var2 != null)
             {
                 var3 = new ChatComponentTranslation("commands.publish.started", new Object[] {var2});
+                
+                //TODO: Client
+                ServerHook.setCurrentIpToLanServer(var2);
+                
             }
             else
             {
diff --git a/src/net/minecraft/client/gui/GuiSimpleScrolledSelectionListProxy.java b/src/net/minecraft/client/gui/GuiSimpleScrolledSelectionListProxy.java
index 4566817..502836b 100644
--- a/src/net/minecraft/client/gui/GuiSimpleScrolledSelectionListProxy.java
+++ b/src/net/minecraft/client/gui/GuiSimpleScrolledSelectionListProxy.java
@@ -128,21 +128,21 @@ public class GuiSimpleScrolledSelectionListProxy extends GuiSlot
                 }
 
                 var7.startDrawingQuads();
-                var7.func_178974_a(0, 255);
+                var7.setColorRGBA_I(0, 255);
                 var7.addVertexWithUV((double)var4, (double)this.bottom, 0.0D, 0.0D, 1.0D);
                 var7.addVertexWithUV((double)var5, (double)this.bottom, 0.0D, 1.0D, 1.0D);
                 var7.addVertexWithUV((double)var5, (double)this.top, 0.0D, 1.0D, 0.0D);
                 var7.addVertexWithUV((double)var4, (double)this.top, 0.0D, 0.0D, 0.0D);
                 var6.draw();
                 var7.startDrawingQuads();
-                var7.func_178974_a(8421504, 255);
+                var7.setColorRGBA_I(8421504, 255);
                 var7.addVertexWithUV((double)var4, (double)(var13 + var12), 0.0D, 0.0D, 1.0D);
                 var7.addVertexWithUV((double)var5, (double)(var13 + var12), 0.0D, 1.0D, 1.0D);
                 var7.addVertexWithUV((double)var5, (double)var13, 0.0D, 1.0D, 0.0D);
                 var7.addVertexWithUV((double)var4, (double)var13, 0.0D, 0.0D, 0.0D);
                 var6.draw();
                 var7.startDrawingQuads();
-                var7.func_178974_a(12632256, 255);
+                var7.setColorRGBA_I(12632256, 255);
                 var7.addVertexWithUV((double)var4, (double)(var13 + var12 - 1), 0.0D, 0.0D, 1.0D);
                 var7.addVertexWithUV((double)(var5 - 1), (double)(var13 + var12 - 1), 0.0D, 1.0D, 1.0D);
                 var7.addVertexWithUV((double)(var5 - 1), (double)var13, 0.0D, 1.0D, 0.0D);
diff --git a/src/net/minecraft/client/gui/GuiSleepMP.java b/src/net/minecraft/client/gui/GuiSleepMP.java
index 3a117a3..065166e 100644
--- a/src/net/minecraft/client/gui/GuiSleepMP.java
+++ b/src/net/minecraft/client/gui/GuiSleepMP.java
@@ -1,6 +1,8 @@
 package net.minecraft.client.gui;
 
 import java.io.IOException;
+
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.network.NetHandlerPlayClient;
 import net.minecraft.client.resources.I18n;
 import net.minecraft.network.play.client.C0BPacketEntityAction;
diff --git a/src/net/minecraft/client/gui/GuiSlider.java b/src/net/minecraft/client/gui/GuiSlider.java
index 1a0f324..ad05b42 100644
--- a/src/net/minecraft/client/gui/GuiSlider.java
+++ b/src/net/minecraft/client/gui/GuiSlider.java
@@ -1,6 +1,7 @@
 package net.minecraft.client.gui;
 
 import net.minecraft.client.Minecraft;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.client.resources.I18n;
 
diff --git a/src/net/minecraft/client/gui/GuiSlot.java b/src/net/minecraft/client/gui/GuiSlot.java
index 0220892..e0bfdf3 100644
--- a/src/net/minecraft/client/gui/GuiSlot.java
+++ b/src/net/minecraft/client/gui/GuiSlot.java
@@ -1,10 +1,12 @@
 package net.minecraft.client.gui;
 
 import net.minecraft.client.Minecraft;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.client.renderer.Tessellator;
 import net.minecraft.client.renderer.WorldRenderer;
 import net.minecraft.util.MathHelper;
+
 import org.lwjgl.input.Mouse;
 
 public abstract class GuiSlot
@@ -241,7 +243,7 @@ public abstract class GuiSlot
             GlStateManager.color(1.0F, 1.0F, 1.0F, 1.0F);
             float var8 = 32.0F;
             var7.startDrawingQuads();
-            var7.func_178991_c(2105376);
+            var7.setColorOpaque_I(2105376);
             var7.addVertexWithUV((double)this.left, (double)this.bottom, 0.0D, (double)((float)this.left / var8), (double)((float)(this.bottom + (int)this.amountScrolled) / var8));
             var7.addVertexWithUV((double)this.right, (double)this.bottom, 0.0D, (double)((float)this.right / var8), (double)((float)(this.bottom + (int)this.amountScrolled) / var8));
             var7.addVertexWithUV((double)this.right, (double)this.top, 0.0D, (double)((float)this.right / var8), (double)((float)(this.top + (int)this.amountScrolled) / var8));
@@ -266,18 +268,18 @@ public abstract class GuiSlot
             GlStateManager.shadeModel(7425);
             GlStateManager.func_179090_x();
             var7.startDrawingQuads();
-            var7.func_178974_a(0, 0);
+            var7.setColorRGBA_I(0, 0);
             var7.addVertexWithUV((double)this.left, (double)(this.top + var11), 0.0D, 0.0D, 1.0D);
             var7.addVertexWithUV((double)this.right, (double)(this.top + var11), 0.0D, 1.0D, 1.0D);
-            var7.func_178974_a(0, 255);
+            var7.setColorRGBA_I(0, 255);
             var7.addVertexWithUV((double)this.right, (double)this.top, 0.0D, 1.0D, 0.0D);
             var7.addVertexWithUV((double)this.left, (double)this.top, 0.0D, 0.0D, 0.0D);
             var6.draw();
             var7.startDrawingQuads();
-            var7.func_178974_a(0, 255);
+            var7.setColorRGBA_I(0, 255);
             var7.addVertexWithUV((double)this.left, (double)this.bottom, 0.0D, 0.0D, 1.0D);
             var7.addVertexWithUV((double)this.right, (double)this.bottom, 0.0D, 1.0D, 1.0D);
-            var7.func_178974_a(0, 0);
+            var7.setColorRGBA_I(0, 0);
             var7.addVertexWithUV((double)this.right, (double)(this.bottom - var11), 0.0D, 1.0D, 0.0D);
             var7.addVertexWithUV((double)this.left, (double)(this.bottom - var11), 0.0D, 0.0D, 0.0D);
             var6.draw();
@@ -295,21 +297,21 @@ public abstract class GuiSlot
                 }
 
                 var7.startDrawingQuads();
-                var7.func_178974_a(0, 255);
+                var7.setColorRGBA_I(0, 255);
                 var7.addVertexWithUV((double)var4, (double)this.bottom, 0.0D, 0.0D, 1.0D);
                 var7.addVertexWithUV((double)var5, (double)this.bottom, 0.0D, 1.0D, 1.0D);
                 var7.addVertexWithUV((double)var5, (double)this.top, 0.0D, 1.0D, 0.0D);
                 var7.addVertexWithUV((double)var4, (double)this.top, 0.0D, 0.0D, 0.0D);
                 var6.draw();
                 var7.startDrawingQuads();
-                var7.func_178974_a(8421504, 255);
+                var7.setColorRGBA_I(8421504, 255);
                 var7.addVertexWithUV((double)var4, (double)(var14 + var13), 0.0D, 0.0D, 1.0D);
                 var7.addVertexWithUV((double)var5, (double)(var14 + var13), 0.0D, 1.0D, 1.0D);
                 var7.addVertexWithUV((double)var5, (double)var14, 0.0D, 1.0D, 0.0D);
                 var7.addVertexWithUV((double)var4, (double)var14, 0.0D, 0.0D, 0.0D);
                 var6.draw();
                 var7.startDrawingQuads();
-                var7.func_178974_a(12632256, 255);
+                var7.setColorRGBA_I(12632256, 255);
                 var7.addVertexWithUV((double)var4, (double)(var14 + var13 - 1), 0.0D, 0.0D, 1.0D);
                 var7.addVertexWithUV((double)(var5 - 1), (double)(var14 + var13 - 1), 0.0D, 1.0D, 1.0D);
                 var7.addVertexWithUV((double)(var5 - 1), (double)var14, 0.0D, 1.0D, 0.0D);
@@ -464,12 +466,12 @@ public abstract class GuiSlot
                 GlStateManager.color(1.0F, 1.0F, 1.0F, 1.0F);
                 GlStateManager.func_179090_x();
                 var7.startDrawingQuads();
-                var7.func_178991_c(8421504);
+                var7.setColorOpaque_I(8421504);
                 var7.addVertexWithUV((double)var11, (double)(var9 + var10 + 2), 0.0D, 0.0D, 1.0D);
                 var7.addVertexWithUV((double)var12, (double)(var9 + var10 + 2), 0.0D, 1.0D, 1.0D);
                 var7.addVertexWithUV((double)var12, (double)(var9 - 2), 0.0D, 1.0D, 0.0D);
                 var7.addVertexWithUV((double)var11, (double)(var9 - 2), 0.0D, 0.0D, 0.0D);
-                var7.func_178991_c(0);
+                var7.setColorOpaque_I(0);
                 var7.addVertexWithUV((double)(var11 + 1), (double)(var9 + var10 + 1), 0.0D, 0.0D, 1.0D);
                 var7.addVertexWithUV((double)(var12 - 1), (double)(var9 + var10 + 1), 0.0D, 1.0D, 1.0D);
                 var7.addVertexWithUV((double)(var12 - 1), (double)(var9 - 1), 0.0D, 1.0D, 0.0D);
@@ -498,10 +500,10 @@ public abstract class GuiSlot
         GlStateManager.color(1.0F, 1.0F, 1.0F, 1.0F);
         float var7 = 32.0F;
         var6.startDrawingQuads();
-        var6.func_178974_a(4210752, p_148136_4_);
+        var6.setColorRGBA_I(4210752, p_148136_4_);
         var6.addVertexWithUV((double)this.left, (double)p_148136_2_, 0.0D, 0.0D, (double)((float)p_148136_2_ / var7));
         var6.addVertexWithUV((double)(this.left + this.width), (double)p_148136_2_, 0.0D, (double)((float)this.width / var7), (double)((float)p_148136_2_ / var7));
-        var6.func_178974_a(4210752, p_148136_3_);
+        var6.setColorRGBA_I(4210752, p_148136_3_);
         var6.addVertexWithUV((double)(this.left + this.width), (double)p_148136_1_, 0.0D, (double)((float)this.width / var7), (double)((float)p_148136_1_ / var7));
         var6.addVertexWithUV((double)this.left, (double)p_148136_1_, 0.0D, 0.0D, (double)((float)p_148136_1_ / var7));
         var5.draw();
diff --git a/src/net/minecraft/client/gui/GuiSnooper.java b/src/net/minecraft/client/gui/GuiSnooper.java
index 78acac1..be72d96 100644
--- a/src/net/minecraft/client/gui/GuiSnooper.java
+++ b/src/net/minecraft/client/gui/GuiSnooper.java
@@ -1,11 +1,14 @@
 package net.minecraft.client.gui;
 
 import com.google.common.collect.Lists;
+
 import java.io.IOException;
 import java.util.ArrayList;
 import java.util.Iterator;
 import java.util.TreeMap;
 import java.util.Map.Entry;
+
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.resources.I18n;
 import net.minecraft.client.settings.GameSettings;
 
diff --git a/src/net/minecraft/client/gui/GuiSpectator.java b/src/net/minecraft/client/gui/GuiSpectator.java
index a925cbe..628bf2c 100644
--- a/src/net/minecraft/client/gui/GuiSpectator.java
+++ b/src/net/minecraft/client/gui/GuiSpectator.java
@@ -111,7 +111,7 @@ public class GuiSpectator extends Gui implements ISpectatorMenuReciepient
 
             if (var6 > 3 && p_175266_5_.func_178662_A_())
             {
-                this.field_175268_g.fontRendererObj.func_175063_a(var8, (float)(p_175266_2_ + 19 - 2 - this.field_175268_g.fontRendererObj.getStringWidth(var8)), p_175266_3_ + 6.0F + 3.0F, 16777215 + (var6 << 24));
+                this.field_175268_g.fontRendererObj.drawStringWithShadow(var8, (float)(p_175266_2_ + 19 - 2 - this.field_175268_g.fontRendererObj.getStringWidth(var8)), p_175266_3_ + 6.0F + 3.0F, 16777215 + (var6 << 24));
             }
         }
     }
@@ -132,7 +132,7 @@ public class GuiSpectator extends Gui implements ISpectatorMenuReciepient
                 GlStateManager.pushMatrix();
                 GlStateManager.enableBlend();
                 GlStateManager.tryBlendFuncSeparate(770, 771, 1, 0);
-                this.field_175268_g.fontRendererObj.func_175063_a(var4, (float)var5, (float)var6, 16777215 + (var2 << 24));
+                this.field_175268_g.fontRendererObj.drawStringWithShadow(var4, (float)var5, (float)var6, 16777215 + (var2 << 24));
                 GlStateManager.disableBlend();
                 GlStateManager.popMatrix();
             }
diff --git a/src/net/minecraft/client/gui/GuiTextField.java b/src/net/minecraft/client/gui/GuiTextField.java
index 04144e8..1df2388 100644
--- a/src/net/minecraft/client/gui/GuiTextField.java
+++ b/src/net/minecraft/client/gui/GuiTextField.java
@@ -549,7 +549,7 @@ public class GuiTextField extends Gui
             if (var4.length() > 0)
             {
                 String var10 = var5 ? var4.substring(0, var2) : var4;
-                var9 = this.fontRendererInstance.func_175063_a(var10, (float)var7, (float)var8, var1);
+                var9 = this.fontRendererInstance.drawStringWithShadow(var10, (float)var7, (float)var8, var1);
             }
 
             boolean var13 = this.cursorPosition < this.text.length() || this.text.length() >= this.getMaxStringLength();
@@ -567,7 +567,7 @@ public class GuiTextField extends Gui
 
             if (var4.length() > 0 && var5 && var2 < var4.length())
             {
-                var9 = this.fontRendererInstance.func_175063_a(var4.substring(var2), (float)var9, (float)var8, var1);
+                var9 = this.fontRendererInstance.drawStringWithShadow(var4.substring(var2), (float)var9, (float)var8, var1);
             }
 
             if (var6)
@@ -578,7 +578,7 @@ public class GuiTextField extends Gui
                 }
                 else
                 {
-                    this.fontRendererInstance.func_175063_a("_", (float)var11, (float)var8, var1);
+                    this.fontRendererInstance.drawStringWithShadow("_", (float)var11, (float)var8, var1);
                 }
             }
 
diff --git a/src/net/minecraft/client/gui/GuiVideoSettings.java b/src/net/minecraft/client/gui/GuiVideoSettings.java
index 5c2d5b1..cda7e01 100644
--- a/src/net/minecraft/client/gui/GuiVideoSettings.java
+++ b/src/net/minecraft/client/gui/GuiVideoSettings.java
@@ -1,6 +1,8 @@
 package net.minecraft.client.gui;
 
 import java.io.IOException;
+
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.renderer.OpenGlHelper;
 import net.minecraft.client.resources.I18n;
 import net.minecraft.client.settings.GameSettings;
diff --git a/src/net/minecraft/client/gui/GuiWinGame.java b/src/net/minecraft/client/gui/GuiWinGame.java
index 28cacd3..39dd86d 100644
--- a/src/net/minecraft/client/gui/GuiWinGame.java
+++ b/src/net/minecraft/client/gui/GuiWinGame.java
@@ -131,7 +131,7 @@ public class GuiWinGame extends GuiScreen
         WorldRenderer var5 = var4.getWorldRenderer();
         this.mc.getTextureManager().bindTexture(Gui.optionsBackground);
         var5.startDrawingQuads();
-        var5.func_178960_a(1.0F, 1.0F, 1.0F, 1.0F);
+        var5.setColorRGBA_F(1.0F, 1.0F, 1.0F, 1.0F);
         int var6 = this.width;
         float var7 = 0.0F - ((float)this.field_146581_h + p_146575_3_) * 0.5F * this.field_146578_s;
         float var8 = (float)this.height - ((float)this.field_146581_h + p_146575_3_) * 0.5F * this.field_146578_s;
@@ -152,7 +152,7 @@ public class GuiWinGame extends GuiScreen
 
         var10 *= var10;
         var10 = var10 * 96.0F / 255.0F;
-        var5.func_178986_b(var10, var10, var10);
+        var5.setColorOpaque_F(var10, var10, var10);
         var5.addVertexWithUV(0.0D, (double)this.height, (double)this.zLevel, 0.0D, (double)(var7 * var9));
         var5.addVertexWithUV((double)var6, (double)this.height, (double)this.zLevel, (double)((float)var6 * var9), (double)(var7 * var9));
         var5.addVertexWithUV((double)var6, 0.0D, (double)this.zLevel, (double)((float)var6 * var9), (double)(var8 * var9));
@@ -178,7 +178,7 @@ public class GuiWinGame extends GuiScreen
         GlStateManager.color(1.0F, 1.0F, 1.0F, 1.0F);
         this.drawTexturedModalRect(var7, var8, 0, 0, 155, 44);
         this.drawTexturedModalRect(var7 + 155, var8, 0, 45, 155, 44);
-        var5.func_178991_c(16777215);
+        var5.setColorOpaque_I(16777215);
         int var10 = var8 + 200;
         int var11;
 
@@ -200,12 +200,12 @@ public class GuiWinGame extends GuiScreen
 
                 if (var13.startsWith("[C]"))
                 {
-                    this.fontRendererObj.func_175063_a(var13.substring(3), (float)(var7 + (var6 - this.fontRendererObj.getStringWidth(var13.substring(3))) / 2), (float)var10, 16777215);
+                    this.fontRendererObj.drawStringWithShadow(var13.substring(3), (float)(var7 + (var6 - this.fontRendererObj.getStringWidth(var13.substring(3))) / 2), (float)var10, 16777215);
                 }
                 else
                 {
                     this.fontRendererObj.fontRandom.setSeed((long)var11 * 4238972211L + (long)(this.field_146581_h / 4));
-                    this.fontRendererObj.func_175063_a(var13, (float)var7, (float)var10, 16777215);
+                    this.fontRendererObj.drawStringWithShadow(var13, (float)var7, (float)var10, 16777215);
                 }
             }
 
@@ -217,7 +217,7 @@ public class GuiWinGame extends GuiScreen
         GlStateManager.enableBlend();
         GlStateManager.blendFunc(0, 769);
         var5.startDrawingQuads();
-        var5.func_178960_a(1.0F, 1.0F, 1.0F, 1.0F);
+        var5.setColorRGBA_F(1.0F, 1.0F, 1.0F, 1.0F);
         var11 = this.width;
         int var14 = this.height;
         var5.addVertexWithUV(0.0D, (double)var14, (double)this.zLevel, 0.0D, 1.0D);
diff --git a/src/net/minecraft/client/gui/GuiYesNo.java b/src/net/minecraft/client/gui/GuiYesNo.java
index a6aafc7..0554c69 100644
--- a/src/net/minecraft/client/gui/GuiYesNo.java
+++ b/src/net/minecraft/client/gui/GuiYesNo.java
@@ -1,9 +1,12 @@
 package net.minecraft.client.gui;
 
 import com.google.common.collect.Lists;
+
 import java.io.IOException;
 import java.util.Iterator;
 import java.util.List;
+
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.resources.I18n;
 
 public class GuiYesNo extends GuiScreen
diff --git a/src/net/minecraft/client/gui/ScaledResolution.java b/src/net/minecraft/client/gui/ScaledResolution.java
index d451b5b..7579cb2 100644
--- a/src/net/minecraft/client/gui/ScaledResolution.java
+++ b/src/net/minecraft/client/gui/ScaledResolution.java
@@ -22,7 +22,7 @@ public class ScaledResolution
 
         if (var5 == 0)
         {
-            var5 = 1000;
+            var5 = 3;
         }
 
         while (this.scaleFactor < var5 && this.scaledWidth / (this.scaleFactor + 1) >= 320 && this.scaledHeight / (this.scaleFactor + 1) >= 240)
diff --git a/src/net/minecraft/client/gui/ScreenChatOptions.java b/src/net/minecraft/client/gui/ScreenChatOptions.java
index 711f2dc..8f917c9 100644
--- a/src/net/minecraft/client/gui/ScreenChatOptions.java
+++ b/src/net/minecraft/client/gui/ScreenChatOptions.java
@@ -1,6 +1,8 @@
 package net.minecraft.client.gui;
 
 import java.io.IOException;
+
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.resources.I18n;
 import net.minecraft.client.settings.GameSettings;
 
diff --git a/src/net/minecraft/client/gui/ServerListEntryNormal.java b/src/net/minecraft/client/gui/ServerListEntryNormal.java
index f8402bf..8c8bd38 100644
--- a/src/net/minecraft/client/gui/ServerListEntryNormal.java
+++ b/src/net/minecraft/client/gui/ServerListEntryNormal.java
@@ -37,7 +37,7 @@ public class ServerListEntryNormal implements GuiListExtended.IGuiListEntry
     private long field_148298_f;
     private static final String __OBFID = "CL_00000817";
 
-    protected ServerListEntryNormal(GuiMultiplayer p_i45048_1_, ServerData p_i45048_2_)
+    public ServerListEntryNormal(GuiMultiplayer p_i45048_1_, ServerData p_i45048_2_)
     {
         this.field_148303_c = p_i45048_1_;
         this.field_148301_e = p_i45048_2_;
@@ -88,7 +88,13 @@ public class ServerListEntryNormal implements GuiListExtended.IGuiListEntry
             this.field_148300_d.fontRendererObj.drawString((String)var12.get(var13), x + 32 + 3, y + 12 + this.field_148300_d.fontRendererObj.FONT_HEIGHT * var13, 8421504);
         }
 
-        String var23 = var11 ? EnumChatFormatting.DARK_RED + this.field_148301_e.gameVersion : this.field_148301_e.populationInfo;
+		// TODO: Client
+		String var23 =
+			var11 ? EnumChatFormatting.DARK_RED
+				+ this.field_148301_e.gameVersion : EnumChatFormatting.GREEN
+				+ field_148301_e.gameVersion + EnumChatFormatting.RESET + " "
+				+ this.field_148301_e.populationInfo;
+
         int var14 = this.field_148300_d.fontRendererObj.getStringWidth(var23);
         this.field_148300_d.fontRendererObj.drawString(var23, x + listWidth - var14 - 15 - 2, y + 1, 8421504);
         byte var15 = 0;
diff --git a/src/net/minecraft/client/gui/ServerSelectionList.java b/src/net/minecraft/client/gui/ServerSelectionList.java
index 86db79f..254648c 100644
--- a/src/net/minecraft/client/gui/ServerSelectionList.java
+++ b/src/net/minecraft/client/gui/ServerSelectionList.java
@@ -13,7 +13,7 @@ public class ServerSelectionList extends GuiListExtended
     private final List field_148198_l = Lists.newArrayList();
     private final List field_148199_m = Lists.newArrayList();
     private final GuiListExtended.IGuiListEntry lanScanEntry = new ServerListEntryLanScan();
-    private int field_148197_o = -1;
+    private int selectedServer = -1;
     private static final String __OBFID = "CL_00000819";
 
     public ServerSelectionList(GuiMultiplayer p_i45049_1_, Minecraft mcIn, int p_i45049_3_, int p_i45049_4_, int p_i45049_5_, int p_i45049_6_, int p_i45049_7_)
@@ -52,9 +52,10 @@ public class ServerSelectionList extends GuiListExtended
         return this.field_148198_l.size() + 1 + this.field_148199_m.size();
     }
 
-    public void func_148192_c(int p_148192_1_)
+    //TODO: Client
+    public void setSelectedServer(int selected)
     {
-        this.field_148197_o = p_148192_1_;
+        this.selectedServer = selected;
     }
 
     /**
@@ -62,12 +63,12 @@ public class ServerSelectionList extends GuiListExtended
      */
     protected boolean isSelected(int slotIndex)
     {
-        return slotIndex == this.field_148197_o;
+        return slotIndex == this.selectedServer;
     }
 
-    public int func_148193_k()
+    public int getSelectedServer()
     {
-        return this.field_148197_o;
+        return this.selectedServer;
     }
 
     public void func_148195_a(ServerList p_148195_1_)
diff --git a/src/net/minecraft/client/gui/achievement/GuiAchievements.java b/src/net/minecraft/client/gui/achievement/GuiAchievements.java
index 7b40c1c..dc6189e 100644
--- a/src/net/minecraft/client/gui/achievement/GuiAchievements.java
+++ b/src/net/minecraft/client/gui/achievement/GuiAchievements.java
@@ -2,6 +2,7 @@ package net.minecraft.client.gui.achievement;
 
 import java.io.IOException;
 import java.util.Random;
+
 import net.minecraft.block.Block;
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.gui.GuiButton;
@@ -21,6 +22,7 @@ import net.minecraft.stats.StatFileWriter;
 import net.minecraft.util.ChatComponentTranslation;
 import net.minecraft.util.MathHelper;
 import net.minecraft.util.ResourceLocation;
+
 import org.lwjgl.input.Mouse;
 
 public class GuiAchievements extends GuiScreen implements IProgressMeter
@@ -526,7 +528,7 @@ public class GuiAchievements extends GuiScreen implements IProgressMeter
 
                 if (this.statFileWriter.hasAchievementUnlocked(var33))
                 {
-                    this.fontRendererObj.func_175063_a(I18n.format("achievement.taken", new Object[0]), (float)var40, (float)(var41 + var31 + 4), -7302913);
+                    this.fontRendererObj.drawStringWithShadow(I18n.format("achievement.taken", new Object[0]), (float)var40, (float)(var41 + var31 + 4), -7302913);
                 }
             }
             else
@@ -559,7 +561,7 @@ public class GuiAchievements extends GuiScreen implements IProgressMeter
 
             if (var36 != null)
             {
-                this.fontRendererObj.func_175063_a(var36, (float)var40, (float)var41, this.statFileWriter.canUnlockAchievement(var33) ? (var33.getSpecial() ? -128 : -1) : (var33.getSpecial() ? -8355776 : -8355712));
+                this.fontRendererObj.drawStringWithShadow(var36, (float)var40, (float)var41, this.statFileWriter.canUnlockAchievement(var33) ? (var33.getSpecial() ? -128 : -1) : (var33.getSpecial() ? -8355776 : -8355712));
             }
         }
 
diff --git a/src/net/minecraft/client/gui/achievement/GuiStats.java b/src/net/minecraft/client/gui/achievement/GuiStats.java
index 8b2fcfb..f0be0f5 100644
--- a/src/net/minecraft/client/gui/achievement/GuiStats.java
+++ b/src/net/minecraft/client/gui/achievement/GuiStats.java
@@ -1,11 +1,13 @@
 package net.minecraft.client.gui.achievement;
 
 import com.google.common.collect.Lists;
+
 import java.io.IOException;
 import java.util.Collections;
 import java.util.Comparator;
 import java.util.Iterator;
 import java.util.List;
+
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.audio.PositionedSoundRecord;
 import net.minecraft.client.gui.GuiButton;
@@ -26,6 +28,7 @@ import net.minecraft.stats.StatCrafting;
 import net.minecraft.stats.StatFileWriter;
 import net.minecraft.stats.StatList;
 import net.minecraft.util.ResourceLocation;
+
 import org.lwjgl.input.Mouse;
 
 public class GuiStats extends GuiScreen implements IProgressMeter
@@ -185,7 +188,7 @@ public class GuiStats extends GuiScreen implements IProgressMeter
         this.drawButtonBackground(p_146521_1_ + 1, p_146521_2_ + 1);
         GlStateManager.enableRescaleNormal();
         RenderHelper.enableGUIStandardItemLighting();
-        this.itemRender.func_175042_a(new ItemStack(p_146521_3_, 1, 0), p_146521_1_ + 2, p_146521_2_ + 2);
+        this.itemRender.func_180450_b(new ItemStack(p_146521_3_, 1, 0), p_146521_1_ + 2, p_146521_2_ + 2);
         RenderHelper.disableStandardItemLighting();
         GlStateManager.disableRescaleNormal();
     }
@@ -403,7 +406,7 @@ public class GuiStats extends GuiScreen implements IProgressMeter
                         int var7 = p_148142_2_ - 12;
                         int var8 = GuiStats.this.fontRendererObj.getStringWidth(var9);
                         GuiStats.this.drawGradientRect(var6 - 3, var7 - 3, var6 + var8 + 3, var7 + 8 + 3, -1073741824, -1073741824);
-                        GuiStats.this.fontRendererObj.func_175063_a(var9, (float)var6, (float)var7, -1);
+                        GuiStats.this.fontRendererObj.drawStringWithShadow(var9, (float)var6, (float)var7, -1);
                     }
                 }
             }
@@ -424,7 +427,7 @@ public class GuiStats extends GuiScreen implements IProgressMeter
                     int var9 = p_148213_3_ - 12;
                     int var10 = GuiStats.this.fontRendererObj.getStringWidth(var7);
                     GuiStats.this.drawGradientRect(var8 - 3, var9 - 3, var8 + var10 + 3, var9 + 8 + 3, -1073741824, -1073741824);
-                    GuiStats.this.fontRendererObj.func_175063_a(var7, (float)var8, (float)var9, -1);
+                    GuiStats.this.fontRendererObj.drawStringWithShadow(var7, (float)var8, (float)var9, -1);
                 }
             }
         }
diff --git a/src/net/minecraft/client/gui/inventory/GuiBeacon.java b/src/net/minecraft/client/gui/inventory/GuiBeacon.java
index ba125d8..e681e0a 100644
--- a/src/net/minecraft/client/gui/inventory/GuiBeacon.java
+++ b/src/net/minecraft/client/gui/inventory/GuiBeacon.java
@@ -1,8 +1,10 @@
 package net.minecraft.client.gui.inventory;
 
 import io.netty.buffer.Unpooled;
+
 import java.io.IOException;
 import java.util.Iterator;
+
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.gui.GuiScreen;
@@ -19,6 +21,7 @@ import net.minecraft.network.play.client.C17PacketCustomPayload;
 import net.minecraft.potion.Potion;
 import net.minecraft.tileentity.TileEntityBeacon;
 import net.minecraft.util.ResourceLocation;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
diff --git a/src/net/minecraft/client/gui/inventory/GuiChest.java b/src/net/minecraft/client/gui/inventory/GuiChest.java
index 93156ec..a5c9e04 100644
--- a/src/net/minecraft/client/gui/inventory/GuiChest.java
+++ b/src/net/minecraft/client/gui/inventory/GuiChest.java
@@ -1,54 +1,142 @@
 package net.minecraft.client.gui.inventory;
 
 import net.minecraft.client.Minecraft;
+import net.minecraft.client.gui.GuiButton;
+import net.minecraft.client.gui.inventory.GuiContainer;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.inventory.ContainerChest;
 import net.minecraft.inventory.IInventory;
+import net.minecraft.inventory.Slot;
 import net.minecraft.util.ResourceLocation;
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.mods.AutoStealMod;
+import tk.wurst_client.mods.YesCheatMod;
 
 public class GuiChest extends GuiContainer
 {
+    private static final String __OBFID = "CL_00000749";
 	private static final ResourceLocation field_147017_u = new ResourceLocation("textures/gui/container/generic_54.png");
 	private IInventory upperChestInventory;
 	private IInventory lowerChestInventory;
 
 	/**
-     * window height is calculated with these values; the more rows, the heigher
+	 * window height is calculated with these values; the more rows, the higher
 	 */
 	private int inventoryRows;
-    private static final String __OBFID = "CL_00000749";
 
 	public GuiChest(IInventory p_i46315_1_, IInventory p_i46315_2_)
 	{
 		super(new ContainerChest(p_i46315_1_, p_i46315_2_, Minecraft.getMinecraft().thePlayer));
-        this.upperChestInventory = p_i46315_1_;
-        this.lowerChestInventory = p_i46315_2_;
-        this.allowUserInput = false;
+		upperChestInventory = p_i46315_1_;
+		lowerChestInventory = p_i46315_2_;
+		allowUserInput = false;
 		short var3 = 222;
 		int var4 = var3 - 108;
-        this.inventoryRows = p_i46315_2_.getSizeInventory() / 9;
-        this.ySize = var4 + this.inventoryRows * 18;
+		inventoryRows = p_i46315_2_.getSizeInventory() / 9;
+		ySize = var4 + inventoryRows * 18;
+	}
+
+	// TODO: Client
+	@SuppressWarnings("unchecked")
+	@Override
+	public void initGui()
+	{
+		super.initGui();
+		buttonList.add(new GuiButton(0, guiLeft + xSize - 108, guiTop + 4, 50,
+			12, "Steal"));
+		buttonList.add(new GuiButton(1, guiLeft + xSize - 56, guiTop + 4, 50,
+			12, "Store"));
+		if(WurstClient.INSTANCE.mods.autoStealMod.isActive())
+			actionPerformed((GuiButton)buttonList.get(0));
+	}
+
+	// TODO: Client
+	/*
+	 * Copyright  2014 - 2015 | Alexander01998 | All rights reserved.
+	 * 
+	 * This Source Code Form is subject to the terms of the Mozilla Public
+	 * License, v. 2.0. If a copy of the MPL was not distributed with this
+	 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
+	 */
+	@Override
+	protected void actionPerformed(GuiButton button)
+	{
+		if(button.id == 0)// Steal
+			new Thread(new Runnable()
+			{
+				@Override
+				public void run()
+				{
+					try
+					{
+						for(int i = 0; i < inventoryRows * 9; i++)
+						{
+							Slot slot =
+								(Slot)inventorySlots.inventorySlots.get(i);
+							if(slot.getStack() == null)
+								continue;
+							if(WurstClient.INSTANCE.mods.yesCheatMod
+								.isActive())
+								Thread.sleep(250);
+							handleMouseClick(slot, slot.slotNumber, 0, 1);
+							handleMouseClick(slot, slot.slotNumber, 0, 6);
+						}
+					}catch(Exception e)
+					{
+						e.printStackTrace();
+					}
+				}
+			}).start();
+		else if(button.id == 1)// Store
+			new Thread(new Runnable()
+			{
+				@Override
+				public void run()
+				{
+					try
+					{
+						for(int i = inventoryRows * 9; i < inventoryRows * 9 + 44; i++)
+						{
+							Slot slot =
+								(Slot)inventorySlots.inventorySlots.get(i);
+							if(slot.getStack() == null)
+								continue;
+							if(WurstClient.INSTANCE.mods.yesCheatMod
+								.isActive())
+								Thread.sleep(250);
+							handleMouseClick(slot, slot.slotNumber, 0, 1);
+							handleMouseClick(slot, slot.slotNumber, 0, 6);
+						}
+					}catch(Exception e)
+					{
+						e.printStackTrace();
+					}
+				}
+			}).start();
 	}
 
 	/**
-     * Draw the foreground layer for the GuiContainer (everything in front of the items). Args : mouseX, mouseY
+	 * Draw the foreground layer for the GuiContainer (everything in front of
+	 * the items). Args : mouseX, mouseY
 	 */
+	@Override
 	protected void drawGuiContainerForegroundLayer(int mouseX, int mouseY)
 	{
-        this.fontRendererObj.drawString(this.lowerChestInventory.getDisplayName().getUnformattedText(), 8, 6, 4210752);
-        this.fontRendererObj.drawString(this.upperChestInventory.getDisplayName().getUnformattedText(), 8, this.ySize - 96 + 2, 4210752);
+		fontRendererObj.drawString(lowerChestInventory.getDisplayName().getUnformattedText(), 8, 6, 4210752);
+		fontRendererObj.drawString(upperChestInventory.getDisplayName().getUnformattedText(), 8, ySize - 96 + 2, 4210752);
 	}
 
 	/**
 	 * Args : renderPartialTicks, mouseX, mouseY
 	 */
+	@Override
 	protected void drawGuiContainerBackgroundLayer(float partialTicks, int mouseX, int mouseY)
 	{
 		GlStateManager.color(1.0F, 1.0F, 1.0F, 1.0F);
-        this.mc.getTextureManager().bindTexture(field_147017_u);
-        int var4 = (this.width - this.xSize) / 2;
-        int var5 = (this.height - this.ySize) / 2;
-        this.drawTexturedModalRect(var4, var5, 0, 0, this.xSize, this.inventoryRows * 18 + 17);
-        this.drawTexturedModalRect(var4, var5 + this.inventoryRows * 18 + 17, 0, 126, this.xSize, 96);
+		mc.getTextureManager().bindTexture(field_147017_u);
+		int var4 = (width - xSize) / 2;
+		int var5 = (height - ySize) / 2;
+		drawTexturedModalRect(var4, var5, 0, 0, xSize, inventoryRows * 18 + 17);
+		drawTexturedModalRect(var4, var5 + inventoryRows * 18 + 17, 0, 126, xSize, 96);
 	}
 }
diff --git a/src/net/minecraft/client/gui/inventory/GuiContainer.java b/src/net/minecraft/client/gui/inventory/GuiContainer.java
index 07acadb..ef19d39 100644
--- a/src/net/minecraft/client/gui/inventory/GuiContainer.java
+++ b/src/net/minecraft/client/gui/inventory/GuiContainer.java
@@ -185,7 +185,7 @@ public abstract class GuiContainer extends GuiScreen
             int var20 = this.returningStackDestSlot.yDisplayPosition - this.touchUpY;
             int var13 = this.touchUpX + (int)((float)var11 * var18);
             int var14 = this.touchUpY + (int)((float)var20 * var18);
-            this.drawItemStack(this.returningStack, var13, var14, (String)null);
+            this.drawItemStack(this.returningStack, var13, var14, null);
         }
 
         GlStateManager.popMatrix();
@@ -229,40 +229,40 @@ public abstract class GuiContainer extends GuiScreen
     {
         int var2 = slotIn.xDisplayPosition;
         int var3 = slotIn.yDisplayPosition;
-        ItemStack var4 = slotIn.getStack();
+        ItemStack itemStack = slotIn.getStack();
         boolean var5 = false;
         boolean var6 = slotIn == this.clickedSlot && this.draggedStack != null && !this.isRightMouseClick;
-        ItemStack var7 = this.mc.thePlayer.inventory.getItemStack();
+        ItemStack heldItemStack = this.mc.thePlayer.inventory.getItemStack();
         String var8 = null;
 
-        if (slotIn == this.clickedSlot && this.draggedStack != null && this.isRightMouseClick && var4 != null)
+        if (slotIn == this.clickedSlot && this.draggedStack != null && this.isRightMouseClick && itemStack != null)
         {
-            var4 = var4.copy();
-            var4.stackSize /= 2;
+            itemStack = itemStack.copy();
+            itemStack.stackSize /= 2;
         }
-        else if (this.dragSplitting && this.dragSplittingSlots.contains(slotIn) && var7 != null)
+        else if (this.dragSplitting && this.dragSplittingSlots.contains(slotIn) && heldItemStack != null)
         {
             if (this.dragSplittingSlots.size() == 1)
             {
                 return;
             }
 
-            if (Container.canAddItemToSlot(slotIn, var7, true) && this.inventorySlots.canDragIntoSlot(slotIn))
+            if (Container.canAddItemToSlot(slotIn, heldItemStack, true) && this.inventorySlots.canDragIntoSlot(slotIn))
             {
-                var4 = var7.copy();
+                itemStack = heldItemStack.copy();
                 var5 = true;
-                Container.computeStackSize(this.dragSplittingSlots, this.dragSplittingLimit, var4, slotIn.getStack() == null ? 0 : slotIn.getStack().stackSize);
+                Container.computeStackSize(this.dragSplittingSlots, this.dragSplittingLimit, itemStack, slotIn.getStack() == null ? 0 : slotIn.getStack().stackSize);
 
-                if (var4.stackSize > var4.getMaxStackSize())
+                if (itemStack.stackSize > itemStack.getMaxStackSize())
                 {
-                    var8 = EnumChatFormatting.YELLOW + "" + var4.getMaxStackSize();
-                    var4.stackSize = var4.getMaxStackSize();
+                    var8 = EnumChatFormatting.YELLOW + "" + itemStack.getMaxStackSize();
+                    itemStack.stackSize = itemStack.getMaxStackSize();
                 }
 
-                if (var4.stackSize > slotIn.func_178170_b(var4))
+                if (itemStack.stackSize > slotIn.func_178170_b(itemStack))
                 {
-                    var8 = EnumChatFormatting.YELLOW + "" + slotIn.func_178170_b(var4);
-                    var4.stackSize = slotIn.func_178170_b(var4);
+                    var8 = EnumChatFormatting.YELLOW + "" + slotIn.func_178170_b(itemStack);
+                    itemStack.stackSize = slotIn.func_178170_b(itemStack);
                 }
             }
             else
@@ -275,9 +275,9 @@ public abstract class GuiContainer extends GuiScreen
         this.zLevel = 100.0F;
         this.itemRender.zLevel = 100.0F;
 
-        if (var4 == null)
+        if (itemStack == null)
         {
-            String var9 = slotIn.func_178171_c();
+            String var9 = slotIn.getNull();
 
             if (var9 != null)
             {
@@ -288,6 +288,8 @@ public abstract class GuiContainer extends GuiScreen
                 GlStateManager.enableLighting();
                 var6 = true;
             }
+            //TODO: Client
+            var6 = true;
         }
 
         if (!var6)
@@ -298,8 +300,8 @@ public abstract class GuiContainer extends GuiScreen
             }
 
             GlStateManager.enableDepth();
-            this.itemRender.func_180450_b(var4, var2, var3);
-            this.itemRender.func_180453_a(this.fontRendererObj, var4, var2, var3, var8);
+            this.itemRender.func_180450_b(itemStack, var2, var3);
+            this.itemRender.func_180453_a(this.fontRendererObj, itemStack, var2, var3, var8);
         }
 
         this.itemRender.zLevel = 0.0F;
diff --git a/src/net/minecraft/client/gui/inventory/GuiContainerCreative.java b/src/net/minecraft/client/gui/inventory/GuiContainerCreative.java
index 3ba9565..4341662 100644
--- a/src/net/minecraft/client/gui/inventory/GuiContainerCreative.java
+++ b/src/net/minecraft/client/gui/inventory/GuiContainerCreative.java
@@ -1,10 +1,12 @@
 package net.minecraft.client.gui.inventory;
 
 import com.google.common.collect.Lists;
+
 import java.io.IOException;
 import java.util.Iterator;
 import java.util.List;
 import java.util.Map;
+
 import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.gui.GuiTextField;
 import net.minecraft.client.gui.achievement.GuiAchievements;
@@ -29,6 +31,7 @@ import net.minecraft.item.ItemStack;
 import net.minecraft.util.EnumChatFormatting;
 import net.minecraft.util.MathHelper;
 import net.minecraft.util.ResourceLocation;
+
 import org.lwjgl.input.Keyboard;
 import org.lwjgl.input.Mouse;
 
@@ -83,7 +86,7 @@ public class GuiContainerCreative extends InventoryEffectRenderer
     /**
      * Called when the mouse is clicked over a slot or outside the gui.
      */
-    protected void handleMouseClick(Slot slotIn, int slotId, int clickedButton, int clickType)
+    public void handleMouseClick(Slot slotIn, int slotId, int clickedButton, int clickType)
     {
         this.field_147057_D = true;
         boolean var5 = clickType == 1;
@@ -1035,9 +1038,9 @@ public class GuiContainerCreative extends InventoryEffectRenderer
             return this.field_148332_b.func_178170_b(p_178170_1_);
         }
 
-        public String func_178171_c()
+        public String getNull()
         {
-            return this.field_148332_b.func_178171_c();
+            return this.field_148332_b.getNull();
         }
 
         public ItemStack decrStackSize(int p_75209_1_)
diff --git a/src/net/minecraft/client/gui/inventory/GuiEditSign.java b/src/net/minecraft/client/gui/inventory/GuiEditSign.java
index 21ea6e9..13a4cf2 100644
--- a/src/net/minecraft/client/gui/inventory/GuiEditSign.java
+++ b/src/net/minecraft/client/gui/inventory/GuiEditSign.java
@@ -1,6 +1,7 @@
 package net.minecraft.client.gui.inventory;
 
 import java.io.IOException;
+
 import net.minecraft.block.Block;
 import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.gui.GuiScreen;
@@ -8,13 +9,22 @@ import net.minecraft.client.network.NetHandlerPlayClient;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.client.renderer.tileentity.TileEntityRendererDispatcher;
 import net.minecraft.client.resources.I18n;
+import net.minecraft.event.ClickEvent;
+import net.minecraft.event.ClickEvent.Action;
 import net.minecraft.init.Blocks;
 import net.minecraft.network.play.client.C12PacketUpdateSign;
 import net.minecraft.tileentity.TileEntitySign;
 import net.minecraft.util.ChatAllowedCharacters;
 import net.minecraft.util.ChatComponentText;
+import net.minecraft.util.ChatStyle;
+import net.minecraft.util.IChatComponent;
+
 import org.lwjgl.input.Keyboard;
 
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.mods.AutoSignMod;
+import tk.wurst_client.mods.OpSignMod;
+
 public class GuiEditSign extends GuiScreen
 {
     /** Reference to the sign object. */
@@ -28,6 +38,7 @@ public class GuiEditSign extends GuiScreen
 
     /** "Done" button for the GUI. */
     private GuiButton doneBtn;
+
     private static final String __OBFID = "CL_00000764";
     
     public GuiEditSign(TileEntitySign p_i1097_1_)
@@ -40,6 +51,22 @@ public class GuiEditSign extends GuiScreen
      */
     public void initGui()
     {
+		// TODO: Client
+    	AutoSignMod autoSign = WurstClient.INSTANCE.mods.autoSignMod;
+		if(autoSign.isActive() && autoSign.signText != null)
+		{
+			this.tileSign.signText = autoSign.signText;
+			mc.displayGuiScreen(null);
+		}
+		OpSignMod opSign = WurstClient.INSTANCE.mods.opSignMod;
+		if(opSign.isActive())
+		{
+			ChatStyle style = new ChatStyle();
+			style.setChatClickEvent(new ClickEvent(Action.RUN_COMMAND, opSign.command));
+			tileSign.signText[0].setChatStyle(style);
+			mc.displayGuiScreen(null);
+		}
+    	
         this.buttonList.clear();
         Keyboard.enableRepeatEvents(true);
         this.buttonList.add(this.doneBtn = new GuiButton(0, this.width / 2 - 100, this.height / 4 + 120, I18n.format("gui.done", new Object[0])));
@@ -76,6 +103,11 @@ public class GuiEditSign extends GuiScreen
         {
             if (button.id == 0)
             {
+				// TODO: Client
+				AutoSignMod autoSign = WurstClient.INSTANCE.mods.autoSignMod;
+				if(autoSign.isActive() && autoSign.signText == null)
+					autoSign.signText = this.tileSign.signText;
+            	
                 this.tileSign.markDirty();
                 this.mc.displayGuiScreen((GuiScreen)null);
             }
diff --git a/src/net/minecraft/client/gui/inventory/GuiInventory.java b/src/net/minecraft/client/gui/inventory/GuiInventory.java
index b39e3fe..8097e57 100644
--- a/src/net/minecraft/client/gui/inventory/GuiInventory.java
+++ b/src/net/minecraft/client/gui/inventory/GuiInventory.java
@@ -1,6 +1,7 @@
 package net.minecraft.client.gui.inventory;
 
 import java.io.IOException;
+
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.gui.achievement.GuiAchievements;
diff --git a/src/net/minecraft/client/gui/spectator/categories/TeleportToPlayer.java b/src/net/minecraft/client/gui/spectator/categories/TeleportToPlayer.java
index a2a9b30..7e0c3f6 100644
--- a/src/net/minecraft/client/gui/spectator/categories/TeleportToPlayer.java
+++ b/src/net/minecraft/client/gui/spectator/categories/TeleportToPlayer.java
@@ -26,7 +26,7 @@ public class TeleportToPlayer implements ISpectatorMenuView, ISpectatorMenuObjec
         private static final String __OBFID = "CL_00001921";
         public int func_178746_a(NetworkPlayerInfo p_178746_1_, NetworkPlayerInfo p_178746_2_)
         {
-            return ComparisonChain.start().compare(p_178746_1_.func_178845_a().getId(), p_178746_2_.func_178845_a().getId()).result();
+            return ComparisonChain.start().compare(p_178746_1_.getGameProfile().getId(), p_178746_2_.getGameProfile().getId()).result();
         }
         public int compare(Object p_compare_1_, Object p_compare_2_)
         {
@@ -38,7 +38,7 @@ public class TeleportToPlayer implements ISpectatorMenuView, ISpectatorMenuObjec
 
     public TeleportToPlayer()
     {
-        this(field_178674_a.sortedCopy(Minecraft.getMinecraft().getNetHandler().func_175106_d()));
+        this(field_178674_a.sortedCopy(Minecraft.getMinecraft().getNetHandler().getPlayerInfo()));
     }
 
     public TeleportToPlayer(Collection p_i45493_1_)
@@ -52,7 +52,7 @@ public class TeleportToPlayer implements ISpectatorMenuView, ISpectatorMenuObjec
 
             if (var3.getGameType() != WorldSettings.GameType.SPECTATOR)
             {
-                this.field_178673_b.add(new PlayerMenuObject(var3.func_178845_a()));
+                this.field_178673_b.add(new PlayerMenuObject(var3.getGameProfile()));
             }
         }
     }
diff --git a/src/net/minecraft/client/gui/spectator/categories/TeleportToTeam.java b/src/net/minecraft/client/gui/spectator/categories/TeleportToTeam.java
index 680b12c..933a009 100644
--- a/src/net/minecraft/client/gui/spectator/categories/TeleportToTeam.java
+++ b/src/net/minecraft/client/gui/spectator/categories/TeleportToTeam.java
@@ -109,13 +109,13 @@ public class TeleportToTeam implements ISpectatorMenuView, ISpectatorMenuObject
 
             if (!this.field_178675_d.isEmpty())
             {
-                String var6 = ((NetworkPlayerInfo)this.field_178675_d.get((new Random()).nextInt(this.field_178675_d.size()))).func_178845_a().getName();
+                String var6 = ((NetworkPlayerInfo)this.field_178675_d.get((new Random()).nextInt(this.field_178675_d.size()))).getGameProfile().getName();
                 this.field_178677_c = AbstractClientPlayer.getLocationSkin(var6);
                 AbstractClientPlayer.getDownloadImageSkin(this.field_178677_c, var6);
             }
             else
             {
-                this.field_178677_c = DefaultPlayerSkin.func_177335_a();
+                this.field_178677_c = DefaultPlayerSkin.getLocationStevePNG();
             }
         }
 
diff --git a/src/net/minecraft/client/gui/stream/GuiIngestServers.java b/src/net/minecraft/client/gui/stream/GuiIngestServers.java
index 59d0d1f..e625f7a 100644
--- a/src/net/minecraft/client/gui/stream/GuiIngestServers.java
+++ b/src/net/minecraft/client/gui/stream/GuiIngestServers.java
@@ -1,6 +1,7 @@
 package net.minecraft.client.gui.stream;
 
 import java.io.IOException;
+
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.gui.GuiScreen;
diff --git a/src/net/minecraft/client/gui/stream/GuiStreamOptions.java b/src/net/minecraft/client/gui/stream/GuiStreamOptions.java
index 94ad401..995dd75 100644
--- a/src/net/minecraft/client/gui/stream/GuiStreamOptions.java
+++ b/src/net/minecraft/client/gui/stream/GuiStreamOptions.java
@@ -1,6 +1,7 @@
 package net.minecraft.client.gui.stream;
 
 import java.io.IOException;
+
 import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.gui.GuiOptionButton;
 import net.minecraft.client.gui.GuiOptionSlider;
diff --git a/src/net/minecraft/client/gui/stream/GuiStreamUnavailable.java b/src/net/minecraft/client/gui/stream/GuiStreamUnavailable.java
index 1b29f2e..ae3abbd 100644
--- a/src/net/minecraft/client/gui/stream/GuiStreamUnavailable.java
+++ b/src/net/minecraft/client/gui/stream/GuiStreamUnavailable.java
@@ -1,12 +1,14 @@
 package net.minecraft.client.gui.stream;
 
 import com.google.common.collect.Lists;
+
 import java.io.IOException;
 import java.net.URI;
 import java.util.ArrayList;
 import java.util.Arrays;
 import java.util.Iterator;
 import java.util.List;
+
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.gui.GuiScreen;
@@ -18,10 +20,12 @@ import net.minecraft.util.ChatComponentTranslation;
 import net.minecraft.util.IChatComponent;
 import net.minecraft.util.Session;
 import net.minecraft.util.Util;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 import org.lwjgl.opengl.GL11;
 import org.lwjgl.opengl.GLContext;
+
 import tv.twitch.ErrorCode;
 
 public class GuiStreamUnavailable extends GuiScreen
diff --git a/src/net/minecraft/client/gui/stream/GuiTwitchUserMode.java b/src/net/minecraft/client/gui/stream/GuiTwitchUserMode.java
index 9af11d4..42b1b45 100644
--- a/src/net/minecraft/client/gui/stream/GuiTwitchUserMode.java
+++ b/src/net/minecraft/client/gui/stream/GuiTwitchUserMode.java
@@ -1,11 +1,13 @@
 package net.minecraft.client.gui.stream;
 
 import com.google.common.collect.Lists;
+
 import java.io.IOException;
 import java.util.ArrayList;
 import java.util.Iterator;
 import java.util.List;
 import java.util.Set;
+
 import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.gui.GuiScreen;
 import net.minecraft.client.resources.I18n;
diff --git a/src/net/minecraft/client/main/Main.java b/src/net/minecraft/client/main/Main.java
index 591ccdf..53a1b0d 100644
--- a/src/net/minecraft/client/main/Main.java
+++ b/src/net/minecraft/client/main/Main.java
@@ -1,8 +1,5 @@
 package net.minecraft.client.main;
 
-import com.google.gson.GsonBuilder;
-import com.mojang.authlib.properties.PropertyMap;
-import com.mojang.authlib.properties.PropertyMap.Serializer;
 import java.io.File;
 import java.net.Authenticator;
 import java.net.InetSocketAddress;
@@ -10,6 +7,10 @@ import java.net.PasswordAuthentication;
 import java.net.Proxy;
 import java.net.Proxy.Type;
 import java.util.List;
+
+import javax.swing.UIManager;
+
+import tk.wurst_client.java8check.Java8Checker;
 import joptsimple.ArgumentAcceptingOptionSpec;
 import joptsimple.NonOptionArgumentSpec;
 import joptsimple.OptionParser;
@@ -17,12 +18,26 @@ import joptsimple.OptionSet;
 import net.minecraft.client.Minecraft;
 import net.minecraft.util.Session;
 
+import com.google.gson.GsonBuilder;
+import com.mojang.authlib.properties.PropertyMap;
+import com.mojang.authlib.properties.PropertyMap.Serializer;
+
 public class Main
 {
     private static final String __OBFID = "CL_00001461";
 
     public static void main(String[] p_main_0_)
     {
+    	//TODO: Client
+    	Java8Checker.checkJavaVersion();
+		try
+		{
+			UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
+		}catch(Exception e)
+		{
+			e.printStackTrace();
+		}
+		
         System.setProperty("java.net.preferIPv4Stack", "true");
         OptionParser var1 = new OptionParser();
         var1.allowsUnrecognizedOptions();
diff --git a/src/net/minecraft/client/multiplayer/GuiConnecting.java b/src/net/minecraft/client/multiplayer/GuiConnecting.java
index ee9ae67..81c53e6 100644
--- a/src/net/minecraft/client/multiplayer/GuiConnecting.java
+++ b/src/net/minecraft/client/multiplayer/GuiConnecting.java
@@ -4,6 +4,7 @@ import java.io.IOException;
 import java.net.InetAddress;
 import java.net.UnknownHostException;
 import java.util.concurrent.atomic.AtomicInteger;
+
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.gui.GuiDisconnected;
@@ -16,6 +17,7 @@ import net.minecraft.network.handshake.client.C00Handshake;
 import net.minecraft.network.login.client.C00PacketLoginStart;
 import net.minecraft.util.ChatComponentText;
 import net.minecraft.util.ChatComponentTranslation;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
diff --git a/src/net/minecraft/client/multiplayer/PlayerControllerMP.java b/src/net/minecraft/client/multiplayer/PlayerControllerMP.java
index 1c4d5a3..05c8ab5 100644
--- a/src/net/minecraft/client/multiplayer/PlayerControllerMP.java
+++ b/src/net/minecraft/client/multiplayer/PlayerControllerMP.java
@@ -28,6 +28,8 @@ import net.minecraft.util.ResourceLocation;
 import net.minecraft.util.Vec3;
 import net.minecraft.world.World;
 import net.minecraft.world.WorldSettings;
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.mods.FastBreakMod;
 
 public class PlayerControllerMP
 {
@@ -40,7 +42,8 @@ public class PlayerControllerMP
     private ItemStack currentItemHittingBlock;
 
     /** Current block damage (MP) */
-    private float curBlockDamageMP;
+    //TODO: Client
+    public static float curBlockDamageMP;
 
     /**
      * Tick counter, when it hits 4 it resets back to 0 and plays the step sound
@@ -69,11 +72,11 @@ public class PlayerControllerMP
         this.netClientHandler = p_i45062_2_;
     }
 
-    public static void func_178891_a(Minecraft mcIn, PlayerControllerMP p_178891_1_, BlockPos p_178891_2_, EnumFacing p_178891_3_)
+    public static void clickBlockCreative(Minecraft mcIn, PlayerControllerMP p_178891_1_, BlockPos p_178891_2_, EnumFacing p_178891_3_)
     {
         if (!mcIn.theWorld.func_175719_a(mcIn.thePlayer, p_178891_2_, p_178891_3_))
         {
-            p_178891_1_.func_178888_a(p_178891_2_, p_178891_3_);
+            p_178891_1_.onPlayerDestroyBlock(p_178891_2_, p_178891_3_);
         }
     }
 
@@ -118,7 +121,7 @@ public class PlayerControllerMP
         return this.currentGameType.isSurvivalOrAdventure();
     }
 
-    public boolean func_178888_a(BlockPos p_178888_1_, EnumFacing p_178888_2_)
+    public boolean onPlayerDestroyBlock(BlockPos pos, EnumFacing side)
     {
         if (this.currentGameType.isAdventure())
         {
@@ -129,7 +132,7 @@ public class PlayerControllerMP
 
             if (!this.mc.thePlayer.func_175142_cm())
             {
-                Block var3 = this.mc.theWorld.getBlockState(p_178888_1_).getBlock();
+                Block var3 = this.mc.theWorld.getBlockState(pos).getBlock();
                 ItemStack var4 = this.mc.thePlayer.getCurrentEquippedItem();
 
                 if (var4 == null)
@@ -151,7 +154,7 @@ public class PlayerControllerMP
         else
         {
             WorldClient var8 = this.mc.theWorld;
-            IBlockState var9 = var8.getBlockState(p_178888_1_);
+            IBlockState var9 = var8.getBlockState(pos);
             Block var5 = var9.getBlock();
 
             if (var5.getMaterial() == Material.air)
@@ -160,12 +163,12 @@ public class PlayerControllerMP
             }
             else
             {
-                var8.playAuxSFX(2001, p_178888_1_, Block.getStateId(var9));
-                boolean var6 = var8.setBlockToAir(p_178888_1_);
+                var8.playAuxSFX(2001, pos, Block.getStateId(var9));
+                boolean var6 = var8.setBlockToAir(pos);
 
                 if (var6)
                 {
-                    var5.onBlockDestroyedByPlayer(var8, p_178888_1_, var9);
+                    var5.onBlockDestroyedByPlayer(var8, pos, var9);
                 }
 
                 this.field_178895_c = new BlockPos(this.field_178895_c.getX(), -1, this.field_178895_c.getZ());
@@ -176,7 +179,7 @@ public class PlayerControllerMP
 
                     if (var7 != null)
                     {
-                        var7.onBlockDestroyed(var8, var5, p_178888_1_, this.mc.thePlayer);
+                        var7.onBlockDestroyed(var8, var5, pos, this.mc.thePlayer);
 
                         if (var7.stackSize == 0)
                         {
@@ -190,7 +193,7 @@ public class PlayerControllerMP
         }
     }
 
-    public boolean func_180511_b(BlockPos p_180511_1_, EnumFacing p_180511_2_)
+    public boolean clickBlock(BlockPos p_180511_1_, EnumFacing p_180511_2_)
     {
         Block var3;
 
@@ -227,10 +230,13 @@ public class PlayerControllerMP
             if (this.currentGameType.isCreative())
             {
                 this.netClientHandler.addToSendQueue(new C07PacketPlayerDigging(C07PacketPlayerDigging.Action.START_DESTROY_BLOCK, p_180511_1_, p_180511_2_));
-                func_178891_a(this.mc, this, p_180511_1_, p_180511_2_);
-                this.blockHitDelay = 5;
+                clickBlockCreative(this.mc, this, p_180511_1_, p_180511_2_);
+                
+                //TODO: Client
+                this.blockHitDelay = WurstClient.INSTANCE.mods.fastBreakMod.isEnabled() ? 0 : 5;
+                
             }
-            else if (!this.isHittingBlock || !this.func_178893_a(p_180511_1_))
+            else if (!this.isHittingBlock || !this.sameToolAndBlock(p_180511_1_))
             {
                 if (this.isHittingBlock)
                 {
@@ -248,7 +254,7 @@ public class PlayerControllerMP
 
                 if (var5 && var3.getPlayerRelativeBlockHardness(this.mc.thePlayer, this.mc.thePlayer.worldObj, p_180511_1_) >= 1.0F)
                 {
-                    this.func_178888_a(p_180511_1_, p_180511_2_);
+                    this.onPlayerDestroyBlock(p_180511_1_, p_180511_2_);
                 }
                 else
                 {
@@ -279,7 +285,10 @@ public class PlayerControllerMP
         }
     }
 
-    public boolean func_180512_c(BlockPos p_180512_1_, EnumFacing p_180512_2_)
+    /**
+     * Called when a player damages a block and updates damage counters
+     */
+    public boolean onPlayerDamageBlock(BlockPos p_180512_1_, EnumFacing p_180512_2_)
     {
         this.syncCurrentPlayItem();
 
@@ -290,12 +299,13 @@ public class PlayerControllerMP
         }
         else if (this.currentGameType.isCreative() && this.mc.theWorld.getWorldBorder().contains(p_180512_1_))
         {
-            this.blockHitDelay = 5;
+        	//TODO: Client
+            this.blockHitDelay = WurstClient.INSTANCE.mods.fastBreakMod.isEnabled() ? 0 : 5;
             this.netClientHandler.addToSendQueue(new C07PacketPlayerDigging(C07PacketPlayerDigging.Action.START_DESTROY_BLOCK, p_180512_1_, p_180512_2_));
-            func_178891_a(this.mc, this, p_180512_1_, p_180512_2_);
+            clickBlockCreative(this.mc, this, p_180512_1_, p_180512_2_);
             return true;
         }
-        else if (this.func_178893_a(p_180512_1_))
+        else if (this.sameToolAndBlock(p_180512_1_))
         {
             Block var3 = this.mc.theWorld.getBlockState(p_180512_1_).getBlock();
 
@@ -306,7 +316,15 @@ public class PlayerControllerMP
             }
             else
             {
-                this.curBlockDamageMP += var3.getPlayerRelativeBlockHardness(this.mc.thePlayer, this.mc.thePlayer.worldObj, p_180512_1_);
+				// TODO: Client
+				FastBreakMod fastBreak = WurstClient.INSTANCE.mods.fastBreakMod;
+				this.curBlockDamageMP +=
+					var3.getPlayerRelativeBlockHardness(this.mc.thePlayer,
+						this.mc.thePlayer.worldObj, p_180512_1_)
+						* (fastBreak.isActive()
+							&& !this.currentGameType.isCreative()
+							&& WurstClient.INSTANCE.options.fastbreakMode == 0
+							? fastBreak.speed : 1);
 
                 if (this.stepSoundTickCounter % 4.0F == 0.0F)
                 {
@@ -319,10 +337,18 @@ public class PlayerControllerMP
                 {
                     this.isHittingBlock = false;
                     this.netClientHandler.addToSendQueue(new C07PacketPlayerDigging(C07PacketPlayerDigging.Action.STOP_DESTROY_BLOCK, p_180512_1_, p_180512_2_));
-                    this.func_178888_a(p_180512_1_, p_180512_2_);
+                    this.onPlayerDestroyBlock(p_180512_1_, p_180512_2_);
                     this.curBlockDamageMP = 0.0F;
                     this.stepSoundTickCounter = 0.0F;
                     this.blockHitDelay = 5;
+                    
+					// TODO: Client
+				}else if(!this.currentGameType.isCreative()
+					&& WurstClient.INSTANCE.mods.fastBreakMod.isEnabled()
+					&& WurstClient.INSTANCE.options.fastbreakMode == 1)
+				{
+                	
+                    this.netClientHandler.addToSendQueue(new C07PacketPlayerDigging(C07PacketPlayerDigging.Action.STOP_DESTROY_BLOCK, p_180512_1_, p_180512_2_));
                 }
 
                 this.mc.theWorld.sendBlockBreakProgress(this.mc.thePlayer.getEntityId(), this.field_178895_c, (int)(this.curBlockDamageMP * 10.0F) - 1);
@@ -331,7 +357,7 @@ public class PlayerControllerMP
         }
         else
         {
-            return this.func_180511_b(p_180512_1_, p_180512_2_);
+            return this.clickBlock(p_180512_1_, p_180512_2_);
         }
     }
 
@@ -357,7 +383,7 @@ public class PlayerControllerMP
         }
     }
 
-    private boolean func_178893_a(BlockPos p_178893_1_)
+    private boolean sameToolAndBlock(BlockPos p_178893_1_)
     {
         ItemStack var2 = this.mc.thePlayer.getHeldItem();
         boolean var3 = this.currentItemHittingBlock == null && var2 == null;
@@ -463,7 +489,7 @@ public class PlayerControllerMP
             int var4 = itemStackIn.stackSize;
             ItemStack var5 = itemStackIn.useItemRightClick(worldIn, playerIn);
 
-            if (var5 == itemStackIn && (var5 == null || var5.stackSize == var4))
+            if (var5 == itemStackIn && var5.stackSize == var4)
             {
                 return false;
             }
diff --git a/src/net/minecraft/client/multiplayer/ServerList.java b/src/net/minecraft/client/multiplayer/ServerList.java
index 8bfcbea..c22761e 100644
--- a/src/net/minecraft/client/multiplayer/ServerList.java
+++ b/src/net/minecraft/client/multiplayer/ServerList.java
@@ -28,6 +28,12 @@ public class ServerList
         this.loadServerList();
     }
     
+    //TODO: Client
+    public void clearServerList()
+    {
+    	this.servers.clear();
+    }
+
     /**
      * Loads a list of servers from servers.dat, by running ServerData.getServerDataFromNBTCompound on each NBT compound
      * found in the "servers" tag list.
@@ -95,9 +101,9 @@ public class ServerList
     /**
      * Removes the ServerData instance stored for the given index in the list.
      */
-    public void removeServerData(int p_78851_1_)
+    public void removeServerData(int index)
     {
-        this.servers.remove(p_78851_1_);
+        this.servers.remove(index);
     }
 
     /**
@@ -127,9 +133,9 @@ public class ServerList
         this.saveServerList();
     }
 
-    public void func_147413_a(int p_147413_1_, ServerData p_147413_2_)
+    public void setServer(int index, ServerData server)
     {
-        this.servers.set(p_147413_1_, p_147413_2_);
+        this.servers.set(index, server);
     }
 
     public static void func_147414_b(ServerData p_147414_0_)
@@ -143,7 +149,7 @@ public class ServerList
 
             if (var3.serverName.equals(p_147414_0_.serverName) && var3.serverIP.equals(p_147414_0_.serverIP))
             {
-                var1.func_147413_a(var2, p_147414_0_);
+                var1.setServer(var2, p_147414_0_);
                 break;
             }
         }
diff --git a/src/net/minecraft/client/multiplayer/WorldClient.java b/src/net/minecraft/client/multiplayer/WorldClient.java
index 284bebf..a3ca587 100644
--- a/src/net/minecraft/client/multiplayer/WorldClient.java
+++ b/src/net/minecraft/client/multiplayer/WorldClient.java
@@ -1,10 +1,12 @@
 package net.minecraft.client.multiplayer;
 
 import com.google.common.collect.Sets;
+
 import java.util.Iterator;
 import java.util.Random;
 import java.util.Set;
 import java.util.concurrent.Callable;
+
 import net.minecraft.block.Block;
 import net.minecraft.block.state.IBlockState;
 import net.minecraft.client.Minecraft;
@@ -306,12 +308,18 @@ public class WorldClient extends World
         ItemStack var6 = this.mc.thePlayer.getHeldItem();
         boolean var7 = this.mc.playerController.func_178889_l() == WorldSettings.GameType.CREATIVE && var6 != null && Block.getBlockFromItem(var6.getItem()) == Blocks.barrier;
         
+        //TODO: Client
+        BlockPos var12 = new BlockPos(0, 0, 0);
+        
         for (int var8 = 0; var8 < 1000; ++var8)
         {
             int var9 = p_73029_1_ + this.rand.nextInt(var4) - this.rand.nextInt(var4);
             int var10 = p_73029_2_ + this.rand.nextInt(var4) - this.rand.nextInt(var4);
             int var11 = p_73029_3_ + this.rand.nextInt(var4) - this.rand.nextInt(var4);
-            BlockPos var12 = new BlockPos(var9, var10, var11);
+            
+            //TODO: Client
+            var12.setPos(var9, var10, var11);
+            
             IBlockState var13 = this.getBlockState(var12);
             var13.getBlock().randomDisplayTick(this, var12, var13, var5);
 
diff --git a/src/net/minecraft/client/network/NetHandlerLoginClient.java b/src/net/minecraft/client/network/NetHandlerLoginClient.java
index 4a4a4f8..7506221 100644
--- a/src/net/minecraft/client/network/NetHandlerLoginClient.java
+++ b/src/net/minecraft/client/network/NetHandlerLoginClient.java
@@ -5,11 +5,15 @@ import com.mojang.authlib.exceptions.AuthenticationException;
 import com.mojang.authlib.exceptions.AuthenticationUnavailableException;
 import com.mojang.authlib.exceptions.InvalidCredentialsException;
 import com.mojang.authlib.minecraft.MinecraftSessionService;
+
 import io.netty.util.concurrent.Future;
 import io.netty.util.concurrent.GenericFutureListener;
+
 import java.math.BigInteger;
 import java.security.PublicKey;
+
 import javax.crypto.SecretKey;
+
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.gui.GuiDisconnected;
 import net.minecraft.client.gui.GuiScreen;
@@ -24,6 +28,7 @@ import net.minecraft.network.login.server.S03PacketEnableCompression;
 import net.minecraft.util.ChatComponentTranslation;
 import net.minecraft.util.CryptManager;
 import net.minecraft.util.IChatComponent;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
diff --git a/src/net/minecraft/client/network/NetHandlerPlayClient.java b/src/net/minecraft/client/network/NetHandlerPlayClient.java
index dd6c06e..6c85815 100644
--- a/src/net/minecraft/client/network/NetHandlerPlayClient.java
+++ b/src/net/minecraft/client/network/NetHandlerPlayClient.java
@@ -1,39 +1,24 @@
 package net.minecraft.client.network;
 
-import com.google.common.collect.Maps;
-import com.google.common.util.concurrent.FutureCallback;
-import com.google.common.util.concurrent.Futures;
-import com.mojang.authlib.GameProfile;
 import io.netty.buffer.Unpooled;
+
 import java.io.File;
 import java.io.IOException;
 import java.util.Collection;
 import java.util.Iterator;
 import java.util.List;
 import java.util.Map;
+import java.util.Map.Entry;
 import java.util.Random;
 import java.util.UUID;
-import java.util.Map.Entry;
+
 import net.minecraft.block.Block;
 import net.minecraft.client.ClientBrandRetriever;
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.audio.GuardianSound;
 import net.minecraft.client.entity.EntityOtherPlayerMP;
 import net.minecraft.client.entity.EntityPlayerSP;
-import net.minecraft.client.gui.GuiChat;
-import net.minecraft.client.gui.GuiDisconnected;
-import net.minecraft.client.gui.GuiDownloadTerrain;
-import net.minecraft.client.gui.GuiMainMenu;
-import net.minecraft.client.gui.GuiMerchant;
-import net.minecraft.client.gui.GuiMultiplayer;
-import net.minecraft.client.gui.GuiScreen;
-import net.minecraft.client.gui.GuiScreenBook;
-import net.minecraft.client.gui.GuiScreenDemo;
-import net.minecraft.client.gui.GuiScreenRealmsProxy;
-import net.minecraft.client.gui.GuiWinGame;
-import net.minecraft.client.gui.GuiYesNo;
-import net.minecraft.client.gui.GuiYesNoCallback;
-import net.minecraft.client.gui.IProgressMeter;
+import net.minecraft.client.gui.*;
 import net.minecraft.client.gui.inventory.GuiContainerCreative;
 import net.minecraft.client.multiplayer.PlayerControllerMP;
 import net.minecraft.client.multiplayer.ServerData;
@@ -61,32 +46,12 @@ import net.minecraft.entity.ai.attributes.IAttribute;
 import net.minecraft.entity.ai.attributes.IAttributeInstance;
 import net.minecraft.entity.ai.attributes.RangedAttribute;
 import net.minecraft.entity.effect.EntityLightningBolt;
-import net.minecraft.entity.item.EntityArmorStand;
-import net.minecraft.entity.item.EntityBoat;
-import net.minecraft.entity.item.EntityEnderCrystal;
-import net.minecraft.entity.item.EntityEnderEye;
-import net.minecraft.entity.item.EntityEnderPearl;
-import net.minecraft.entity.item.EntityExpBottle;
-import net.minecraft.entity.item.EntityFallingBlock;
-import net.minecraft.entity.item.EntityFireworkRocket;
-import net.minecraft.entity.item.EntityItem;
-import net.minecraft.entity.item.EntityItemFrame;
-import net.minecraft.entity.item.EntityMinecart;
-import net.minecraft.entity.item.EntityPainting;
-import net.minecraft.entity.item.EntityTNTPrimed;
-import net.minecraft.entity.item.EntityXPOrb;
+import net.minecraft.entity.item.*;
 import net.minecraft.entity.monster.EntityGuardian;
 import net.minecraft.entity.passive.EntityHorse;
 import net.minecraft.entity.player.EntityPlayer;
 import net.minecraft.entity.player.InventoryPlayer;
-import net.minecraft.entity.projectile.EntityArrow;
-import net.minecraft.entity.projectile.EntityEgg;
-import net.minecraft.entity.projectile.EntityFishHook;
-import net.minecraft.entity.projectile.EntityLargeFireball;
-import net.minecraft.entity.projectile.EntityPotion;
-import net.minecraft.entity.projectile.EntitySmallFireball;
-import net.minecraft.entity.projectile.EntitySnowball;
-import net.minecraft.entity.projectile.EntityWitherSkull;
+import net.minecraft.entity.projectile.*;
 import net.minecraft.init.Items;
 import net.minecraft.inventory.AnimalChest;
 import net.minecraft.inventory.Container;
@@ -104,77 +69,7 @@ import net.minecraft.network.play.client.C03PacketPlayer;
 import net.minecraft.network.play.client.C0FPacketConfirmTransaction;
 import net.minecraft.network.play.client.C17PacketCustomPayload;
 import net.minecraft.network.play.client.C19PacketResourcePackStatus;
-import net.minecraft.network.play.server.S00PacketKeepAlive;
-import net.minecraft.network.play.server.S01PacketJoinGame;
-import net.minecraft.network.play.server.S02PacketChat;
-import net.minecraft.network.play.server.S03PacketTimeUpdate;
-import net.minecraft.network.play.server.S04PacketEntityEquipment;
-import net.minecraft.network.play.server.S05PacketSpawnPosition;
-import net.minecraft.network.play.server.S06PacketUpdateHealth;
-import net.minecraft.network.play.server.S07PacketRespawn;
-import net.minecraft.network.play.server.S08PacketPlayerPosLook;
-import net.minecraft.network.play.server.S09PacketHeldItemChange;
-import net.minecraft.network.play.server.S0APacketUseBed;
-import net.minecraft.network.play.server.S0BPacketAnimation;
-import net.minecraft.network.play.server.S0CPacketSpawnPlayer;
-import net.minecraft.network.play.server.S0DPacketCollectItem;
-import net.minecraft.network.play.server.S0EPacketSpawnObject;
-import net.minecraft.network.play.server.S0FPacketSpawnMob;
-import net.minecraft.network.play.server.S10PacketSpawnPainting;
-import net.minecraft.network.play.server.S11PacketSpawnExperienceOrb;
-import net.minecraft.network.play.server.S12PacketEntityVelocity;
-import net.minecraft.network.play.server.S13PacketDestroyEntities;
-import net.minecraft.network.play.server.S14PacketEntity;
-import net.minecraft.network.play.server.S18PacketEntityTeleport;
-import net.minecraft.network.play.server.S19PacketEntityHeadLook;
-import net.minecraft.network.play.server.S19PacketEntityStatus;
-import net.minecraft.network.play.server.S1BPacketEntityAttach;
-import net.minecraft.network.play.server.S1CPacketEntityMetadata;
-import net.minecraft.network.play.server.S1DPacketEntityEffect;
-import net.minecraft.network.play.server.S1EPacketRemoveEntityEffect;
-import net.minecraft.network.play.server.S1FPacketSetExperience;
-import net.minecraft.network.play.server.S20PacketEntityProperties;
-import net.minecraft.network.play.server.S21PacketChunkData;
-import net.minecraft.network.play.server.S22PacketMultiBlockChange;
-import net.minecraft.network.play.server.S23PacketBlockChange;
-import net.minecraft.network.play.server.S24PacketBlockAction;
-import net.minecraft.network.play.server.S25PacketBlockBreakAnim;
-import net.minecraft.network.play.server.S26PacketMapChunkBulk;
-import net.minecraft.network.play.server.S27PacketExplosion;
-import net.minecraft.network.play.server.S28PacketEffect;
-import net.minecraft.network.play.server.S29PacketSoundEffect;
-import net.minecraft.network.play.server.S2APacketParticles;
-import net.minecraft.network.play.server.S2BPacketChangeGameState;
-import net.minecraft.network.play.server.S2CPacketSpawnGlobalEntity;
-import net.minecraft.network.play.server.S2DPacketOpenWindow;
-import net.minecraft.network.play.server.S2EPacketCloseWindow;
-import net.minecraft.network.play.server.S2FPacketSetSlot;
-import net.minecraft.network.play.server.S30PacketWindowItems;
-import net.minecraft.network.play.server.S31PacketWindowProperty;
-import net.minecraft.network.play.server.S32PacketConfirmTransaction;
-import net.minecraft.network.play.server.S33PacketUpdateSign;
-import net.minecraft.network.play.server.S34PacketMaps;
-import net.minecraft.network.play.server.S35PacketUpdateTileEntity;
-import net.minecraft.network.play.server.S36PacketSignEditorOpen;
-import net.minecraft.network.play.server.S37PacketStatistics;
-import net.minecraft.network.play.server.S38PacketPlayerListItem;
-import net.minecraft.network.play.server.S39PacketPlayerAbilities;
-import net.minecraft.network.play.server.S3APacketTabComplete;
-import net.minecraft.network.play.server.S3BPacketScoreboardObjective;
-import net.minecraft.network.play.server.S3CPacketUpdateScore;
-import net.minecraft.network.play.server.S3DPacketDisplayScoreboard;
-import net.minecraft.network.play.server.S3EPacketTeams;
-import net.minecraft.network.play.server.S3FPacketCustomPayload;
-import net.minecraft.network.play.server.S40PacketDisconnect;
-import net.minecraft.network.play.server.S41PacketServerDifficulty;
-import net.minecraft.network.play.server.S42PacketCombatEvent;
-import net.minecraft.network.play.server.S43PacketCamera;
-import net.minecraft.network.play.server.S44PacketWorldBorder;
-import net.minecraft.network.play.server.S45PacketTitle;
-import net.minecraft.network.play.server.S46PacketSetCompressionLevel;
-import net.minecraft.network.play.server.S47PacketPlayerListHeaderFooter;
-import net.minecraft.network.play.server.S48PacketResourcePackSend;
-import net.minecraft.network.play.server.S49PacketUpdateEntityNBT;
+import net.minecraft.network.play.server.*;
 import net.minecraft.potion.PotionEffect;
 import net.minecraft.realms.DisconnectedRealmsScreen;
 import net.minecraft.scoreboard.IScoreObjectiveCriteria;
@@ -186,32 +81,25 @@ import net.minecraft.scoreboard.Team;
 import net.minecraft.stats.Achievement;
 import net.minecraft.stats.AchievementList;
 import net.minecraft.stats.StatBase;
-import net.minecraft.tileentity.TileEntity;
-import net.minecraft.tileentity.TileEntityBanner;
-import net.minecraft.tileentity.TileEntityBeacon;
-import net.minecraft.tileentity.TileEntityCommandBlock;
-import net.minecraft.tileentity.TileEntityFlowerPot;
-import net.minecraft.tileentity.TileEntityMobSpawner;
-import net.minecraft.tileentity.TileEntitySign;
-import net.minecraft.tileentity.TileEntitySkull;
-import net.minecraft.util.BlockPos;
-import net.minecraft.util.ChatComponentText;
-import net.minecraft.util.ChatComponentTranslation;
-import net.minecraft.util.EnumChatFormatting;
-import net.minecraft.util.EnumFacing;
-import net.minecraft.util.EnumParticleTypes;
-import net.minecraft.util.IChatComponent;
-import net.minecraft.util.MathHelper;
-import net.minecraft.util.StringUtils;
+import net.minecraft.tileentity.*;
+import net.minecraft.util.*;
 import net.minecraft.village.MerchantRecipeList;
 import net.minecraft.world.Explosion;
 import net.minecraft.world.WorldProviderSurface;
 import net.minecraft.world.WorldSettings;
 import net.minecraft.world.chunk.Chunk;
 import net.minecraft.world.storage.MapData;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
+import tk.wurst_client.gui.main.GuiWurstMainMenu;
+
+import com.google.common.collect.Maps;
+import com.google.common.util.concurrent.FutureCallback;
+import com.google.common.util.concurrent.Futures;
+import com.mojang.authlib.GameProfile;
+
 public class NetHandlerPlayClient implements INetHandlerPlayClient
 {
     private static final Logger logger = LogManager.getLogger();
@@ -540,7 +428,7 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
         double var6 = (double)packetIn.func_148946_h() / 32.0D;
         float var8 = (float)(packetIn.func_148941_i() * 360) / 256.0F;
         float var9 = (float)(packetIn.func_148945_j() * 360) / 256.0F;
-        EntityOtherPlayerMP var10 = new EntityOtherPlayerMP(this.gameController.theWorld, this.func_175102_a(packetIn.func_179819_c()).func_178845_a());
+        EntityOtherPlayerMP var10 = new EntityOtherPlayerMP(this.gameController.theWorld, this.func_175102_a(packetIn.func_179819_c()).getGameProfile());
         var10.prevPosX = var10.lastTickPosX = (double)(var10.serverPosX = packetIn.func_148942_f());
         var10.prevPosY = var10.lastTickPosY = (double)(var10.serverPosY = packetIn.func_148949_g());
         var10.prevPosZ = var10.lastTickPosZ = (double)(var10.serverPosZ = packetIn.func_148946_h());
@@ -815,7 +703,7 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
         }
         else
         {
-            this.gameController.displayGuiScreen(new GuiDisconnected(new GuiMultiplayer(new GuiMainMenu()), "disconnect.lost", reason));
+            this.gameController.displayGuiScreen(new GuiDisconnected(new GuiMultiplayer(new GuiWurstMainMenu()), "disconnect.lost", reason));
         }
     }
 
@@ -1642,7 +1530,7 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
                 if (packetIn.func_179768_b() == S38PacketPlayerListItem.Action.ADD_PLAYER)
                 {
                     var4 = new NetworkPlayerInfo(var3);
-                    this.playerInfoMap.put(var4.func_178845_a().getId(), var4);
+                    this.playerInfoMap.put(var4.getGameProfile().getId(), var4);
                 }
 
                 if (var4 != null)
@@ -1650,16 +1538,16 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
                     switch (NetHandlerPlayClient.SwitchAction.field_178884_b[packetIn.func_179768_b().ordinal()])
                     {
                         case 1:
-                            var4.func_178839_a(var3.func_179960_c());
-                            var4.func_178838_a(var3.func_179963_b());
+                            var4.setGameType(var3.func_179960_c());
+                            var4.setResponseTime(var3.func_179963_b());
                             break;
 
                         case 2:
-                            var4.func_178839_a(var3.func_179960_c());
+                            var4.setGameType(var3.func_179960_c());
                             break;
 
                         case 3:
-                            var4.func_178838_a(var3.func_179963_b());
+                            var4.setResponseTime(var3.func_179963_b());
                             break;
 
                         case 4:
@@ -2121,7 +2009,7 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
         return this.netManager;
     }
 
-    public Collection func_175106_d()
+    public Collection getPlayerInfo()
     {
         return this.playerInfoMap.values();
     }
@@ -2145,7 +2033,7 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
 
             var3 = (NetworkPlayerInfo)var2.next();
         }
-        while (!var3.func_178845_a().getName().equals(p_175104_1_));
+        while (!var3.getGameProfile().getName().equals(p_175104_1_));
 
         return var3;
     }
diff --git a/src/net/minecraft/client/network/NetworkPlayerInfo.java b/src/net/minecraft/client/network/NetworkPlayerInfo.java
index f5f680b..b2a5d77 100644
--- a/src/net/minecraft/client/network/NetworkPlayerInfo.java
+++ b/src/net/minecraft/client/network/NetworkPlayerInfo.java
@@ -4,6 +4,7 @@ import com.google.common.base.Objects;
 import com.mojang.authlib.GameProfile;
 import com.mojang.authlib.minecraft.MinecraftProfileTexture;
 import com.mojang.authlib.minecraft.MinecraftProfileTexture.Type;
+
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.resources.DefaultPlayerSkin;
 import net.minecraft.client.resources.SkinManager;
@@ -15,7 +16,7 @@ import net.minecraft.world.WorldSettings;
 
 public class NetworkPlayerInfo
 {
-    private final GameProfile field_178867_a;
+    private final GameProfile gameProfile;
     private WorldSettings.GameType gameType;
 
     /** Player response time to server in milliseconds */
@@ -23,8 +24,8 @@ public class NetworkPlayerInfo
     private boolean field_178864_d = false;
     private ResourceLocation field_178865_e;
     private ResourceLocation field_178862_f;
-    private String field_178863_g;
-    private IChatComponent field_178872_h;
+    private String name;
+    private IChatComponent playerName;
     private int field_178873_i = 0;
     private int field_178870_j = 0;
     private long field_178871_k = 0L;
@@ -34,19 +35,19 @@ public class NetworkPlayerInfo
 
     public NetworkPlayerInfo(GameProfile p_i46294_1_)
     {
-        this.field_178867_a = p_i46294_1_;
+        this.gameProfile = p_i46294_1_;
     }
 
     public NetworkPlayerInfo(S38PacketPlayerListItem.AddPlayerData p_i46295_1_)
     {
-        this.field_178867_a = p_i46295_1_.func_179962_a();
+        this.gameProfile = p_i46295_1_.func_179962_a();
         this.gameType = p_i46295_1_.func_179960_c();
         this.responseTime = p_i46295_1_.func_179963_b();
     }
 
-    public GameProfile func_178845_a()
+    public GameProfile getGameProfile()
     {
-        return this.field_178867_a;
+        return this.gameProfile;
     }
 
     public WorldSettings.GameType getGameType()
@@ -59,14 +60,14 @@ public class NetworkPlayerInfo
         return this.responseTime;
     }
 
-    protected void func_178839_a(WorldSettings.GameType p_178839_1_)
+    protected void setGameType(WorldSettings.GameType gameType)
     {
-        this.gameType = p_178839_1_;
+        this.gameType = gameType;
     }
 
-    protected void func_178838_a(int p_178838_1_)
+    protected void setResponseTime(int responseTime)
     {
-        this.responseTime = p_178838_1_;
+        this.responseTime = responseTime;
     }
 
     public boolean func_178856_e()
@@ -74,9 +75,9 @@ public class NetworkPlayerInfo
         return this.field_178865_e != null;
     }
 
-    public String func_178851_f()
+    public String getModelName()
     {
-        return this.field_178863_g == null ? DefaultPlayerSkin.func_177332_b(this.field_178867_a.getId()) : this.field_178863_g;
+        return this.name == null ? DefaultPlayerSkin.getModelNameFromUUID(this.gameProfile.getId()) : this.name;
     }
 
     public ResourceLocation func_178837_g()
@@ -86,7 +87,7 @@ public class NetworkPlayerInfo
             this.func_178841_j();
         }
 
-        return (ResourceLocation)Objects.firstNonNull(this.field_178865_e, DefaultPlayerSkin.func_177334_a(this.field_178867_a.getId()));
+        return (ResourceLocation)Objects.firstNonNull(this.field_178865_e, DefaultPlayerSkin.getLocationFromUUID(this.gameProfile.getId()));
     }
 
     public ResourceLocation func_178861_h()
@@ -99,9 +100,9 @@ public class NetworkPlayerInfo
         return this.field_178862_f;
     }
 
-    public ScorePlayerTeam func_178850_i()
+    public ScorePlayerTeam getScoreTeam()
     {
-        return Minecraft.getMinecraft().theWorld.getScoreboard().getPlayersTeam(this.func_178845_a().getName());
+        return Minecraft.getMinecraft().theWorld.getScoreboard().getPlayersTeam(this.getGameProfile().getName());
     }
 
     protected void func_178841_j()
@@ -111,7 +112,7 @@ public class NetworkPlayerInfo
             if (!this.field_178864_d)
             {
                 this.field_178864_d = true;
-                Minecraft.getMinecraft().getSkinManager().func_152790_a(this.field_178867_a, new SkinManager.SkinAvailableCallback()
+                Minecraft.getMinecraft().getSkinManager().func_152790_a(this.gameProfile, new SkinManager.SkinAvailableCallback()
                 {
                     private static final String __OBFID = "CL_00002619";
                     public void func_180521_a(Type p_180521_1_, ResourceLocation p_180521_2_, MinecraftProfileTexture p_180521_3_)
@@ -120,11 +121,11 @@ public class NetworkPlayerInfo
                         {
                             case 1:
                                 NetworkPlayerInfo.this.field_178865_e = p_180521_2_;
-                                NetworkPlayerInfo.this.field_178863_g = p_180521_3_.getMetadata("model");
+                                NetworkPlayerInfo.this.name = p_180521_3_.getMetadata("model");
 
-                                if (NetworkPlayerInfo.this.field_178863_g == null)
+                                if (NetworkPlayerInfo.this.name == null)
                                 {
-                                    NetworkPlayerInfo.this.field_178863_g = "default";
+                                    NetworkPlayerInfo.this.name = "default";
                                 }
 
                                 break;
@@ -140,12 +141,18 @@ public class NetworkPlayerInfo
 
     public void func_178859_a(IChatComponent p_178859_1_)
     {
-        this.field_178872_h = p_178859_1_;
+        this.playerName = p_178859_1_;
+    }
+
+    public IChatComponent getPlayerName()
+    {
+        return this.playerName;
     }
 
-    public IChatComponent func_178854_k()
+    //TODO: Client
+    public String getPlayerNameForReal()
     {
-        return this.field_178872_h;
+        return this.getPlayerName() != null ? this.getPlayerName().getFormattedText() : ScorePlayerTeam.formatPlayerName(this.getScoreTeam(), this.getGameProfile().getName());
     }
 
     public int func_178835_l()
diff --git a/src/net/minecraft/client/network/OldServerPinger.java b/src/net/minecraft/client/network/OldServerPinger.java
index 4fa3c4e..a7f7608 100644
--- a/src/net/minecraft/client/network/OldServerPinger.java
+++ b/src/net/minecraft/client/network/OldServerPinger.java
@@ -5,6 +5,7 @@ import com.google.common.base.Splitter;
 import com.google.common.collect.Iterables;
 import com.google.common.collect.Lists;
 import com.mojang.authlib.GameProfile;
+
 import io.netty.bootstrap.Bootstrap;
 import io.netty.buffer.ByteBuf;
 import io.netty.buffer.Unpooled;
@@ -18,11 +19,13 @@ import io.netty.channel.ChannelOption;
 import io.netty.channel.EventLoopGroup;
 import io.netty.channel.SimpleChannelInboundHandler;
 import io.netty.channel.socket.nio.NioSocketChannel;
+
 import java.net.InetAddress;
 import java.net.UnknownHostException;
 import java.util.Collections;
 import java.util.Iterator;
 import java.util.List;
+
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.multiplayer.ServerAddress;
 import net.minecraft.client.multiplayer.ServerData;
@@ -39,6 +42,7 @@ import net.minecraft.util.ChatComponentText;
 import net.minecraft.util.EnumChatFormatting;
 import net.minecraft.util.IChatComponent;
 import net.minecraft.util.MathHelper;
+
 import org.apache.commons.lang3.ArrayUtils;
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
diff --git a/src/net/minecraft/client/particle/Barrier.java b/src/net/minecraft/client/particle/Barrier.java
index d450e62..ca743ea 100644
--- a/src/net/minecraft/client/particle/Barrier.java
+++ b/src/net/minecraft/client/particle/Barrier.java
@@ -35,7 +35,7 @@ public class Barrier extends EntityFX
         float var13 = (float)(this.prevPosX + (this.posX - this.prevPosX) * (double)p_180434_3_ - interpPosX);
         float var14 = (float)(this.prevPosY + (this.posY - this.prevPosY) * (double)p_180434_3_ - interpPosY);
         float var15 = (float)(this.prevPosZ + (this.posZ - this.prevPosZ) * (double)p_180434_3_ - interpPosZ);
-        p_180434_1_.func_178986_b(this.particleRed, this.particleGreen, this.particleBlue);
+        p_180434_1_.setColorOpaque_F(this.particleRed, this.particleGreen, this.particleBlue);
         float var16 = 0.5F;
         p_180434_1_.addVertexWithUV((double)(var13 - p_180434_4_ * var16 - p_180434_7_ * var16), (double)(var14 - p_180434_5_ * var16), (double)(var15 - p_180434_6_ * var16 - p_180434_8_ * var16), (double)var10, (double)var12);
         p_180434_1_.addVertexWithUV((double)(var13 - p_180434_4_ * var16 + p_180434_7_ * var16), (double)(var14 + p_180434_5_ * var16), (double)(var15 - p_180434_6_ * var16 + p_180434_8_ * var16), (double)var10, (double)var11);
diff --git a/src/net/minecraft/client/particle/EffectRenderer.java b/src/net/minecraft/client/particle/EffectRenderer.java
index cba3c5c..5f42136 100644
--- a/src/net/minecraft/client/particle/EffectRenderer.java
+++ b/src/net/minecraft/client/particle/EffectRenderer.java
@@ -2,12 +2,14 @@ package net.minecraft.client.particle;
 
 import com.google.common.collect.Lists;
 import com.google.common.collect.Maps;
+
 import java.util.ArrayList;
 import java.util.Iterator;
 import java.util.List;
 import java.util.Map;
 import java.util.Random;
 import java.util.concurrent.Callable;
+
 import net.minecraft.block.Block;
 import net.minecraft.block.material.Material;
 import net.minecraft.block.state.IBlockState;
diff --git a/src/net/minecraft/client/particle/EntityBreakingFX.java b/src/net/minecraft/client/particle/EntityBreakingFX.java
index ede5178..039a5e6 100644
--- a/src/net/minecraft/client/particle/EntityBreakingFX.java
+++ b/src/net/minecraft/client/particle/EntityBreakingFX.java
@@ -61,7 +61,7 @@ public class EntityBreakingFX extends EntityFX
         float var14 = (float)(this.prevPosX + (this.posX - this.prevPosX) * (double)p_180434_3_ - interpPosX);
         float var15 = (float)(this.prevPosY + (this.posY - this.prevPosY) * (double)p_180434_3_ - interpPosY);
         float var16 = (float)(this.prevPosZ + (this.posZ - this.prevPosZ) * (double)p_180434_3_ - interpPosZ);
-        p_180434_1_.func_178986_b(this.particleRed, this.particleGreen, this.particleBlue);
+        p_180434_1_.setColorOpaque_F(this.particleRed, this.particleGreen, this.particleBlue);
         p_180434_1_.addVertexWithUV((double)(var14 - p_180434_4_ * var13 - p_180434_7_ * var13), (double)(var15 - p_180434_5_ * var13), (double)(var16 - p_180434_6_ * var13 - p_180434_8_ * var13), (double)var9, (double)var12);
         p_180434_1_.addVertexWithUV((double)(var14 - p_180434_4_ * var13 + p_180434_7_ * var13), (double)(var15 + p_180434_5_ * var13), (double)(var16 - p_180434_6_ * var13 + p_180434_8_ * var13), (double)var9, (double)var11);
         p_180434_1_.addVertexWithUV((double)(var14 + p_180434_4_ * var13 + p_180434_7_ * var13), (double)(var15 + p_180434_5_ * var13), (double)(var16 + p_180434_6_ * var13 + p_180434_8_ * var13), (double)var10, (double)var11);
diff --git a/src/net/minecraft/client/particle/EntityDiggingFX.java b/src/net/minecraft/client/particle/EntityDiggingFX.java
index f1035f6..4595b6e 100644
--- a/src/net/minecraft/client/particle/EntityDiggingFX.java
+++ b/src/net/minecraft/client/particle/EntityDiggingFX.java
@@ -82,7 +82,7 @@ public class EntityDiggingFX extends EntityFX
         float var14 = (float)(this.prevPosX + (this.posX - this.prevPosX) * (double)p_180434_3_ - interpPosX);
         float var15 = (float)(this.prevPosY + (this.posY - this.prevPosY) * (double)p_180434_3_ - interpPosY);
         float var16 = (float)(this.prevPosZ + (this.posZ - this.prevPosZ) * (double)p_180434_3_ - interpPosZ);
-        p_180434_1_.func_178986_b(this.particleRed, this.particleGreen, this.particleBlue);
+        p_180434_1_.setColorOpaque_F(this.particleRed, this.particleGreen, this.particleBlue);
         p_180434_1_.addVertexWithUV((double)(var14 - p_180434_4_ * var13 - p_180434_7_ * var13), (double)(var15 - p_180434_5_ * var13), (double)(var16 - p_180434_6_ * var13 - p_180434_8_ * var13), (double)var9, (double)var12);
         p_180434_1_.addVertexWithUV((double)(var14 - p_180434_4_ * var13 + p_180434_7_ * var13), (double)(var15 + p_180434_5_ * var13), (double)(var16 - p_180434_6_ * var13 + p_180434_8_ * var13), (double)var9, (double)var11);
         p_180434_1_.addVertexWithUV((double)(var14 + p_180434_4_ * var13 + p_180434_7_ * var13), (double)(var15 + p_180434_5_ * var13), (double)(var16 + p_180434_6_ * var13 + p_180434_8_ * var13), (double)var10, (double)var11);
diff --git a/src/net/minecraft/client/particle/EntityFX.java b/src/net/minecraft/client/particle/EntityFX.java
index bdbe2f0..ea37f40 100644
--- a/src/net/minecraft/client/particle/EntityFX.java
+++ b/src/net/minecraft/client/particle/EntityFX.java
@@ -188,7 +188,7 @@ public class EntityFX extends Entity
         float var14 = (float)(this.prevPosX + (this.posX - this.prevPosX) * (double)p_180434_3_ - interpPosX);
         float var15 = (float)(this.prevPosY + (this.posY - this.prevPosY) * (double)p_180434_3_ - interpPosY);
         float var16 = (float)(this.prevPosZ + (this.posZ - this.prevPosZ) * (double)p_180434_3_ - interpPosZ);
-        p_180434_1_.func_178960_a(this.particleRed, this.particleGreen, this.particleBlue, this.particleAlpha);
+        p_180434_1_.setColorRGBA_F(this.particleRed, this.particleGreen, this.particleBlue, this.particleAlpha);
         p_180434_1_.addVertexWithUV((double)(var14 - p_180434_4_ * var13 - p_180434_7_ * var13), (double)(var15 - p_180434_5_ * var13), (double)(var16 - p_180434_6_ * var13 - p_180434_8_ * var13), (double)var10, (double)var12);
         p_180434_1_.addVertexWithUV((double)(var14 - p_180434_4_ * var13 + p_180434_7_ * var13), (double)(var15 + p_180434_5_ * var13), (double)(var16 - p_180434_6_ * var13 + p_180434_8_ * var13), (double)var10, (double)var11);
         p_180434_1_.addVertexWithUV((double)(var14 + p_180434_4_ * var13 + p_180434_7_ * var13), (double)(var15 + p_180434_5_ * var13), (double)(var16 + p_180434_6_ * var13 + p_180434_8_ * var13), (double)var9, (double)var11);
diff --git a/src/net/minecraft/client/particle/EntityFireworkOverlayFX.java b/src/net/minecraft/client/particle/EntityFireworkOverlayFX.java
index 1a7ed22..591c8c0 100644
--- a/src/net/minecraft/client/particle/EntityFireworkOverlayFX.java
+++ b/src/net/minecraft/client/particle/EntityFireworkOverlayFX.java
@@ -26,7 +26,7 @@ public class EntityFireworkOverlayFX extends EntityFX
         float var14 = (float)(this.prevPosX + (this.posX - this.prevPosX) * (double)p_180434_3_ - interpPosX);
         float var15 = (float)(this.prevPosY + (this.posY - this.prevPosY) * (double)p_180434_3_ - interpPosY);
         float var16 = (float)(this.prevPosZ + (this.posZ - this.prevPosZ) * (double)p_180434_3_ - interpPosZ);
-        p_180434_1_.func_178960_a(this.particleRed, this.particleGreen, this.particleBlue, this.particleAlpha);
+        p_180434_1_.setColorRGBA_F(this.particleRed, this.particleGreen, this.particleBlue, this.particleAlpha);
         p_180434_1_.addVertexWithUV((double)(var14 - p_180434_4_ * var13 - p_180434_7_ * var13), (double)(var15 - p_180434_5_ * var13), (double)(var16 - p_180434_6_ * var13 - p_180434_8_ * var13), (double)var10, (double)var12);
         p_180434_1_.addVertexWithUV((double)(var14 - p_180434_4_ * var13 + p_180434_7_ * var13), (double)(var15 + p_180434_5_ * var13), (double)(var16 - p_180434_6_ * var13 + p_180434_8_ * var13), (double)var10, (double)var11);
         p_180434_1_.addVertexWithUV((double)(var14 + p_180434_4_ * var13 + p_180434_7_ * var13), (double)(var15 + p_180434_5_ * var13), (double)(var16 + p_180434_6_ * var13 + p_180434_8_ * var13), (double)var9, (double)var11);
diff --git a/src/net/minecraft/client/particle/EntityFootStepFX.java b/src/net/minecraft/client/particle/EntityFootStepFX.java
index 462000b..56cd73c 100644
--- a/src/net/minecraft/client/particle/EntityFootStepFX.java
+++ b/src/net/minecraft/client/particle/EntityFootStepFX.java
@@ -48,7 +48,7 @@ public class EntityFootStepFX extends EntityFX
         GlStateManager.enableBlend();
         GlStateManager.blendFunc(770, 771);
         p_180434_1_.startDrawingQuads();
-        p_180434_1_.func_178960_a(var15, var15, var15, var10);
+        p_180434_1_.setColorRGBA_F(var15, var15, var15, var10);
         p_180434_1_.addVertexWithUV((double)(var12 - var11), (double)var13, (double)(var14 + var11), 0.0D, 1.0D);
         p_180434_1_.addVertexWithUV((double)(var12 + var11), (double)var13, (double)(var14 + var11), 1.0D, 1.0D);
         p_180434_1_.addVertexWithUV((double)(var12 + var11), (double)var13, (double)(var14 - var11), 1.0D, 0.0D);
diff --git a/src/net/minecraft/client/particle/EntityLargeExplodeFX.java b/src/net/minecraft/client/particle/EntityLargeExplodeFX.java
index 21fdc5b..703c4d2 100644
--- a/src/net/minecraft/client/particle/EntityLargeExplodeFX.java
+++ b/src/net/minecraft/client/particle/EntityLargeExplodeFX.java
@@ -49,7 +49,7 @@ public class EntityLargeExplodeFX extends EntityFX
             GlStateManager.disableLighting();
             RenderHelper.disableStandardItemLighting();
             p_180434_1_.startDrawingQuads();
-            p_180434_1_.func_178960_a(this.particleRed, this.particleGreen, this.particleBlue, 1.0F);
+            p_180434_1_.setColorRGBA_F(this.particleRed, this.particleGreen, this.particleBlue, 1.0F);
             p_180434_1_.func_178980_d(0.0F, 1.0F, 0.0F);
             p_180434_1_.func_178963_b(240);
             p_180434_1_.addVertexWithUV((double)(var15 - p_180434_4_ * var14 - p_180434_7_ * var14), (double)(var16 - p_180434_5_ * var14), (double)(var17 - p_180434_6_ * var14 - p_180434_8_ * var14), (double)var11, (double)var13);
diff --git a/src/net/minecraft/client/renderer/BlockFluidRenderer.java b/src/net/minecraft/client/renderer/BlockFluidRenderer.java
index 13aedf6..ff74680 100644
--- a/src/net/minecraft/client/renderer/BlockFluidRenderer.java
+++ b/src/net/minecraft/client/renderer/BlockFluidRenderer.java
@@ -118,7 +118,7 @@ public class BlockFluidRenderer
                 }
 
                 p_178270_4_.func_178963_b(var5.getMixedBrightnessForBlock(p_178270_1_, p_178270_3_));
-                p_178270_4_.func_178986_b(var16 * var8, var16 * var9, var16 * var10);
+                p_178270_4_.setColorOpaque_F(var16 * var8, var16 * var9, var16 * var10);
                 p_178270_4_.addVertexWithUV(var24 + 0.0D, var26 + (double)var20, var28 + 0.0D, (double)var33, (double)var37);
                 p_178270_4_.addVertexWithUV(var24 + 0.0D, var26 + (double)var21, var28 + 1.0D, (double)var34, (double)var38);
                 p_178270_4_.addVertexWithUV(var24 + 1.0D, var26 + (double)var22, var28 + 1.0D, (double)var35, (double)var39);
@@ -136,7 +136,7 @@ public class BlockFluidRenderer
             if (var12)
             {
                 p_178270_4_.func_178963_b(var5.getMixedBrightnessForBlock(p_178270_1_, p_178270_3_.offsetDown()));
-                p_178270_4_.func_178986_b(var15, var15, var15);
+                p_178270_4_.setColorOpaque_F(var15, var15, var15);
                 var32 = var6[0].getMinU();
                 var33 = var6[0].getMaxU();
                 var34 = var6[0].getMinV();
@@ -229,7 +229,7 @@ public class BlockFluidRenderer
                     p_178270_4_.func_178963_b(var5.getMixedBrightnessForBlock(p_178270_1_, var55));
                     float var51 = 1.0F;
                     var51 *= var52 < 2 ? var17 : var18;
-                    p_178270_4_.func_178986_b(var16 * var51 * var8, var16 * var51 * var9, var16 * var51 * var10);
+                    p_178270_4_.setColorOpaque_F(var16 * var51 * var8, var16 * var51 * var9, var16 * var51 * var10);
                     p_178270_4_.addVertexWithUV(var56, var26 + (double)var36, var57, (double)var46, (double)var48);
                     p_178270_4_.addVertexWithUV(var58, var26 + (double)var37, var44, (double)var47, (double)var49);
                     p_178270_4_.addVertexWithUV(var58, var26 + 0.0D, var44, (double)var47, (double)var50);
diff --git a/src/net/minecraft/client/renderer/BlockModelRenderer.java b/src/net/minecraft/client/renderer/BlockModelRenderer.java
index e9db01f..da0cb85 100644
--- a/src/net/minecraft/client/renderer/BlockModelRenderer.java
+++ b/src/net/minecraft/client/renderer/BlockModelRenderer.java
@@ -3,6 +3,7 @@ package net.minecraft.client.renderer;
 import java.util.BitSet;
 import java.util.Iterator;
 import java.util.List;
+
 import net.minecraft.block.Block;
 import net.minecraft.block.state.IBlockState;
 import net.minecraft.client.Minecraft;
@@ -18,6 +19,9 @@ import net.minecraft.util.MathHelper;
 import net.minecraft.util.ReportedException;
 import net.minecraft.util.Vec3i;
 import net.minecraft.world.IBlockAccess;
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.mods.XRayMod;
+import tk.wurst_client.utils.XRayUtils;
 
 public class BlockModelRenderer
 {
@@ -78,8 +82,12 @@ public class BlockModelRenderer
 
         List var17 = p_178265_2_.func_177550_a();
 
-        if (var17.size() > 0)
+		// TODO: Client
+		if(var17.size() > 0
+			&& (!WurstClient.INSTANCE.mods.xRayMod.isActive() || XRayUtils
+				.isXRayBlock(p_178265_3_)))
 		{
+        	
             this.func_178263_a(p_178265_1_, p_178265_3_, p_178265_4_, p_178265_5_, var17, var8, var9, var10);
             var7 = true;
         }
diff --git a/src/net/minecraft/client/renderer/EntityRenderer.java b/src/net/minecraft/client/renderer/EntityRenderer.java
index e32c68b..0aa2f53 100644
--- a/src/net/minecraft/client/renderer/EntityRenderer.java
+++ b/src/net/minecraft/client/renderer/EntityRenderer.java
@@ -1,11 +1,11 @@
 package net.minecraft.client.renderer;
 
-import com.google.gson.JsonSyntaxException;
 import java.io.IOException;
 import java.nio.FloatBuffer;
 import java.util.List;
 import java.util.Random;
 import java.util.concurrent.Callable;
+
 import net.minecraft.block.Block;
 import net.minecraft.block.BlockBed;
 import net.minecraft.block.material.Material;
@@ -40,27 +40,28 @@ import net.minecraft.init.Blocks;
 import net.minecraft.inventory.IInventory;
 import net.minecraft.item.ItemStack;
 import net.minecraft.potion.Potion;
-import net.minecraft.util.AxisAlignedBB;
-import net.minecraft.util.BlockPos;
-import net.minecraft.util.EnumFacing;
-import net.minecraft.util.EnumParticleTypes;
-import net.minecraft.util.EnumWorldBlockLayer;
-import net.minecraft.util.MathHelper;
-import net.minecraft.util.MouseFilter;
-import net.minecraft.util.MovingObjectPosition;
-import net.minecraft.util.ReportedException;
-import net.minecraft.util.ResourceLocation;
-import net.minecraft.util.Vec3;
+import net.minecraft.util.*;
 import net.minecraft.world.WorldSettings;
 import net.minecraft.world.biome.BiomeGenBase;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
+import org.lwjgl.input.Keyboard;
 import org.lwjgl.input.Mouse;
 import org.lwjgl.opengl.Display;
 import org.lwjgl.opengl.GL11;
 import org.lwjgl.opengl.GLContext;
 import org.lwjgl.util.glu.Project;
 
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.events.RenderEvent;
+import tk.wurst_client.hooks.ZoomHook;
+import tk.wurst_client.mods.AntiBlindMod;
+import tk.wurst_client.mods.CaveFinderMod;
+import tk.wurst_client.mods.TracersMod;
+
+import com.google.gson.JsonSyntaxException;
+
 public class EntityRenderer implements IResourceManagerReloadListener
 {
     private static final Logger logger = LogManager.getLogger();
@@ -166,10 +167,18 @@ public class EntityRenderer implements IResourceManagerReloadListener
     private double cameraZoom = 1.0D;
     private double cameraYaw;
     private double cameraPitch;
-    private ShaderGroup theShaderGroup;
-    private static final ResourceLocation[] shaderResourceLocations = new ResourceLocation[] {new ResourceLocation("shaders/post/notch.json"), new ResourceLocation("shaders/post/fxaa.json"), new ResourceLocation("shaders/post/art.json"), new ResourceLocation("shaders/post/bumpy.json"), new ResourceLocation("shaders/post/blobs2.json"), new ResourceLocation("shaders/post/pencil.json"), new ResourceLocation("shaders/post/color_convolve.json"), new ResourceLocation("shaders/post/deconverge.json"), new ResourceLocation("shaders/post/flip.json"), new ResourceLocation("shaders/post/invert.json"), new ResourceLocation("shaders/post/ntsc.json"), new ResourceLocation("shaders/post/outline.json"), new ResourceLocation("shaders/post/phosphor.json"), new ResourceLocation("shaders/post/scan_pincushion.json"), new ResourceLocation("shaders/post/sobel.json"), new ResourceLocation("shaders/post/bits.json"), new ResourceLocation("shaders/post/desaturate.json"), new ResourceLocation("shaders/post/green.json"), new ResourceLocation("shaders/post/blur.json"), new ResourceLocation("shaders/post/wobble.json"), new ResourceLocation("shaders/post/blobs.json"), new ResourceLocation("shaders/post/antialias.json"), new ResourceLocation("shaders/post/creeper.json"), new ResourceLocation("shaders/post/spider.json")};
+    
+    //TODO: Client
+    public ShaderGroup theShaderGroup;
+    
+    //TODO: Client
+    public static final ResourceLocation[] shaderResourceLocations = new ResourceLocation[] {new ResourceLocation("shaders/post/notch.json"), new ResourceLocation("shaders/post/fxaa.json"), new ResourceLocation("shaders/post/art.json"), new ResourceLocation("shaders/post/bumpy.json"), new ResourceLocation("shaders/post/blobs2.json"), new ResourceLocation("shaders/post/pencil.json"), new ResourceLocation("shaders/post/color_convolve.json"), new ResourceLocation("shaders/post/deconverge.json"), new ResourceLocation("shaders/post/flip.json"), new ResourceLocation("shaders/post/invert.json"), new ResourceLocation("shaders/post/ntsc.json"), new ResourceLocation("shaders/post/outline.json"), new ResourceLocation("shaders/post/phosphor.json"), new ResourceLocation("shaders/post/scan_pincushion.json"), new ResourceLocation("shaders/post/sobel.json"), new ResourceLocation("shaders/post/bits.json"), new ResourceLocation("shaders/post/desaturate.json"), new ResourceLocation("shaders/post/green.json"), new ResourceLocation("shaders/post/blur.json"), new ResourceLocation("shaders/post/wobble.json"), new ResourceLocation("shaders/post/blobs.json"), new ResourceLocation("shaders/post/antialias.json"), new ResourceLocation("shaders/post/creeper.json"), new ResourceLocation("shaders/post/spider.json")};
+    
     public static final int shaderCount = shaderResourceLocations.length;
-    private int shaderIndex;
+    
+    //TODO: Client
+    public int shaderIndex;
+    
     private boolean field_175083_ad;
     private int field_175084_ae;
     private static final String __OBFID = "CL_00000947";
@@ -262,7 +271,8 @@ public class EntityRenderer implements IResourceManagerReloadListener
         }
     }
 
-    private void func_175069_a(ResourceLocation p_175069_1_)
+    //TODO: Client
+    public void func_175069_a(ResourceLocation p_175069_1_)
     {
         try
         {
@@ -536,7 +546,14 @@ public class EntityRenderer implements IResourceManagerReloadListener
             if (p_78481_2_)
             {
 				var4 = this.mc.gameSettings.fovSetting;
-                var4 *= this.fovModifierHandPrev + (this.fovModifierHand - this.fovModifierHandPrev) * p_78481_1_;
+				
+				// TODO: Client
+				var4 = ZoomHook.changeFovBasedOnZoom(var4);
+				
+				var4 *=
+					this.fovModifierHandPrev
+						+ (this.fovModifierHand - this.fovModifierHandPrev)
+						* p_78481_1_;
 			}
 
             if (var3 instanceof EntityLivingBase && ((EntityLivingBase)var3).getHealth() <= 0.0F)
@@ -749,15 +766,20 @@ public class EntityRenderer implements IResourceManagerReloadListener
 
         this.hurtCameraEffect(p_78479_1_);
 
-        if (this.mc.gameSettings.viewBobbing)
+		// TODO: Client
+		if(this.mc.gameSettings.viewBobbing
+			&& !WurstClient.INSTANCE.mods.tracersMod.isActive())
 		{
+        	
             this.setupViewBobbing(p_78479_1_);
         }
 
         float var4 = this.mc.thePlayer.prevTimeInPortal + (this.mc.thePlayer.timeInPortal - this.mc.thePlayer.prevTimeInPortal) * p_78479_1_;
 
-        if (var4 > 0.0F)
+		// TODO: Client
+		if(var4 > 0.0F && !WurstClient.INSTANCE.mods.antiBlindMod.isActive())
 		{
+        	
             byte var5 = 20;
 
             if (this.mc.thePlayer.isPotionActive(Potion.confusion))
@@ -1223,7 +1245,7 @@ public class EntityRenderer implements IResourceManagerReloadListener
 
                 if (this.mc.objectMouseOver != null && this.mc.objectMouseOver.typeOfHit == MovingObjectPosition.MovingObjectType.BLOCK)
                 {
-                    BlockPos var4 = this.mc.objectMouseOver.func_178782_a();
+                    BlockPos var4 = this.mc.objectMouseOver.getBlockPos();
                     Block var5 = this.mc.theWorld.getBlockState(var4).getBlock();
 
                     if (this.mc.playerController.func_178889_l() == WorldSettings.GameType.SPECTATOR)
@@ -1276,7 +1298,11 @@ public class EntityRenderer implements IResourceManagerReloadListener
         }
 
         this.getMouseOver(p_78471_1_);
+        
+        //TODO: Client
+		if(!WurstClient.INSTANCE.mods.caveFinderMod.isActive())
 			GlStateManager.enableDepth();
+        
         GlStateManager.enableAlpha();
         GlStateManager.alphaFunc(516, 0.5F);
         this.mc.mcProfiler.startSection("center");
@@ -1350,7 +1376,7 @@ public class EntityRenderer implements IResourceManagerReloadListener
         this.mc.getTextureManager().bindTexture(TextureMap.locationBlocksTexture);
         RenderHelper.disableStandardItemLighting();
         this.mc.mcProfiler.endStartSection("terrain_setup");
-        var5.func_174970_a(var9, (double)p_175068_2_, var8, this.field_175084_ae++, this.mc.thePlayer.func_175149_v());
+        var5.func_174970_a(var9, (double)p_175068_2_, var8, this.field_175084_ae++, this.mc.thePlayer.isSpectator());
 
         if (p_175068_1_ == 0 || p_175068_1_ == 2)
         {
@@ -1470,6 +1496,9 @@ public class EntityRenderer implements IResourceManagerReloadListener
 
         this.mc.mcProfiler.endStartSection("hand");
 
+        //TODO: Client
+        WurstClient.INSTANCE.events.fireEvent(RenderEvent.class, new RenderEvent());
+        
         if (this.field_175074_C)
         {
             GlStateManager.clear(256);
@@ -1622,14 +1651,16 @@ public class EntityRenderer implements IResourceManagerReloadListener
 
             GlStateManager.color(1.0F, 1.0F, 1.0F, 1.0F);
 
+            // TODO: Client
+            BlockPos var25 = new BlockPos(0, 0, 0);
             for (int var20 = var7 - var17; var20 <= var7 + var17; ++var20)
             {
                 for (int var21 = var5 - var17; var21 <= var5 + var17; ++var21)
                 {
+                	var25.setPos(var21, 0, var20);
                     int var22 = (var20 - var7 + 16) * 32 + var21 - var5 + 16;
                     float var23 = this.field_175076_N[var22] * 0.5F;
                     float var24 = this.field_175077_O[var22] * 0.5F;
-                    BlockPos var25 = new BlockPos(var21, 0, var20);
                     BiomeGenBase var26 = var4.getBiomeGenForCoords(var25);
 
                     if (var26.canSpawnLightningBolt() || var26.getEnableSnow())
@@ -1683,7 +1714,7 @@ public class EntityRenderer implements IResourceManagerReloadListener
                                 float var38 = MathHelper.sqrt_double(var34 * var34 + var36 * var36) / (float)var17;
                                 float var39 = 1.0F;
                                 var9.func_178963_b(var4.getCombinedLight(new BlockPos(var21, var31, var20), 0));
-                                var9.func_178960_a(var39, var39, var39, ((1.0F - var38 * var38) * 0.5F + 0.5F) * var2);
+                                var9.setColorRGBA_F(var39, var39, var39, ((1.0F - var38 * var38) * 0.5F + 0.5F) * var2);
                                 var9.setTranslation(-var10 * 1.0D, -var12 * 1.0D, -var14 * 1.0D);
                                 var9.addVertexWithUV((double)((float)var21 - var23) + 0.5D, (double)var28, (double)((float)var20 - var24) + 0.5D, (double)(0.0F * var30), (double)((float)var28 * var30 / 4.0F + var33 * var30));
                                 var9.addVertexWithUV((double)((float)var21 + var23) + 0.5D, (double)var28, (double)((float)var20 + var24) + 0.5D, (double)(1.0F * var30), (double)((float)var28 * var30 / 4.0F + var33 * var30));
@@ -1713,7 +1744,7 @@ public class EntityRenderer implements IResourceManagerReloadListener
                                 float var40 = MathHelper.sqrt_double(var36 * var36 + var43 * var43) / (float)var17;
                                 float var41 = 1.0F;
                                 var9.func_178963_b((var4.getCombinedLight(new BlockPos(var21, var31, var20), 0) * 3 + 15728880) / 4);
-                                var9.func_178960_a(var41, var41, var41, ((1.0F - var40 * var40) * 0.3F + 0.5F) * var2);
+                                var9.setColorRGBA_F(var41, var41, var41, ((1.0F - var40 * var40) * 0.3F + 0.5F) * var2);
                                 var9.setTranslation(-var10 * 1.0D, -var12 * 1.0D, -var14 * 1.0D);
                                 var9.addVertexWithUV((double)((float)var21 - var23) + 0.5D, (double)var28, (double)((float)var20 - var24) + 0.5D, (double)(0.0F * var30 + var42), (double)((float)var28 * var30 / 4.0F + var33 * var30 + var35));
                                 var9.addVertexWithUV((double)((float)var21 + var23) + 0.5D, (double)var28, (double)((float)var20 + var24) + 0.5D, (double)(1.0F * var30 + var42), (double)((float)var28 * var30 / 4.0F + var33 * var30 + var35));
@@ -1858,8 +1889,12 @@ public class EntityRenderer implements IResourceManagerReloadListener
         this.field_175081_S *= var13;
         double var23 = (var3.lastTickPosY + (var3.posY - var3.lastTickPosY) * (double)p_78466_1_) * var2.provider.getVoidFogYFactor();
 
-        if (var3 instanceof EntityLivingBase && ((EntityLivingBase)var3).isPotionActive(Potion.blindness))
+		// TODO: Client
+		if(var3 instanceof EntityLivingBase
+			&& ((EntityLivingBase)var3).isPotionActive(Potion.blindness)
+			&& !WurstClient.INSTANCE.mods.antiBlindMod.isActive())
 		{
+        	
             int var16 = ((EntityLivingBase)var3).getActivePotionEffect(Potion.blindness).getDuration();
 
             if (var16 < 20)
@@ -1950,8 +1985,12 @@ public class EntityRenderer implements IResourceManagerReloadListener
         Block var5 = ActiveRenderInfo.func_180786_a(this.mc.theWorld, var3, p_78468_2_);
         float var6;
 
-        if (var3 instanceof EntityLivingBase && ((EntityLivingBase)var3).isPotionActive(Potion.blindness))
+		// TODO: Client
+		if(var3 instanceof EntityLivingBase
+			&& ((EntityLivingBase)var3).isPotionActive(Potion.blindness)
+			&& !WurstClient.INSTANCE.mods.antiBlindMod.isActive())
 		{
+        	
             var6 = 5.0F;
             int var7 = ((EntityLivingBase)var3).getActivePotionEffect(Potion.blindness).getDuration();
 
diff --git a/src/net/minecraft/client/renderer/ImageBufferDownload.java b/src/net/minecraft/client/renderer/ImageBufferDownload.java
index 7c9693f..8db8462 100644
--- a/src/net/minecraft/client/renderer/ImageBufferDownload.java
+++ b/src/net/minecraft/client/renderer/ImageBufferDownload.java
@@ -20,8 +20,10 @@ public class ImageBufferDownload implements IImageBuffer
         }
         else
         {
-            this.imageWidth = 64;
-            this.imageHeight = 64;
+        	// TODO: Client
+            this.imageWidth = p_78432_1_.getWidth();
+            this.imageHeight = Math.max(p_78432_1_.getHeight(), 64);
+            
             BufferedImage var2 = new BufferedImage(this.imageWidth, this.imageHeight, 2);
             Graphics var3 = var2.getGraphics();
             var3.drawImage(p_78432_1_, 0, 0, (ImageObserver)null);
diff --git a/src/net/minecraft/client/renderer/InventoryEffectRenderer.java b/src/net/minecraft/client/renderer/InventoryEffectRenderer.java
index 0bf153c..b8411b0 100644
--- a/src/net/minecraft/client/renderer/InventoryEffectRenderer.java
+++ b/src/net/minecraft/client/renderer/InventoryEffectRenderer.java
@@ -105,9 +105,9 @@ public abstract class InventoryEffectRenderer extends GuiContainer
                     var11 = var11 + " " + I18n.format("enchantment.level.4", new Object[0]);
                 }
 
-                this.fontRendererObj.func_175063_a(var11, (float)(var1 + 10 + 18), (float)(var2 + 6), 16777215);
+                this.fontRendererObj.drawStringWithShadow(var11, (float)(var1 + 10 + 18), (float)(var2 + 6), 16777215);
                 String var10 = Potion.getDurationString(var7);
-                this.fontRendererObj.func_175063_a(var10, (float)(var1 + 10 + 18), (float)(var2 + 6 + 10), 8355711);
+                this.fontRendererObj.drawStringWithShadow(var10, (float)(var1 + 10 + 18), (float)(var2 + 6 + 10), 8355711);
             }
         }
     }
diff --git a/src/net/minecraft/client/renderer/ItemModelMesher.java b/src/net/minecraft/client/renderer/ItemModelMesher.java
index ab2e5fa..77057af 100644
--- a/src/net/minecraft/client/renderer/ItemModelMesher.java
+++ b/src/net/minecraft/client/renderer/ItemModelMesher.java
@@ -1,9 +1,11 @@
 package net.minecraft.client.renderer;
 
 import com.google.common.collect.Maps;
+
 import java.util.Iterator;
 import java.util.Map;
 import java.util.Map.Entry;
+
 import net.minecraft.client.renderer.texture.TextureAtlasSprite;
 import net.minecraft.client.resources.model.IBakedModel;
 import net.minecraft.client.resources.model.ModelManager;
@@ -36,8 +38,17 @@ public class ItemModelMesher
 
     public IBakedModel getItemModel(ItemStack p_178089_1_)
     {
-        Item var2 = p_178089_1_.getItem();
-        IBakedModel var3 = this.getItemModel(var2, this.getMetadata(p_178089_1_));
+        Item var2;
+		IBakedModel var3;
+		try
+		{
+			var2 = p_178089_1_.getItem();
+			var3 = this.getItemModel(var2, this.getMetadata(p_178089_1_));
+		}catch(NullPointerException e)
+		{
+			var2 = null;
+			var3 = null;
+		}
 
         if (var3 == null)
         {
diff --git a/src/net/minecraft/client/renderer/ItemRenderer.java b/src/net/minecraft/client/renderer/ItemRenderer.java
index 0f3580a..8bba567 100644
--- a/src/net/minecraft/client/renderer/ItemRenderer.java
+++ b/src/net/minecraft/client/renderer/ItemRenderer.java
@@ -396,7 +396,7 @@ public class ItemRenderer
             }
         }
 
-        if (!this.mc.thePlayer.func_175149_v())
+        if (!this.mc.thePlayer.isSpectator())
         {
             if (this.mc.thePlayer.isInsideOfMaterial(Material.water))
             {
diff --git a/src/net/minecraft/client/renderer/RenderGlobal.java b/src/net/minecraft/client/renderer/RenderGlobal.java
index 0ccdbe4..ab09798 100644
--- a/src/net/minecraft/client/renderer/RenderGlobal.java
+++ b/src/net/minecraft/client/renderer/RenderGlobal.java
@@ -4,6 +4,7 @@ import com.google.common.collect.Lists;
 import com.google.common.collect.Maps;
 import com.google.common.collect.Sets;
 import com.google.gson.JsonSyntaxException;
+
 import java.io.IOException;
 import java.util.EnumSet;
 import java.util.Iterator;
@@ -13,10 +14,12 @@ import java.util.Map;
 import java.util.Random;
 import java.util.Set;
 import java.util.concurrent.Callable;
+
 import javax.vecmath.Matrix4f;
 import javax.vecmath.Vector3d;
 import javax.vecmath.Vector3f;
 import javax.vecmath.Vector4f;
+
 import net.minecraft.block.Block;
 import net.minecraft.block.BlockChest;
 import net.minecraft.block.BlockEnderChest;
@@ -80,6 +83,7 @@ import net.minecraft.util.Vec3;
 import net.minecraft.world.IWorldAccess;
 import net.minecraft.world.border.WorldBorder;
 import net.minecraft.world.chunk.Chunk;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 import org.lwjgl.opengl.GL11;
@@ -268,7 +272,7 @@ public class RenderGlobal implements IWorldAccess, IResourceManagerReloadListene
 
     protected boolean func_174985_d()
     {
-        return this.field_175015_z != null && this.field_174991_A != null && this.mc.thePlayer != null && this.mc.thePlayer.func_175149_v() && this.mc.gameSettings.field_178883_an.getIsKeyPressed();
+        return this.field_175015_z != null && this.field_174991_A != null && this.mc.thePlayer != null && this.mc.thePlayer.isSpectator() && this.mc.gameSettings.field_178883_an.getIsKeyPressed();
     }
 
     private void func_174964_o()
@@ -933,17 +937,25 @@ public class RenderGlobal implements IWorldAccess, IResourceManagerReloadListene
         VisGraph var2 = new VisGraph();
         BlockPos var3 = new BlockPos(p_174978_1_.getX() >> 4 << 4, p_174978_1_.getY() >> 4 << 4, p_174978_1_.getZ() >> 4 << 4);
         Chunk var4 = this.theWorld.getChunkFromBlockCoords(var3);
-        Iterator var5 = BlockPos.getAllInBoxMutable(var3, var3.add(15, 15, 15)).iterator();
 
-        while (var5.hasNext())
+        // TODO: Client
+        BlockPos var6 = new BlockPos(var3);
+    	for(int x = 0; x < 16; x++)
 		{
-            BlockPos.MutableBlockPos var6 = (BlockPos.MutableBlockPos)var5.next();
+			for(int y = 0; y < 16; y++)
+			{
+				for(int z = 0; z < 16; z++)
+				{
+					var6.setPos(var3.getX() + x, var3.getY()
+						+ y, var3.getZ() + z);
 					
-            if (var4.getBlock(var6).isOpaqueCube())
+					if(var4.getBlock(var6).isOpaqueCube())
 					{
 						var2.func_178606_a(var6);
 					}
 				}
+			}
+		}
         return var2.func_178609_b(p_174978_1_);
     }
 
@@ -1176,7 +1188,7 @@ public class RenderGlobal implements IWorldAccess, IResourceManagerReloadListene
             }
 
             var2.startDrawingQuads();
-            var2.func_178991_c(2631720);
+            var2.setColorOpaque_I(2631720);
             var2.addVertexWithUV(-100.0D, -100.0D, -100.0D, 0.0D, 0.0D);
             var2.addVertexWithUV(-100.0D, -100.0D, 100.0D, 0.0D, 16.0D);
             var2.addVertexWithUV(100.0D, -100.0D, 100.0D, 16.0D, 16.0D);
@@ -1271,10 +1283,10 @@ public class RenderGlobal implements IWorldAccess, IResourceManagerReloadListene
                 }
 
                 var24.startDrawing(6);
-                var24.func_178960_a(var10, var11, var12, var25[3]);
+                var24.setColorRGBA_F(var10, var11, var12, var25[3]);
                 var24.addVertex(0.0D, 100.0D, 0.0D);
                 boolean var27 = true;
-                var24.func_178960_a(var25[0], var25[1], var25[2], 0.0F);
+                var24.setColorRGBA_F(var25[0], var25[1], var25[2], 0.0F);
 
                 for (int var28 = 0; var28 <= 16; ++var28)
                 {
@@ -1378,7 +1390,7 @@ public class RenderGlobal implements IWorldAccess, IResourceManagerReloadListene
                 var13 = -((float)(var26 + 65.0D));
                 var14 = -1.0F;
                 var24.startDrawingQuads();
-                var24.func_178974_a(0, 255);
+                var24.setColorRGBA_I(0, 255);
                 var24.addVertex(-1.0D, (double)var13, 1.0D);
                 var24.addVertex(1.0D, (double)var13, 1.0D);
                 var24.addVertex(1.0D, -1.0D, 1.0D);
@@ -1467,7 +1479,7 @@ public class RenderGlobal implements IWorldAccess, IResourceManagerReloadListene
                 float var22 = (float)(var15 * 4.8828125E-4D);
                 float var23 = (float)(var17 * 4.8828125E-4D);
                 var7.startDrawingQuads();
-                var7.func_178960_a(var9, var10, var11, 0.8F);
+                var7.setColorRGBA_F(var9, var10, var11, 0.8F);
 
                 for (int var24 = -256; var24 < 256; var24 += 32)
                 {
@@ -1578,7 +1590,7 @@ public class RenderGlobal implements IWorldAccess, IResourceManagerReloadListene
 
                     if (var14 > -5.0F)
                     {
-                        var5.func_178960_a(var18 * 0.7F, var19 * 0.7F, var20 * 0.7F, 0.8F);
+                        var5.setColorRGBA_F(var18 * 0.7F, var19 * 0.7F, var20 * 0.7F, 0.8F);
                         var5.func_178980_d(0.0F, -1.0F, 0.0F);
                         var5.addVertexWithUV((double)(var34 + 0.0F), (double)(var14 + 0.0F), (double)(var35 + 8.0F), (double)((var32 + 0.0F) * 0.00390625F + var22), (double)((var33 + 8.0F) * 0.00390625F + var23));
                         var5.addVertexWithUV((double)(var34 + 8.0F), (double)(var14 + 0.0F), (double)(var35 + 8.0F), (double)((var32 + 8.0F) * 0.00390625F + var22), (double)((var33 + 8.0F) * 0.00390625F + var23));
@@ -1588,7 +1600,7 @@ public class RenderGlobal implements IWorldAccess, IResourceManagerReloadListene
 
                     if (var14 <= 5.0F)
                     {
-                        var5.func_178960_a(var18, var19, var20, 0.8F);
+                        var5.setColorRGBA_F(var18, var19, var20, 0.8F);
                         var5.func_178980_d(0.0F, 1.0F, 0.0F);
                         var5.addVertexWithUV((double)(var34 + 0.0F), (double)(var14 + 4.0F - 9.765625E-4F), (double)(var35 + 8.0F), (double)((var32 + 0.0F) * 0.00390625F + var22), (double)((var33 + 8.0F) * 0.00390625F + var23));
                         var5.addVertexWithUV((double)(var34 + 8.0F), (double)(var14 + 4.0F - 9.765625E-4F), (double)(var35 + 8.0F), (double)((var32 + 8.0F) * 0.00390625F + var22), (double)((var33 + 8.0F) * 0.00390625F + var23));
@@ -1596,7 +1608,7 @@ public class RenderGlobal implements IWorldAccess, IResourceManagerReloadListene
                         var5.addVertexWithUV((double)(var34 + 0.0F), (double)(var14 + 4.0F - 9.765625E-4F), (double)(var35 + 0.0F), (double)((var32 + 0.0F) * 0.00390625F + var22), (double)((var33 + 0.0F) * 0.00390625F + var23));
                     }
 
-                    var5.func_178960_a(var18 * 0.9F, var19 * 0.9F, var20 * 0.9F, 0.8F);
+                    var5.setColorRGBA_F(var18 * 0.9F, var19 * 0.9F, var20 * 0.9F, 0.8F);
                     int var36;
 
                     if (var30 > -1)
@@ -1625,7 +1637,7 @@ public class RenderGlobal implements IWorldAccess, IResourceManagerReloadListene
                         }
                     }
 
-                    var5.func_178960_a(var18 * 0.8F, var19 * 0.8F, var20 * 0.8F, 0.8F);
+                    var5.setColorRGBA_F(var18 * 0.8F, var19 * 0.8F, var20 * 0.8F, 0.8F);
 
                     if (var31 > -1)
                     {
@@ -1893,7 +1905,7 @@ public class RenderGlobal implements IWorldAccess, IResourceManagerReloadListene
             GlStateManager.func_179090_x();
             GlStateManager.depthMask(false);
             float var5 = 0.002F;
-            BlockPos var6 = p_72731_2_.func_178782_a();
+            BlockPos var6 = p_72731_2_.getBlockPos();
             Block var7 = this.theWorld.getBlockState(var6).getBlock();
 
             if (var7.getMaterial() != Material.air && this.theWorld.getWorldBorder().contains(var6))
@@ -1922,7 +1934,7 @@ public class RenderGlobal implements IWorldAccess, IResourceManagerReloadListene
 
         if (p_147590_1_ != -1)
         {
-            var3.func_178991_c(p_147590_1_);
+            var3.setColorOpaque_I(p_147590_1_);
         }
 
         var3.addVertex(p_147590_0_.minX, p_147590_0_.minY, p_147590_0_.minZ);
@@ -1935,7 +1947,7 @@ public class RenderGlobal implements IWorldAccess, IResourceManagerReloadListene
 
         if (p_147590_1_ != -1)
         {
-            var3.func_178991_c(p_147590_1_);
+            var3.setColorOpaque_I(p_147590_1_);
         }
 
         var3.addVertex(p_147590_0_.minX, p_147590_0_.maxY, p_147590_0_.minZ);
@@ -1948,7 +1960,7 @@ public class RenderGlobal implements IWorldAccess, IResourceManagerReloadListene
 
         if (p_147590_1_ != -1)
         {
-            var3.func_178991_c(p_147590_1_);
+            var3.setColorOpaque_I(p_147590_1_);
         }
 
         var3.addVertex(p_147590_0_.minX, p_147590_0_.minY, p_147590_0_.minZ);
diff --git a/src/net/minecraft/client/renderer/ThreadDownloadImageData.java b/src/net/minecraft/client/renderer/ThreadDownloadImageData.java
index 72b9763..732101c 100644
--- a/src/net/minecraft/client/renderer/ThreadDownloadImageData.java
+++ b/src/net/minecraft/client/renderer/ThreadDownloadImageData.java
@@ -121,8 +121,11 @@ public class ThreadDownloadImageData extends SimpleTexture
                     var1.setDoOutput(false);
                     var1.connect();
 
-                    if (var1.getResponseCode() / 100 == 2)
+                    if (var1.getResponseCode() / 100 != 2)
                     {
+                        return;
+                    }
+
                     BufferedImage var2;
 
                     if (ThreadDownloadImageData.this.field_152434_e != null)
@@ -141,13 +144,10 @@ public class ThreadDownloadImageData extends SimpleTexture
                     }
 
                     ThreadDownloadImageData.this.setBufferedImage(var2);
-                        return;
-                    }
                 }
                 catch (Exception var6)
                 {
                     ThreadDownloadImageData.logger.error("Couldn\'t download http texture", var6);
-                    return;
                 }
                 finally
                 {
diff --git a/src/net/minecraft/client/renderer/WorldRenderer.java b/src/net/minecraft/client/renderer/WorldRenderer.java
index 736354e..68a893d 100644
--- a/src/net/minecraft/client/renderer/WorldRenderer.java
+++ b/src/net/minecraft/client/renderer/WorldRenderer.java
@@ -7,12 +7,15 @@ import java.nio.IntBuffer;
 import java.util.Iterator;
 import java.util.List;
 import java.util.PriorityQueue;
+
 import net.minecraft.client.renderer.vertex.VertexFormat;
 import net.minecraft.client.renderer.vertex.VertexFormatElement;
 import net.minecraft.client.util.QuadComparator;
 import net.minecraft.util.MathHelper;
+
 import org.apache.logging.log4j.LogManager;
 
+
 public class WorldRenderer
 {
     private ByteBuffer byteBuffer;
@@ -152,22 +155,19 @@ public class WorldRenderer
         this.field_178996_g = p_178963_1_;
     }
 
-    public void func_178986_b(float p_178986_1_, float p_178986_2_, float p_178986_3_)
+    public void setColorOpaque_F(float red, float blue, float green)
     {
-        this.setPosition((int)(p_178986_1_ * 255.0F), (int)(p_178986_2_ * 255.0F), (int)(p_178986_3_ * 255.0F));
+        this.setColorOpaque((int)(red * 255.0F), (int)(blue * 255.0F), (int)(green * 255.0F));
     }
 
-    public void func_178960_a(float p_178960_1_, float p_178960_2_, float p_178960_3_, float p_178960_4_)
+    public void setColorRGBA_F(float red, float blue, float green, float alpha)
     {
-        this.func_178961_b((int)(p_178960_1_ * 255.0F), (int)(p_178960_2_ * 255.0F), (int)(p_178960_3_ * 255.0F), (int)(p_178960_4_ * 255.0F));
+        this.setColorRGBA((int)(red * 255.0F), (int)(blue * 255.0F), (int)(green * 255.0F), (int)(alpha * 255.0F));
     }
     
-    /**
-     * Sets a new position for the renderer and setting it up so it can be reloaded with the new data for that position
-     */
-    public void setPosition(int p_78913_1_, int p_78913_2_, int p_78913_3_)
+    public void setColorOpaque(int red, int blue, int green)
     {
-        this.func_178961_b(p_78913_1_, p_78913_2_, p_78913_3_, 255);
+        this.setColorRGBA(red, blue, green, 255);
     }
 
     public void func_178962_a(int p_178962_1_, int p_178962_2_, int p_178962_3_, int p_178962_4_)
@@ -273,48 +273,48 @@ public class WorldRenderer
         }
     }
 
-    public void func_178961_b(int p_178961_1_, int p_178961_2_, int p_178961_3_, int p_178961_4_)
+    public void setColorRGBA(int red, int blue, int green, int alpha)
     {
         if (!this.needsUpdate)
         {
-            if (p_178961_1_ > 255)
+            if (red > 255)
             {
-                p_178961_1_ = 255;
+                red = 255;
             }
 
-            if (p_178961_2_ > 255)
+            if (blue > 255)
             {
-                p_178961_2_ = 255;
+                blue = 255;
             }
 
-            if (p_178961_3_ > 255)
+            if (green > 255)
             {
-                p_178961_3_ = 255;
+                green = 255;
             }
 
-            if (p_178961_4_ > 255)
+            if (alpha > 255)
             {
-                p_178961_4_ = 255;
+                alpha = 255;
             }
 
-            if (p_178961_1_ < 0)
+            if (red < 0)
             {
-                p_178961_1_ = 0;
+                red = 0;
             }
 
-            if (p_178961_2_ < 0)
+            if (blue < 0)
             {
-                p_178961_2_ = 0;
+                blue = 0;
             }
 
-            if (p_178961_3_ < 0)
+            if (green < 0)
             {
-                p_178961_3_ = 0;
+                green = 0;
             }
 
-            if (p_178961_4_ < 0)
+            if (alpha < 0)
             {
-                p_178961_4_ = 0;
+                alpha = 0;
             }
 
             if (!this.vertexFormat.func_177346_d())
@@ -325,18 +325,18 @@ public class WorldRenderer
 
             if (ByteOrder.nativeOrder() == ByteOrder.LITTLE_ENDIAN)
             {
-                this.field_179007_h = p_178961_4_ << 24 | p_178961_3_ << 16 | p_178961_2_ << 8 | p_178961_1_;
+                this.field_179007_h = alpha << 24 | green << 16 | blue << 8 | red;
             }
             else
             {
-                this.field_179007_h = p_178961_1_ << 24 | p_178961_2_ << 16 | p_178961_3_ << 8 | p_178961_4_;
+                this.field_179007_h = red << 24 | blue << 16 | green << 8 | alpha;
             }
         }
     }
 
-    public void func_178982_a(byte p_178982_1_, byte p_178982_2_, byte p_178982_3_)
+    public void setColorOpaque_B(byte red, byte blue, byte green)
     {
-        this.setPosition(p_178982_1_ & 255, p_178982_2_ & 255, p_178982_3_ & 255);
+        this.setColorOpaque(red & 255, blue & 255, green & 255);
     }
 
     public void addVertexWithUV(double p_178985_1_, double p_178985_3_, double p_178985_5_, double p_178985_7_, double p_178985_9_)
@@ -409,20 +409,20 @@ public class WorldRenderer
         ++this.vertexCount;
     }
 
-    public void func_178991_c(int p_178991_1_)
+    public void setColorOpaque_I(int rgb)
     {
-        int var2 = p_178991_1_ >> 16 & 255;
-        int var3 = p_178991_1_ >> 8 & 255;
-        int var4 = p_178991_1_ & 255;
-        this.setPosition(var2, var3, var4);
+        int red = rgb >> 16 & 255;
+        int blue = rgb >> 8 & 255;
+        int green = rgb & 255;
+        this.setColorOpaque(red, blue, green);
     }
 
-    public void func_178974_a(int p_178974_1_, int p_178974_2_)
+    public void setColorRGBA_I(int rgb, int alpha)
     {
-        int var3 = p_178974_1_ >> 16 & 255;
-        int var4 = p_178974_1_ >> 8 & 255;
-        int var5 = p_178974_1_ & 255;
-        this.func_178961_b(var3, var4, var5, p_178974_2_);
+        int red = rgb >> 16 & 255;
+        int blue = rgb >> 8 & 255;
+        int green = rgb & 255;
+        this.setColorRGBA(red, blue, green, alpha);
     }
 
     /**
diff --git a/src/net/minecraft/client/renderer/chunk/ChunkRenderWorker.java b/src/net/minecraft/client/renderer/chunk/ChunkRenderWorker.java
index c1aa703..448c142 100644
--- a/src/net/minecraft/client/renderer/chunk/ChunkRenderWorker.java
+++ b/src/net/minecraft/client/renderer/chunk/ChunkRenderWorker.java
@@ -4,14 +4,17 @@ import com.google.common.collect.Lists;
 import com.google.common.util.concurrent.FutureCallback;
 import com.google.common.util.concurrent.Futures;
 import com.google.common.util.concurrent.ListenableFuture;
+
 import java.util.ArrayList;
 import java.util.List;
 import java.util.concurrent.CancellationException;
+
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.renderer.RegionRenderCacheBuilder;
 import net.minecraft.crash.CrashReport;
 import net.minecraft.entity.Entity;
 import net.minecraft.util.EnumWorldBlockLayer;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
diff --git a/src/net/minecraft/client/renderer/chunk/VisGraph.java b/src/net/minecraft/client/renderer/chunk/VisGraph.java
index b2268f7..e2f3260 100644
--- a/src/net/minecraft/client/renderer/chunk/VisGraph.java
+++ b/src/net/minecraft/client/renderer/chunk/VisGraph.java
@@ -20,7 +20,9 @@ public class VisGraph
 
     public void func_178606_a(BlockPos p_178606_1_)
     {
-        this.field_178612_d.set(func_178608_c(p_178606_1_), true);
+    	//TODO: Client
+        //this.field_178612_d.set(func_178608_c(p_178606_1_), true);
+    	
         --this.field_178611_f;
     }
 
diff --git a/src/net/minecraft/client/renderer/entity/Render.java b/src/net/minecraft/client/renderer/entity/Render.java
index a00ffea..91fc569 100644
--- a/src/net/minecraft/client/renderer/entity/Render.java
+++ b/src/net/minecraft/client/renderer/entity/Render.java
@@ -1,6 +1,7 @@
 package net.minecraft.client.renderer.entity;
 
 import java.util.Iterator;
+
 import net.minecraft.block.Block;
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.gui.FontRenderer;
@@ -12,14 +13,20 @@ import net.minecraft.client.renderer.texture.TextureAtlasSprite;
 import net.minecraft.client.renderer.texture.TextureMap;
 import net.minecraft.entity.Entity;
 import net.minecraft.entity.EntityLiving;
+import net.minecraft.entity.EntityLivingBase;
 import net.minecraft.entity.player.EntityPlayer;
 import net.minecraft.util.AxisAlignedBB;
 import net.minecraft.util.BlockPos;
 import net.minecraft.util.MathHelper;
 import net.minecraft.util.ResourceLocation;
 import net.minecraft.world.World;
+
 import org.lwjgl.opengl.GL11;
 
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.mods.HealthTagsMod;
+import tk.wurst_client.mods.NameTagsMod;
+
 public abstract class Render
 {
     private static final ResourceLocation shadowTextures = new ResourceLocation("textures/misc/shadow.png");
@@ -235,7 +242,7 @@ public abstract class Render
                     var19 = 1.0D;
                 }
 
-                var18.func_178960_a(1.0F, 1.0F, 1.0F, (float)var19);
+                var18.setColorRGBA_F(1.0F, 1.0F, 1.0F, (float)var19);
                 double var21 = (double)p_180549_8_.getX() + p_180549_1_.getBlockBoundsMinX() + p_180549_11_;
                 double var23 = (double)p_180549_8_.getX() + p_180549_1_.getBlockBoundsMaxX() + p_180549_11_;
                 double var25 = (double)p_180549_8_.getY() + p_180549_1_.getBlockBoundsMinY() + p_180549_13_ + 0.015625D;
@@ -317,7 +324,7 @@ public abstract class Render
                 }
             }
 
-            if (p_76979_1_.canRenderOnFire() && (!(p_76979_1_ instanceof EntityPlayer) || !((EntityPlayer)p_76979_1_).func_175149_v()))
+            if (p_76979_1_.canRenderOnFire() && (!(p_76979_1_ instanceof EntityPlayer) || !((EntityPlayer)p_76979_1_).isSpectator()))
             {
                 this.renderEntityOnFire(p_76979_1_, p_76979_2_, p_76979_4_, p_76979_6_, p_76979_9_);
             }
@@ -343,7 +350,27 @@ public abstract class Render
         {
             FontRenderer var12 = this.getFontRendererFromRenderManager();
             float var13 = 1.6F;
-            float var14 = 0.016666668F * var13;
+            
+			// TODO: Client
+			boolean nameTagsActive =
+				WurstClient.INSTANCE.mods.nameTagsMod.isActive();
+			float var14 =
+				0.016666668F
+					* var13
+					* (p_147906_1_
+						.getDistanceToEntity(this.renderManager.livingPlayer) > 10
+						&& nameTagsActive
+						? p_147906_1_
+							.getDistanceToEntity(this.renderManager.livingPlayer) / 10
+						: 1);
+			var14 *=
+				(nameTagsActive
+					? (p_147906_1_.boundingBox.getAverageEdgeLength() > -50
+						? 1
+						: p_147906_1_
+							.getDistanceToEntity(this.renderManager.livingPlayer) / 300)
+					: 1);
+            
             GlStateManager.pushMatrix();
             GlStateManager.translate((float)p_147906_3_ + 0.0F, (float)p_147906_5_ + p_147906_1_.height + 0.5F, (float)p_147906_7_);
             GL11.glNormal3f(0.0F, 1.0F, 0.0F);
@@ -364,10 +391,32 @@ public abstract class Render
                 var17 = -10;
             }
 
+			// TODO: Client
+			if(WurstClient.INSTANCE.friends.contains(p_147906_1_.getName()))
+				p_147906_2_ =
+					"2"
+						+ (p_147906_2_.startsWith("") ? p_147906_2_
+							.substring(2) : p_147906_2_);
+			if(p_147906_1_ instanceof EntityLivingBase
+				&& WurstClient.INSTANCE.mods.healthTagsMod.isActive())
+			{
+				p_147906_2_ += " ";
+				int health = (int)((EntityLivingBase)p_147906_1_).getHealth();
+				if(health <= 5)
+					p_147906_2_ += "4";
+				else if(health <= 10)
+					p_147906_2_ += "6";
+				else if(health <= 15)
+					p_147906_2_ += "e";
+				else if(health <= 20)
+					p_147906_2_ += "a";
+				p_147906_2_ += health;
+			}
+            
             GlStateManager.func_179090_x();
             var16.startDrawingQuads();
             int var18 = var12.getStringWidth(p_147906_2_) / 2;
-            var16.func_178960_a(0.0F, 0.0F, 0.0F, 0.25F);
+            var16.setColorRGBA_F(0.0F, 0.0F, 0.0F, 0.25F);
             var16.addVertex((double)(-var18 - 1), (double)(-1 + var17), 0.0D);
             var16.addVertex((double)(-var18 - 1), (double)(8 + var17), 0.0D);
             var16.addVertex((double)(var18 + 1), (double)(8 + var17), 0.0D);
diff --git a/src/net/minecraft/client/renderer/entity/RenderDragon.java b/src/net/minecraft/client/renderer/entity/RenderDragon.java
index 63a12a1..bba85f9 100644
--- a/src/net/minecraft/client/renderer/entity/RenderDragon.java
+++ b/src/net/minecraft/client/renderer/entity/RenderDragon.java
@@ -136,9 +136,9 @@ public class RenderDragon extends RenderLiving
             float var22 = MathHelper.sin((float)(var21 % var20) * (float)Math.PI * 2.0F / (float)var20) * 0.75F;
             float var23 = MathHelper.cos((float)(var21 % var20) * (float)Math.PI * 2.0F / (float)var20) * 0.75F;
             float var24 = (float)(var21 % var20) * 1.0F / (float)var20;
-            var17.func_178991_c(0);
+            var17.setColorOpaque_I(0);
             var17.addVertexWithUV((double)(var22 * 0.2F), (double)(var23 * 0.2F), 0.0D, (double)var24, (double)var19);
-            var17.func_178991_c(16777215);
+            var17.setColorOpaque_I(16777215);
             var17.addVertexWithUV((double)var22, (double)var23, (double)var15, (double)var24, (double)var18);
         }
 
diff --git a/src/net/minecraft/client/renderer/entity/RenderFallingBlock.java b/src/net/minecraft/client/renderer/entity/RenderFallingBlock.java
index 6936e51..e82b643 100644
--- a/src/net/minecraft/client/renderer/entity/RenderFallingBlock.java
+++ b/src/net/minecraft/client/renderer/entity/RenderFallingBlock.java
@@ -1,5 +1,7 @@
 package net.minecraft.client.renderer.entity;
 
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.mods.ProphuntEspMod;
 import net.minecraft.block.Block;
 import net.minecraft.block.state.IBlockState;
 import net.minecraft.client.Minecraft;
@@ -28,8 +30,11 @@ public class RenderFallingBlock extends Render
 
     public void doRender(EntityFallingBlock p_180557_1_, double p_180557_2_, double p_180557_4_, double p_180557_6_, float p_180557_8_, float p_180557_9_)
     {
-        if (p_180557_1_.getBlock() != null)
+		// TODO: Client
+		if(p_180557_1_.getBlock() != null
+			&& !WurstClient.INSTANCE.mods.prophuntEspMod.isActive())
 		{
+        	
             this.bindTexture(TextureMap.locationBlocksTexture);
             IBlockState var10 = p_180557_1_.getBlock();
             Block var11 = var10.getBlock();
diff --git a/src/net/minecraft/client/renderer/entity/RenderFish.java b/src/net/minecraft/client/renderer/entity/RenderFish.java
index fdad66c..2031f2e 100644
--- a/src/net/minecraft/client/renderer/entity/RenderFish.java
+++ b/src/net/minecraft/client/renderer/entity/RenderFish.java
@@ -86,7 +86,7 @@ public class RenderFish extends Render
             GlStateManager.func_179090_x();
             GlStateManager.disableLighting();
             var11.startDrawing(3);
-            var11.func_178991_c(0);
+            var11.setColorOpaque_I(0);
             byte var44 = 16;
 
             for (int var45 = 0; var45 <= var44; ++var45)
diff --git a/src/net/minecraft/client/renderer/entity/RenderGuardian.java b/src/net/minecraft/client/renderer/entity/RenderGuardian.java
index ac9dfc4..c103f1d 100644
--- a/src/net/minecraft/client/renderer/entity/RenderGuardian.java
+++ b/src/net/minecraft/client/renderer/entity/RenderGuardian.java
@@ -109,7 +109,7 @@ public class RenderGuardian extends RenderLiving
             double var26 = (double)var15 * 0.05D * (1.0D - (double)(var25 & 1) * 2.5D);
             var13.startDrawingQuads();
             float var28 = var11 * var11;
-            var13.func_178961_b(64 + (int)(var28 * 240.0F), 32 + (int)(var28 * 192.0F), 128 - (int)(var28 * 64.0F), 255);
+            var13.setColorRGBA(64 + (int)(var28 * 240.0F), 32 + (int)(var28 * 192.0F), 128 - (int)(var28 * 64.0F), 255);
             double var29 = (double)var25 * 0.2D;
             double var31 = var29 * 1.41D;
             double var33 = 0.0D + Math.cos(var26 + 2.356194490192345D) * var31;
diff --git a/src/net/minecraft/client/renderer/entity/RenderItem.java b/src/net/minecraft/client/renderer/entity/RenderItem.java
index eadc994..270ffed 100644
--- a/src/net/minecraft/client/renderer/entity/RenderItem.java
+++ b/src/net/minecraft/client/renderer/entity/RenderItem.java
@@ -3,6 +3,7 @@ package net.minecraft.client.renderer.entity;
 import java.util.Iterator;
 import java.util.List;
 import java.util.concurrent.Callable;
+
 import net.minecraft.block.Block;
 import net.minecraft.block.BlockDirt;
 import net.minecraft.block.BlockDoublePlant;
@@ -67,7 +68,7 @@ public class RenderItem implements IResourceManagerReloadListener
     /** Defines the zLevel of rendering of item on GUI. */
     public float zLevel;
     private final ItemModelMesher itemModelMesher;
-    private final TextureManager field_175057_n;
+    private final TextureManager textureManager;
     public static float field_175055_b = 0.0F;
     public static float field_175056_c = 0.0F;
     public static float field_175053_d = 0.0F;
@@ -81,7 +82,7 @@ public class RenderItem implements IResourceManagerReloadListener
 
     public RenderItem(TextureManager p_i46165_1_, ModelManager p_i46165_2_)
     {
-        this.field_175057_n = p_i46165_1_;
+        this.textureManager = p_i46165_1_;
         this.itemModelMesher = new ItemModelMesher(p_i46165_2_);
         this.registerItems();
     }
@@ -178,7 +179,7 @@ public class RenderItem implements IResourceManagerReloadListener
         GlStateManager.depthFunc(514);
         GlStateManager.disableLighting();
         GlStateManager.blendFunc(768, 1);
-        this.field_175057_n.bindTexture(RES_ITEM_GLINT);
+        this.textureManager.bindTexture(RES_ITEM_GLINT);
         GlStateManager.matrixMode(5890);
         GlStateManager.pushMatrix();
         GlStateManager.scale(8.0F, 8.0F, 8.0F);
@@ -199,7 +200,7 @@ public class RenderItem implements IResourceManagerReloadListener
         GlStateManager.enableLighting();
         GlStateManager.depthFunc(515);
         GlStateManager.depthMask(true);
-        this.field_175057_n.bindTexture(TextureMap.locationBlocksTexture);
+        this.textureManager.bindTexture(TextureMap.locationBlocksTexture);
     }
 
     private void func_175038_a(WorldRenderer p_175038_1_, BakedQuad p_175038_2_)
@@ -325,8 +326,8 @@ public class RenderItem implements IResourceManagerReloadListener
 
     protected void func_175040_a(ItemStack p_175040_1_, IBakedModel p_175040_2_, ItemCameraTransforms.TransformType p_175040_3_)
     {
-        this.field_175057_n.bindTexture(TextureMap.locationBlocksTexture);
-        this.field_175057_n.getTexture(TextureMap.locationBlocksTexture).func_174936_b(false, false);
+        this.textureManager.bindTexture(TextureMap.locationBlocksTexture);
+        this.textureManager.getTexture(TextureMap.locationBlocksTexture).func_174936_b(false, false);
         this.func_175046_c(p_175040_1_);
         GlStateManager.enableRescaleNormal();
         GlStateManager.alphaFunc(516, 0.1F);
@@ -360,31 +361,31 @@ public class RenderItem implements IResourceManagerReloadListener
         GlStateManager.popMatrix();
         GlStateManager.disableRescaleNormal();
         GlStateManager.disableBlend();
-        this.field_175057_n.bindTexture(TextureMap.locationBlocksTexture);
-        this.field_175057_n.getTexture(TextureMap.locationBlocksTexture).func_174935_a();
+        this.textureManager.bindTexture(TextureMap.locationBlocksTexture);
+        this.textureManager.getTexture(TextureMap.locationBlocksTexture).func_174935_a();
     }
 
-    public void func_175042_a(ItemStack p_175042_1_, int p_175042_2_, int p_175042_3_)
+    public void func_180450_b(ItemStack itemStack, int x, int y)
     {
-        IBakedModel var4 = this.itemModelMesher.getItemModel(p_175042_1_);
+        IBakedModel bakedModel = this.itemModelMesher.getItemModel(itemStack);
         GlStateManager.pushMatrix();
-        this.field_175057_n.bindTexture(TextureMap.locationBlocksTexture);
-        this.field_175057_n.getTexture(TextureMap.locationBlocksTexture).func_174936_b(false, false);
+        this.textureManager.bindTexture(TextureMap.locationBlocksTexture);
+        this.textureManager.getTexture(TextureMap.locationBlocksTexture).func_174936_b(false, false);
         GlStateManager.enableRescaleNormal();
         GlStateManager.enableAlpha();
         GlStateManager.alphaFunc(516, 0.1F);
         GlStateManager.enableBlend();
         GlStateManager.blendFunc(770, 771);
         GlStateManager.color(1.0F, 1.0F, 1.0F, 1.0F);
-        this.func_180452_a(p_175042_2_, p_175042_3_, var4.isAmbientOcclusionEnabled());
-        this.func_175034_a(var4.getItemCameraTransforms().field_178354_e);
-        this.func_180454_a(p_175042_1_, var4);
+        this.func_180452_a(x, y, bakedModel.isAmbientOcclusionEnabled());
+        this.func_175034_a(bakedModel.getItemCameraTransforms().field_178354_e);
+        this.func_180454_a(itemStack, bakedModel);
         GlStateManager.disableAlpha();
         GlStateManager.disableRescaleNormal();
         GlStateManager.disableLighting();
         GlStateManager.popMatrix();
-        this.field_175057_n.bindTexture(TextureMap.locationBlocksTexture);
-        this.field_175057_n.getTexture(TextureMap.locationBlocksTexture).func_174935_a();
+        this.textureManager.bindTexture(TextureMap.locationBlocksTexture);
+        this.textureManager.getTexture(TextureMap.locationBlocksTexture).func_174935_a();
     }
 
     private void func_180452_a(int p_180452_1_, int p_180452_2_, boolean p_180452_3_)
@@ -409,7 +410,8 @@ public class RenderItem implements IResourceManagerReloadListener
         }
     }
 
-    public void func_180450_b(final ItemStack p_180450_1_, int p_180450_2_, int p_180450_3_)
+    //TODO: Client
+    public void renderItemAndEffectIntoGUI(final ItemStack p_180450_1_, int p_180450_2_, int p_180450_3_)
     {
         if (p_180450_1_ != null)
         {
@@ -417,7 +419,7 @@ public class RenderItem implements IResourceManagerReloadListener
 
             try
             {
-                this.func_175042_a(p_180450_1_, p_180450_2_, p_180450_3_);
+                this.func_180450_b(p_180450_1_, p_180450_2_, p_180450_3_);
             }
             catch (Throwable var7)
             {
@@ -483,7 +485,7 @@ public class RenderItem implements IResourceManagerReloadListener
                 GlStateManager.disableLighting();
                 GlStateManager.disableDepth();
                 GlStateManager.disableBlend();
-                p_180453_1_.func_175063_a(var6, (float)(p_180453_3_ + 19 - 2 - p_180453_1_.getStringWidth(var6)), (float)(p_180453_4_ + 6 + 3), 16777215);
+                p_180453_1_.drawStringWithShadow(var6, (float)(p_180453_3_ + 19 - 2 - p_180453_1_.getStringWidth(var6)), (float)(p_180453_4_ + 6 + 3), 16777215);
                 GlStateManager.enableLighting();
                 GlStateManager.enableDepth();
             }
@@ -516,7 +518,7 @@ public class RenderItem implements IResourceManagerReloadListener
     private void func_175044_a(WorldRenderer p_175044_1_, int p_175044_2_, int p_175044_3_, int p_175044_4_, int p_175044_5_, int p_175044_6_)
     {
         p_175044_1_.startDrawingQuads();
-        p_175044_1_.func_178991_c(p_175044_6_);
+        p_175044_1_.setColorOpaque_I(p_175044_6_);
         p_175044_1_.addVertex((double)(p_175044_2_ + 0), (double)(p_175044_3_ + 0), 0.0D);
         p_175044_1_.addVertex((double)(p_175044_2_ + 0), (double)(p_175044_3_ + p_175044_5_), 0.0D);
         p_175044_1_.addVertex((double)(p_175044_2_ + p_175044_4_), (double)(p_175044_3_ + p_175044_5_), 0.0D);
diff --git a/src/net/minecraft/client/renderer/entity/RenderLightningBolt.java b/src/net/minecraft/client/renderer/entity/RenderLightningBolt.java
index cf9b5c6..ca01b20 100644
--- a/src/net/minecraft/client/renderer/entity/RenderLightningBolt.java
+++ b/src/net/minecraft/client/renderer/entity/RenderLightningBolt.java
@@ -85,7 +85,7 @@ public class RenderLightningBolt extends Render
 
                     var11.startDrawing(5);
                     float var32 = 0.5F;
-                    var11.func_178960_a(0.9F * var32, 0.9F * var32, 1.0F * var32, 0.3F);
+                    var11.setColorRGBA_F(0.9F * var32, 0.9F * var32, 1.0F * var32, 0.3F);
                     double var33 = 0.1D + (double)var46 * 0.2D;
 
                     if (var20 == 0)
diff --git a/src/net/minecraft/client/renderer/entity/RenderLiving.java b/src/net/minecraft/client/renderer/entity/RenderLiving.java
index f4b6692..4d5b95d 100644
--- a/src/net/minecraft/client/renderer/entity/RenderLiving.java
+++ b/src/net/minecraft/client/renderer/entity/RenderLiving.java
@@ -120,11 +120,11 @@ public abstract class RenderLiving extends RendererLivingEntity
             {
                 if (var48 % 2 == 0)
                 {
-                    var12.func_178960_a(0.5F, 0.4F, 0.3F, 1.0F);
+                    var12.setColorRGBA_F(0.5F, 0.4F, 0.3F, 1.0F);
                 }
                 else
                 {
-                    var12.func_178960_a(0.35F, 0.28F, 0.21000001F, 1.0F);
+                    var12.setColorRGBA_F(0.35F, 0.28F, 0.21000001F, 1.0F);
                 }
 
                 var49 = (float)var48 / 24.0F;
@@ -139,11 +139,11 @@ public abstract class RenderLiving extends RendererLivingEntity
             {
                 if (var48 % 2 == 0)
                 {
-                    var12.func_178960_a(0.5F, 0.4F, 0.3F, 1.0F);
+                    var12.setColorRGBA_F(0.5F, 0.4F, 0.3F, 1.0F);
                 }
                 else
                 {
-                    var12.func_178960_a(0.35F, 0.28F, 0.21000001F, 1.0F);
+                    var12.setColorRGBA_F(0.35F, 0.28F, 0.21000001F, 1.0F);
                 }
 
                 var49 = (float)var48 / 24.0F;
diff --git a/src/net/minecraft/client/renderer/entity/RenderManager.java b/src/net/minecraft/client/renderer/entity/RenderManager.java
index 7fdac31..7a7e5d1 100644
--- a/src/net/minecraft/client/renderer/entity/RenderManager.java
+++ b/src/net/minecraft/client/renderer/entity/RenderManager.java
@@ -1,7 +1,7 @@
 package net.minecraft.client.renderer.entity;
 
-import com.google.common.collect.Maps;
 import java.util.Map;
+
 import net.minecraft.block.Block;
 import net.minecraft.block.BlockBed;
 import net.minecraft.block.state.IBlockState;
@@ -100,18 +100,21 @@ import net.minecraft.util.ReportedException;
 import net.minecraft.util.Vec3;
 import net.minecraft.world.World;
 
+import com.google.common.collect.Maps;
+
 public class RenderManager
 {
     /** A map of entity classes and the associated renderer. */
     private Map entityRenderMap = Maps.newHashMap();
     private Map field_178636_l = Maps.newHashMap();
-    private RenderPlayer field_178637_m;
+    private RenderPlayer renderPlayer;
 
     /** Renders fonts */
+    //TODO: Client
     private FontRenderer textRenderer;
-    private double renderPosX;
-    private double renderPosY;
-    private double renderPosZ;
+    public double renderPosX;
+    public double renderPosY;
+    public double renderPosZ;
     public TextureManager renderEngine;
 
     /** Reference to the World object. */
@@ -197,8 +200,8 @@ public class RenderManager
         this.entityRenderMap.put(EntityFishHook.class, new RenderFish(this));
         this.entityRenderMap.put(EntityHorse.class, new RenderHorse(this, new ModelHorse(), 0.75F));
         this.entityRenderMap.put(EntityLightningBolt.class, new RenderLightningBolt(this));
-        this.field_178637_m = new RenderPlayer(this);
-        this.field_178636_l.put("default", this.field_178637_m);
+        this.renderPlayer = new RenderPlayer(this);
+        this.field_178636_l.put("default", this.renderPlayer);
         this.field_178636_l.put("slim", new RenderPlayer(this, true));
     }
 
@@ -228,7 +231,7 @@ public class RenderManager
         {
             String var2 = ((AbstractClientPlayer)p_78713_1_).func_175154_l();
             RenderPlayer var3 = (RenderPlayer)this.field_178636_l.get(var2);
-            return var3 != null ? var3 : this.field_178637_m;
+            return var3 != null ? var3 : this.renderPlayer;
         }
         else
         {
@@ -452,7 +455,7 @@ public class RenderManager
         WorldRenderer var14 = var16.getWorldRenderer();
         Vec3 var15 = p_85094_1_.getLook(p_85094_9_);
         var14.startDrawing(3);
-        var14.func_178991_c(255);
+        var14.setColorOpaque_I(255);
         var14.addVertex(p_85094_2_, p_85094_4_ + (double)p_85094_1_.getEyeHeight(), p_85094_6_);
         var14.addVertex(p_85094_2_ + var15.xCoord * 2.0D, p_85094_4_ + (double)p_85094_1_.getEyeHeight() + var15.yCoord * 2.0D, p_85094_6_ + var15.zCoord * 2.0D);
         var16.draw();
diff --git a/src/net/minecraft/client/renderer/entity/RenderPlayer.java b/src/net/minecraft/client/renderer/entity/RenderPlayer.java
index bc2dd09..bb1207f 100644
--- a/src/net/minecraft/client/renderer/entity/RenderPlayer.java
+++ b/src/net/minecraft/client/renderer/entity/RenderPlayer.java
@@ -1,5 +1,7 @@
 package net.minecraft.client.renderer.entity;
 
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.mods.FreecamMod;
 import net.minecraft.client.entity.AbstractClientPlayer;
 import net.minecraft.client.entity.EntityPlayerSP;
 import net.minecraft.client.model.ModelBase;
@@ -68,8 +70,11 @@ public class RenderPlayer extends RendererLivingEntity
     {
         ModelPlayer var2 = this.func_177136_g();
 
-        if (p_177137_1_.func_175149_v())
+		// TODO: Client
+		if(!WurstClient.INSTANCE.mods.freecamMod.isActive()
+			&& p_177137_1_.isSpectator())
 		{
+        	
             var2.func_178719_a(false);
             var2.bipedHead.showModel = true;
             var2.bipedHeadwear.showModel = true;
diff --git a/src/net/minecraft/client/renderer/entity/RenderXPOrb.java b/src/net/minecraft/client/renderer/entity/RenderXPOrb.java
index 7bcac52..9aeef16 100644
--- a/src/net/minecraft/client/renderer/entity/RenderXPOrb.java
+++ b/src/net/minecraft/client/renderer/entity/RenderXPOrb.java
@@ -58,7 +58,7 @@ public class RenderXPOrb extends Render
         Tessellator var25 = Tessellator.getInstance();
         WorldRenderer var26 = var25.getWorldRenderer();
         var26.startDrawingQuads();
-        var26.func_178974_a(var23, 128);
+        var26.setColorRGBA_I(var23, 128);
         var26.func_178980_d(0.0F, 1.0F, 0.0F);
         var26.addVertexWithUV((double)(0.0F - var16), (double)(0.0F - var17), 0.0D, (double)var11, (double)var14);
         var26.addVertexWithUV((double)(var15 - var16), (double)(0.0F - var17), 0.0D, (double)var12, (double)var14);
diff --git a/src/net/minecraft/client/renderer/entity/RendererLivingEntity.java b/src/net/minecraft/client/renderer/entity/RendererLivingEntity.java
index 8703f17..03d67ce 100644
--- a/src/net/minecraft/client/renderer/entity/RendererLivingEntity.java
+++ b/src/net/minecraft/client/renderer/entity/RendererLivingEntity.java
@@ -1,9 +1,11 @@
 package net.minecraft.client.renderer.entity;
 
 import com.google.common.collect.Lists;
+
 import java.nio.FloatBuffer;
 import java.util.Iterator;
 import java.util.List;
+
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.entity.EntityPlayerSP;
 import net.minecraft.client.gui.FontRenderer;
@@ -23,10 +25,14 @@ import net.minecraft.scoreboard.ScorePlayerTeam;
 import net.minecraft.scoreboard.Team;
 import net.minecraft.util.EnumChatFormatting;
 import net.minecraft.util.MathHelper;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 import org.lwjgl.opengl.GL11;
 
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.mods.TrueSightMod;
+
 public abstract class RendererLivingEntity extends Render
 {
     private static final Logger logger = LogManager.getLogger();
@@ -178,7 +184,7 @@ public abstract class RendererLivingEntity extends Render
 
                 GlStateManager.depthMask(true);
 
-                if (!(p_76986_1_ instanceof EntityPlayer) || !((EntityPlayer)p_76986_1_).func_175149_v())
+                if (!(p_76986_1_ instanceof EntityPlayer) || !((EntityPlayer)p_76986_1_).isSpectator())
                 {
                     this.func_177093_a(p_76986_1_, var17, var16, p_76986_9_, var14, var12, var20, 0.0625F);
                 }
@@ -251,7 +257,13 @@ public abstract class RendererLivingEntity extends Render
     protected void renderModel(EntityLivingBase p_77036_1_, float p_77036_2_, float p_77036_3_, float p_77036_4_, float p_77036_5_, float p_77036_6_, float p_77036_7_)
     {
         boolean var8 = !p_77036_1_.isInvisible();
-        boolean var9 = !var8 && !p_77036_1_.isInvisibleToPlayer(Minecraft.getMinecraft().thePlayer);
+        
+		// TODO: Client
+		boolean var9 =
+			!var8
+				&& (!p_77036_1_
+					.isInvisibleToPlayer(Minecraft.getMinecraft().thePlayer) || WurstClient.INSTANCE.mods.trueSightMod
+					.isActive());
 
         if (var8 || var9)
         {
@@ -532,7 +544,7 @@ public abstract class RendererLivingEntity extends Render
                     WorldRenderer var15 = var14.getWorldRenderer();
                     var15.startDrawingQuads();
                     int var16 = var13.getStringWidth(var11) / 2;
-                    var15.func_178960_a(0.0F, 0.0F, 0.0F, 0.25F);
+                    var15.setColorRGBA_F(0.0F, 0.0F, 0.0F, 0.25F);
                     var15.addVertex((double)(-var16 - 1), -1.0D, 0.0D);
                     var15.addVertex((double)(-var16 - 1), 8.0D, 0.0D);
                     var15.addVertex((double)(var16 + 1), 8.0D, 0.0D);
diff --git a/src/net/minecraft/client/renderer/entity/layers/LayerEnderDragonDeath.java b/src/net/minecraft/client/renderer/entity/layers/LayerEnderDragonDeath.java
index 2bb44f9..7d13e05 100644
--- a/src/net/minecraft/client/renderer/entity/layers/LayerEnderDragonDeath.java
+++ b/src/net/minecraft/client/renderer/entity/layers/LayerEnderDragonDeath.java
@@ -49,9 +49,9 @@ public class LayerEnderDragonDeath implements LayerRenderer
                 var10.startDrawing(6);
                 float var15 = var13.nextFloat() * 20.0F + 5.0F + var12 * 10.0F;
                 float var16 = var13.nextFloat() * 2.0F + 1.0F + var12 * 2.0F;
-                var10.func_178974_a(16777215, (int)(255.0F * (1.0F - var12)));
+                var10.setColorRGBA_I(16777215, (int)(255.0F * (1.0F - var12)));
                 var10.addVertex(0.0D, 0.0D, 0.0D);
-                var10.func_178974_a(16711935, 0);
+                var10.setColorRGBA_I(16711935, 0);
                 var10.addVertex(-0.866D * (double)var16, (double)var15, (double)(-0.5F * var16));
                 var10.addVertex(0.866D * (double)var16, (double)var15, (double)(-0.5F * var16));
                 var10.addVertex(0.0D, (double)var15, (double)(1.0F * var16));
diff --git a/src/net/minecraft/client/renderer/texture/TextureAtlasSprite.java b/src/net/minecraft/client/renderer/texture/TextureAtlasSprite.java
index 5a4668d..4270ef4 100644
--- a/src/net/minecraft/client/renderer/texture/TextureAtlasSprite.java
+++ b/src/net/minecraft/client/renderer/texture/TextureAtlasSprite.java
@@ -1,11 +1,13 @@
 package net.minecraft.client.renderer.texture;
 
 import com.google.common.collect.Lists;
+
 import java.awt.image.BufferedImage;
 import java.util.ArrayList;
 import java.util.Iterator;
 import java.util.List;
 import java.util.concurrent.Callable;
+
 import net.minecraft.client.resources.data.AnimationFrame;
 import net.minecraft.client.resources.data.AnimationMetadataSection;
 import net.minecraft.crash.CrashReport;
diff --git a/src/net/minecraft/client/renderer/texture/TextureManager.java b/src/net/minecraft/client/renderer/texture/TextureManager.java
index cc60332..8c03e9e 100644
--- a/src/net/minecraft/client/renderer/texture/TextureManager.java
+++ b/src/net/minecraft/client/renderer/texture/TextureManager.java
@@ -2,21 +2,26 @@ package net.minecraft.client.renderer.texture;
 
 import com.google.common.collect.Lists;
 import com.google.common.collect.Maps;
+
 import java.io.IOException;
 import java.util.Iterator;
 import java.util.List;
 import java.util.Map;
 import java.util.Map.Entry;
 import java.util.concurrent.Callable;
+
 import net.minecraft.client.resources.IResourceManager;
 import net.minecraft.client.resources.IResourceManagerReloadListener;
 import net.minecraft.crash.CrashReport;
 import net.minecraft.crash.CrashReportCategory;
 import net.minecraft.util.ReportedException;
 import net.minecraft.util.ResourceLocation;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
+import tk.wurst_client.bot.WurstBot;
+
 public class TextureManager implements ITickable, IResourceManagerReloadListener
 {
     private static final Logger logger = LogManager.getLogger();
@@ -59,6 +64,12 @@ public class TextureManager implements ITickable, IResourceManagerReloadListener
 
     public boolean loadTexture(ResourceLocation p_110579_1_, final ITextureObject p_110579_2_)
     {
+    	//TODO: Client
+    	if(WurstBot.isEnabled())
+    	{
+    		this.mapTextureObjects.put(p_110579_1_, TextureUtil.missingTexture);
+    		return true;
+    	}
         boolean var3 = true;
         ITextureObject p_110579_2_2 = p_110579_2_;
 
diff --git a/src/net/minecraft/client/renderer/texture/TextureMap.java b/src/net/minecraft/client/renderer/texture/TextureMap.java
index feb0773..8247a11 100644
--- a/src/net/minecraft/client/renderer/texture/TextureMap.java
+++ b/src/net/minecraft/client/renderer/texture/TextureMap.java
@@ -2,6 +2,7 @@ package net.minecraft.client.renderer.texture;
 
 import com.google.common.collect.Lists;
 import com.google.common.collect.Maps;
+
 import java.awt.image.BufferedImage;
 import java.io.IOException;
 import java.util.HashMap;
@@ -10,6 +11,7 @@ import java.util.List;
 import java.util.Map;
 import java.util.Map.Entry;
 import java.util.concurrent.Callable;
+
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.renderer.StitcherException;
 import net.minecraft.client.resources.IResource;
@@ -21,6 +23,7 @@ import net.minecraft.crash.CrashReportCategory;
 import net.minecraft.util.MathHelper;
 import net.minecraft.util.ReportedException;
 import net.minecraft.util.ResourceLocation;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
diff --git a/src/net/minecraft/client/renderer/tileentity/RenderItemFrame.java b/src/net/minecraft/client/renderer/tileentity/RenderItemFrame.java
index 292833f..a57118c 100644
--- a/src/net/minecraft/client/renderer/tileentity/RenderItemFrame.java
+++ b/src/net/minecraft/client/renderer/tileentity/RenderItemFrame.java
@@ -209,7 +209,7 @@ public class RenderItemFrame extends Render
                     GlStateManager.func_179090_x();
                     var16.startDrawingQuads();
                     int var17 = var14.getStringWidth(var13) / 2;
-                    var16.func_178960_a(0.0F, 0.0F, 0.0F, 0.25F);
+                    var16.setColorRGBA_F(0.0F, 0.0F, 0.0F, 0.25F);
                     var16.addVertex((double)(-var17 - 1), -1.0D, 0.0D);
                     var16.addVertex((double)(-var17 - 1), 8.0D, 0.0D);
                     var16.addVertex((double)(var17 + 1), 8.0D, 0.0D);
diff --git a/src/net/minecraft/client/renderer/tileentity/TileEntityBeaconRenderer.java b/src/net/minecraft/client/renderer/tileentity/TileEntityBeaconRenderer.java
index 7a2fbb9..d76cf87 100644
--- a/src/net/minecraft/client/renderer/tileentity/TileEntityBeaconRenderer.java
+++ b/src/net/minecraft/client/renderer/tileentity/TileEntityBeaconRenderer.java
@@ -56,7 +56,7 @@ public class TileEntityBeaconRenderer extends TileEntitySpecialRenderer
                 double var42 = 1.0D;
                 double var44 = (double)(-1.0F + var19);
                 double var46 = (double)((float)var16.func_177264_c() * var10) * (0.5D / var22) + var44;
-                var12.func_178960_a(var16.func_177263_b()[0], var16.func_177263_b()[1], var16.func_177263_b()[2], 0.125F);
+                var12.setColorRGBA_F(var16.func_177263_b()[0], var16.func_177263_b()[1], var16.func_177263_b()[2], 0.125F);
                 var12.addVertexWithUV(p_180536_2_ + var24, p_180536_4_ + (double)var17, p_180536_6_ + var26, var42, var46);
                 var12.addVertexWithUV(p_180536_2_ + var24, p_180536_4_ + (double)var14, p_180536_6_ + var26, var42, var44);
                 var12.addVertexWithUV(p_180536_2_ + var28, p_180536_4_ + (double)var14, p_180536_6_ + var30, var40, var44);
@@ -78,7 +78,7 @@ public class TileEntityBeaconRenderer extends TileEntitySpecialRenderer
                 GlStateManager.tryBlendFuncSeparate(770, 771, 1, 0);
                 GlStateManager.depthMask(false);
                 var12.startDrawingQuads();
-                var12.func_178960_a(var16.func_177263_b()[0], var16.func_177263_b()[1], var16.func_177263_b()[2], 0.125F);
+                var12.setColorRGBA_F(var16.func_177263_b()[0], var16.func_177263_b()[1], var16.func_177263_b()[2], 0.125F);
                 var20 = 0.2D;
                 var22 = 0.2D;
                 var24 = 0.8D;
diff --git a/src/net/minecraft/client/renderer/tileentity/TileEntityEndPortalRenderer.java b/src/net/minecraft/client/renderer/tileentity/TileEntityEndPortalRenderer.java
index 1494ae8..6338bde 100644
--- a/src/net/minecraft/client/renderer/tileentity/TileEntityEndPortalRenderer.java
+++ b/src/net/minecraft/client/renderer/tileentity/TileEntityEndPortalRenderer.java
@@ -102,7 +102,7 @@ public class TileEntityEndPortalRenderer extends TileEntitySpecialRenderer
                 var22 = 1.0F;
             }
 
-            var26.func_178960_a(var22 * var17, var23 * var17, var24 * var17, 1.0F);
+            var26.setColorRGBA_F(var22 * var17, var23 * var17, var24 * var17, 1.0F);
             var26.addVertex(p_180544_2_, p_180544_4_ + (double)var13, p_180544_6_);
             var26.addVertex(p_180544_2_, p_180544_4_ + (double)var13, p_180544_6_ + 1.0D);
             var26.addVertex(p_180544_2_ + 1.0D, p_180544_4_ + (double)var13, p_180544_6_ + 1.0D);
diff --git a/src/net/minecraft/client/renderer/tileentity/TileEntityPistonRenderer.java b/src/net/minecraft/client/renderer/tileentity/TileEntityPistonRenderer.java
index ddf542b..dad9414 100644
--- a/src/net/minecraft/client/renderer/tileentity/TileEntityPistonRenderer.java
+++ b/src/net/minecraft/client/renderer/tileentity/TileEntityPistonRenderer.java
@@ -52,7 +52,7 @@ public class TileEntityPistonRenderer extends TileEntitySpecialRenderer
             var14.startDrawingQuads();
             var14.setVertexFormat(DefaultVertexFormats.field_176600_a);
             var14.setTranslation((double)((float)p_178461_2_ - (float)var10.getX() + p_178461_1_.func_174929_b(p_178461_8_)), (double)((float)p_178461_4_ - (float)var10.getY() + p_178461_1_.func_174928_c(p_178461_8_)), (double)((float)p_178461_6_ - (float)var10.getZ() + p_178461_1_.func_174926_d(p_178461_8_)));
-            var14.func_178986_b(1.0F, 1.0F, 1.0F);
+            var14.setColorOpaque_F(1.0F, 1.0F, 1.0F);
             World var15 = this.getWorld();
 
             if (var12 == Blocks.piston_head && p_178461_1_.func_145860_a(p_178461_8_) < 0.5F)
diff --git a/src/net/minecraft/client/renderer/tileentity/TileEntityRendererDispatcher.java b/src/net/minecraft/client/renderer/tileentity/TileEntityRendererDispatcher.java
index 6e4cd84..d7affba 100644
--- a/src/net/minecraft/client/renderer/tileentity/TileEntityRendererDispatcher.java
+++ b/src/net/minecraft/client/renderer/tileentity/TileEntityRendererDispatcher.java
@@ -1,8 +1,10 @@
 package net.minecraft.client.renderer.tileentity;
 
 import com.google.common.collect.Maps;
+
 import java.util.Iterator;
 import java.util.Map;
+
 import net.minecraft.client.gui.FontRenderer;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.client.renderer.OpenGlHelper;
diff --git a/src/net/minecraft/client/renderer/tileentity/TileEntitySkullRenderer.java b/src/net/minecraft/client/renderer/tileentity/TileEntitySkullRenderer.java
index 24f6176..eeba0a5 100644
--- a/src/net/minecraft/client/renderer/tileentity/TileEntitySkullRenderer.java
+++ b/src/net/minecraft/client/renderer/tileentity/TileEntitySkullRenderer.java
@@ -73,7 +73,7 @@ public class TileEntitySkullRenderer extends TileEntitySpecialRenderer
 
                 case 3:
                     var9 = this.field_178468_i;
-                    ResourceLocation var10 = DefaultPlayerSkin.func_177335_a();
+                    ResourceLocation var10 = DefaultPlayerSkin.getLocationStevePNG();
 
                     if (p_180543_7_ != null)
                     {
@@ -87,7 +87,7 @@ public class TileEntitySkullRenderer extends TileEntitySpecialRenderer
                         else
                         {
                             UUID var13 = EntityPlayer.getUUID(p_180543_7_);
-                            var10 = DefaultPlayerSkin.func_177334_a(var13);
+                            var10 = DefaultPlayerSkin.getLocationFromUUID(var13);
                         }
                     }
 
diff --git a/src/net/minecraft/client/resources/DefaultPlayerSkin.java b/src/net/minecraft/client/resources/DefaultPlayerSkin.java
index 8d1baca..299d546 100644
--- a/src/net/minecraft/client/resources/DefaultPlayerSkin.java
+++ b/src/net/minecraft/client/resources/DefaultPlayerSkin.java
@@ -3,29 +3,30 @@ package net.minecraft.client.resources;
 import java.util.UUID;
 import net.minecraft.util.ResourceLocation;
 
+//TODO: Client
 public class DefaultPlayerSkin
 {
-    private static final ResourceLocation field_177337_a = new ResourceLocation("textures/entity/steve.png");
-    private static final ResourceLocation field_177336_b = new ResourceLocation("textures/entity/alex.png");
+    private static final ResourceLocation locationStevePNG = new ResourceLocation("textures/entity/steve.png");
+    private static final ResourceLocation locationAlexPNG = new ResourceLocation("textures/entity/alex.png");
     private static final String __OBFID = "CL_00002396";
 
-    public static ResourceLocation func_177335_a()
+    public static ResourceLocation getLocationStevePNG()
     {
-        return field_177337_a;
+        return locationStevePNG;
     }
 
-    public static ResourceLocation func_177334_a(UUID p_177334_0_)
+    public static ResourceLocation getLocationFromUUID(UUID uuid)
     {
-        return func_177333_c(p_177334_0_) ? field_177336_b : field_177337_a;
+        return isSlimSkin(uuid) ? locationAlexPNG : locationStevePNG;
     }
 
-    public static String func_177332_b(UUID p_177332_0_)
+    public static String getModelNameFromUUID(UUID uuid)
     {
-        return func_177333_c(p_177332_0_) ? "slim" : "default";
+        return isSlimSkin(uuid) ? "slim" : "default";
     }
 
-    private static boolean func_177333_c(UUID p_177333_0_)
+    private static boolean isSlimSkin(UUID uuid)
     {
-        return (p_177333_0_.hashCode() & 1) == 1;
+        return (uuid.hashCode() & 1) == 1;
     }
 }
diff --git a/src/net/minecraft/client/resources/DefaultResourcePack.java b/src/net/minecraft/client/resources/DefaultResourcePack.java
index db03245..61c7cc2 100644
--- a/src/net/minecraft/client/resources/DefaultResourcePack.java
+++ b/src/net/minecraft/client/resources/DefaultResourcePack.java
@@ -1,6 +1,7 @@
 package net.minecraft.client.resources;
 
 import com.google.common.collect.ImmutableSet;
+
 import java.awt.image.BufferedImage;
 import java.io.File;
 import java.io.FileInputStream;
@@ -9,6 +10,7 @@ import java.io.IOException;
 import java.io.InputStream;
 import java.util.Map;
 import java.util.Set;
+
 import net.minecraft.client.renderer.texture.TextureUtil;
 import net.minecraft.client.resources.data.IMetadataSection;
 import net.minecraft.client.resources.data.IMetadataSerializer;
@@ -48,6 +50,8 @@ public class DefaultResourcePack implements IResourcePack
         }
     }
 
+    //TODO: Client
+    @SuppressWarnings("resource")
 	public InputStream func_152780_c(ResourceLocation p_152780_1_) throws IOException
     {
         File var2 = (File)this.field_152781_b.get(p_152780_1_.toString());
diff --git a/src/net/minecraft/client/resources/FallbackResourceManager.java b/src/net/minecraft/client/resources/FallbackResourceManager.java
index f7705cd..e0e5ffc 100644
--- a/src/net/minecraft/client/resources/FallbackResourceManager.java
+++ b/src/net/minecraft/client/resources/FallbackResourceManager.java
@@ -1,6 +1,7 @@
 package net.minecraft.client.resources;
 
 import com.google.common.collect.Lists;
+
 import java.io.ByteArrayOutputStream;
 import java.io.FileNotFoundException;
 import java.io.IOException;
@@ -10,8 +11,10 @@ import java.util.ArrayList;
 import java.util.Iterator;
 import java.util.List;
 import java.util.Set;
+
 import net.minecraft.client.resources.data.IMetadataSerializer;
 import net.minecraft.util.ResourceLocation;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
@@ -67,6 +70,8 @@ public class FallbackResourceManager implements IResourceManager
         throw new FileNotFoundException(p_110536_1_.toString());
     }
 
+    //TODO: Client
+    @SuppressWarnings("resource")
 	protected InputStream func_177245_a(ResourceLocation p_177245_1_, IResourcePack p_177245_2_) throws IOException
     {
         InputStream var3 = p_177245_2_.getInputStream(p_177245_1_);
diff --git a/src/net/minecraft/client/resources/ResourcePackListEntry.java b/src/net/minecraft/client/resources/ResourcePackListEntry.java
index 31bf9d0..353aa6c 100644
--- a/src/net/minecraft/client/resources/ResourcePackListEntry.java
+++ b/src/net/minecraft/client/resources/ResourcePackListEntry.java
@@ -95,12 +95,12 @@ public abstract class ResourcePackListEntry implements GuiListExtended.IGuiListE
             var13 = this.field_148317_a.fontRendererObj.trimStringToWidth(var13, 157 - this.field_148317_a.fontRendererObj.getStringWidth("...")) + "...";
         }
 
-        this.field_148317_a.fontRendererObj.func_175063_a(var13, (float)(x + 32 + 2), (float)(y + 1), 16777215);
+        this.field_148317_a.fontRendererObj.drawStringWithShadow(var13, (float)(x + 32 + 2), (float)(y + 1), 16777215);
         List var11 = this.field_148317_a.fontRendererObj.listFormattedStringToWidth(this.func_148311_a(), 157);
 
         for (int var12 = 0; var12 < 2 && var12 < var11.size(); ++var12)
         {
-            this.field_148317_a.fontRendererObj.func_175063_a((String)var11.get(var12), (float)(x + 32 + 2), (float)(y + 12 + 10 * var12), 8421504);
+            this.field_148317_a.fontRendererObj.drawStringWithShadow((String)var11.get(var12), (float)(x + 32 + 2), (float)(y + 12 + 10 * var12), 8421504);
         }
     }
 
diff --git a/src/net/minecraft/client/resources/ResourcePackRepository.java b/src/net/minecraft/client/resources/ResourcePackRepository.java
index d34b311..cf73e47 100644
--- a/src/net/minecraft/client/resources/ResourcePackRepository.java
+++ b/src/net/minecraft/client/resources/ResourcePackRepository.java
@@ -193,6 +193,7 @@ public class ResourcePackRepository
 
         final File var4 = new File(this.field_148534_e, var3);
         this.field_177321_h.lock();
+        ListenableFuture var9;
 
         try
         {
@@ -246,13 +247,14 @@ public class ResourcePackRepository
                     var8.setException(p_onFailure_1_);
                 }
             });
-            ListenableFuture var9 = this.field_177322_i;
-            return var9;
+            var9 = this.field_177322_i;
         }
         finally
         {
             this.field_177321_h.unlock();
         }
+
+        return var9;
     }
 
     public ListenableFuture func_177319_a(File p_177319_1_)
diff --git a/src/net/minecraft/client/resources/SkinManager.java b/src/net/minecraft/client/resources/SkinManager.java
index 7729695..b6108dd 100644
--- a/src/net/minecraft/client/resources/SkinManager.java
+++ b/src/net/minecraft/client/resources/SkinManager.java
@@ -1,22 +1,20 @@
 package net.minecraft.client.resources;
 
-import com.google.common.cache.CacheBuilder;
-import com.google.common.cache.CacheLoader;
-import com.google.common.cache.LoadingCache;
-import com.google.common.collect.Maps;
-import com.mojang.authlib.GameProfile;
-import com.mojang.authlib.minecraft.InsecureTextureException;
-import com.mojang.authlib.minecraft.MinecraftProfileTexture;
-import com.mojang.authlib.minecraft.MinecraftSessionService;
-import com.mojang.authlib.minecraft.MinecraftProfileTexture.Type;
 import java.awt.image.BufferedImage;
+import java.io.BufferedReader;
 import java.io.File;
+import java.io.InputStreamReader;
+import java.net.URL;
 import java.util.HashMap;
 import java.util.Map;
 import java.util.concurrent.ExecutorService;
 import java.util.concurrent.LinkedBlockingQueue;
 import java.util.concurrent.ThreadPoolExecutor;
 import java.util.concurrent.TimeUnit;
+
+import javax.net.ssl.HttpsURLConnection;
+
+import tk.wurst_client.capes.WurstCapes;
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.renderer.IImageBuffer;
 import net.minecraft.client.renderer.ImageBufferDownload;
@@ -25,6 +23,18 @@ import net.minecraft.client.renderer.texture.ITextureObject;
 import net.minecraft.client.renderer.texture.TextureManager;
 import net.minecraft.util.ResourceLocation;
 
+import com.google.common.cache.CacheBuilder;
+import com.google.common.cache.CacheLoader;
+import com.google.common.cache.LoadingCache;
+import com.google.common.collect.Maps;
+import com.google.gson.JsonObject;
+import com.google.gson.JsonParser;
+import com.mojang.authlib.GameProfile;
+import com.mojang.authlib.minecraft.InsecureTextureException;
+import com.mojang.authlib.minecraft.MinecraftProfileTexture;
+import com.mojang.authlib.minecraft.MinecraftProfileTexture.Type;
+import com.mojang.authlib.minecraft.MinecraftSessionService;
+
 public class SkinManager
 {
     private static final ExecutorService THREAD_POOL = new ThreadPoolExecutor(0, 2, 1L, TimeUnit.MINUTES, new LinkedBlockingQueue());
@@ -81,7 +91,7 @@ public class SkinManager
             File var6 = new File(this.skinCacheDir, p_152789_1_.getHash().substring(0, 2));
             File var7 = new File(var6, p_152789_1_.getHash());
             final ImageBufferDownload var8 = p_152789_2_ == Type.SKIN ? new ImageBufferDownload() : null;
-            ThreadDownloadImageData var9 = new ThreadDownloadImageData(var7, p_152789_1_.getUrl(), DefaultPlayerSkin.func_177335_a(), new IImageBuffer()
+            ThreadDownloadImageData var9 = new ThreadDownloadImageData(var7, p_152789_1_.getUrl(), DefaultPlayerSkin.getLocationStevePNG(), new IImageBuffer()
             {
                 private static final String __OBFID = "CL_00001828";
                 public BufferedImage parseUserSkin(BufferedImage p_78432_1_)
@@ -135,6 +145,10 @@ public class SkinManager
                     var1.putAll(SkinManager.this.sessionService.getTextures(SkinManager.this.sessionService.fillProfileProperties(p_152790_1_, false), false));
                 }
 				
+				// TODO: Client
+                WurstCapes.checkCape(p_152790_1_, var1, p_152790_2_);
+				
+
                 Minecraft.getMinecraft().addScheduledTask(new Runnable()
                 {
                     private static final String __OBFID = "CL_00001826";
diff --git a/src/net/minecraft/client/settings/GameSettings.java b/src/net/minecraft/client/settings/GameSettings.java
index 29bfeec..9c3b345 100644
--- a/src/net/minecraft/client/settings/GameSettings.java
+++ b/src/net/minecraft/client/settings/GameSettings.java
@@ -168,7 +168,8 @@ public class GameSettings
     public float saturation;
 
     /** GUI scale */
-    public int guiScale;
+    //TODO: Client
+    public int guiScale = 3;
 
     /** Determines amount of particles. 0 = All, 1 = Decreased, 2 = Minimal */
     public int particleSetting;
diff --git a/src/net/minecraft/client/settings/KeyBinding.java b/src/net/minecraft/client/settings/KeyBinding.java
index 6797266..9d4f0e9 100644
--- a/src/net/minecraft/client/settings/KeyBinding.java
+++ b/src/net/minecraft/client/settings/KeyBinding.java
@@ -18,8 +18,12 @@ public class KeyBinding implements Comparable
     private final String keyCategory;
     private int keyCode;
 
-    /** because _303 wanted me to call it that(Caironater) */
-    private boolean pressed;
+    /**
+     * because _303 wanted me to call it that(Caironater)<br>
+     * Alexander01998 wants it to stay public!
+     */
+    //TODO: Client
+    public boolean pressed;
     private int pressTime;
     private static final String __OBFID = "CL_00000628";
 
diff --git a/src/net/minecraft/client/shader/Framebuffer.java b/src/net/minecraft/client/shader/Framebuffer.java
index 4702880..5b9f541 100644
--- a/src/net/minecraft/client/shader/Framebuffer.java
+++ b/src/net/minecraft/client/shader/Framebuffer.java
@@ -251,7 +251,7 @@ public class Framebuffer
             Tessellator var8 = Tessellator.getInstance();
             WorldRenderer var9 = var8.getWorldRenderer();
             var9.startDrawingQuads();
-            var9.func_178991_c(-1);
+            var9.setColorOpaque_I(-1);
             var9.addVertexWithUV(0.0D, (double)var5, 0.0D, 0.0D, 0.0D);
             var9.addVertexWithUV((double)var4, (double)var5, 0.0D, (double)var6, 0.0D);
             var9.addVertexWithUV((double)var4, 0.0D, 0.0D, (double)var6, (double)var7);
diff --git a/src/net/minecraft/client/shader/Shader.java b/src/net/minecraft/client/shader/Shader.java
index e24bbd3..7ce08ef 100644
--- a/src/net/minecraft/client/shader/Shader.java
+++ b/src/net/minecraft/client/shader/Shader.java
@@ -90,7 +90,7 @@ public class Shader
         Tessellator var5 = Tessellator.getInstance();
         WorldRenderer var6 = var5.getWorldRenderer();
         var6.startDrawingQuads();
-        var6.func_178991_c(-1);
+        var6.setColorOpaque_I(-1);
         var6.addVertex(0.0D, (double)var3, 500.0D);
         var6.addVertex((double)var2, (double)var3, 500.0D);
         var6.addVertex((double)var2, 0.0D, 500.0D);
diff --git a/src/net/minecraft/client/stream/BroadcastController.java b/src/net/minecraft/client/stream/BroadcastController.java
index e03b8b1..d57e0d8 100644
--- a/src/net/minecraft/client/stream/BroadcastController.java
+++ b/src/net/minecraft/client/stream/BroadcastController.java
@@ -1,14 +1,18 @@
 package net.minecraft.client.stream;
 
 import com.google.common.collect.Lists;
+
 import java.util.Arrays;
 import java.util.List;
+
 import net.minecraft.crash.CrashReport;
 import net.minecraft.crash.CrashReportCategory;
 import net.minecraft.util.ReportedException;
 import net.minecraft.util.ThreadSafeBoundList;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
+
 import tv.twitch.AuthToken;
 import tv.twitch.Core;
 import tv.twitch.ErrorCode;
diff --git a/src/net/minecraft/command/IEntitySelector.java b/src/net/minecraft/command/IEntitySelector.java
index f0f7524..8ffefc0 100644
--- a/src/net/minecraft/command/IEntitySelector.java
+++ b/src/net/minecraft/command/IEntitySelector.java
@@ -52,7 +52,7 @@ public final class IEntitySelector
         private static final String __OBFID = "CL_00002256";
         public boolean func_180103_a(Entity p_180103_1_)
         {
-            return !(p_180103_1_ instanceof EntityPlayer) || !((EntityPlayer)p_180103_1_).func_175149_v();
+            return !(p_180103_1_ instanceof EntityPlayer) || !((EntityPlayer)p_180103_1_).isSpectator();
         }
         public boolean apply(Object p_apply_1_)
         {
diff --git a/src/net/minecraft/command/server/CommandBlockLogic.java b/src/net/minecraft/command/server/CommandBlockLogic.java
index 5f4e0f3..f87e3ea 100644
--- a/src/net/minecraft/command/server/CommandBlockLogic.java
+++ b/src/net/minecraft/command/server/CommandBlockLogic.java
@@ -1,9 +1,11 @@
 package net.minecraft.command.server;
 
 import io.netty.buffer.ByteBuf;
+
 import java.text.SimpleDateFormat;
 import java.util.Date;
 import java.util.concurrent.Callable;
+
 import net.minecraft.command.CommandResultStats;
 import net.minecraft.command.ICommandManager;
 import net.minecraft.command.ICommandSender;
@@ -205,7 +207,13 @@ public abstract class CommandBlockLogic implements ICommandSender
     {
         if (this.trackOutput && this.getEntityWorld() != null && !this.getEntityWorld().isRemote)
         {
-            this.lastOutput = (new ChatComponentText("[" + timestampFormat.format(new Date()) + "] ")).appendSibling(message);
+            synchronized(timestampFormat)
+			{
+				this.lastOutput =
+					(new ChatComponentText("["
+						+ timestampFormat.format(new Date()) + "] "))
+						.appendSibling(message);
+			}
 			this.func_145756_e();
         }
     }
diff --git a/src/net/minecraft/crash/CrashReport.java b/src/net/minecraft/crash/CrashReport.java
index 66f1ffd..892f197 100644
--- a/src/net/minecraft/crash/CrashReport.java
+++ b/src/net/minecraft/crash/CrashReport.java
@@ -1,6 +1,7 @@
 package net.minecraft.crash;
 
 import com.google.common.collect.Lists;
+
 import java.io.File;
 import java.io.FileWriter;
 import java.io.PrintWriter;
@@ -12,13 +13,18 @@ import java.util.Date;
 import java.util.Iterator;
 import java.util.List;
 import java.util.concurrent.Callable;
+
 import net.minecraft.util.ReportedException;
 import net.minecraft.world.gen.layer.IntCache;
+
 import org.apache.commons.io.IOUtils;
 import org.apache.commons.lang3.ArrayUtils;
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.crash.CrashSectionWurstVersion;
+
 public class CrashReport
 {
     private static final Logger logger = LogManager.getLogger();
@@ -62,6 +68,10 @@ public class CrashReport
                 return "1.8";
             }
         });
+        
+        //TODO: Client
+        this.theReportCategory.addCrashSectionCallable("Wurst Client Version", new CrashSectionWurstVersion());
+        
         this.theReportCategory.addCrashSectionCallable("Operating System", new Callable()
         {
             private static final String __OBFID = "CL_00001222";
@@ -246,7 +256,10 @@ public class CrashReport
     public String getCompleteReport()
     {
         StringBuilder var1 = new StringBuilder();
-        var1.append("---- Minecraft Crash Report ----\n");
+        //TODO: Client
+        var1.append("---------------- Wurst Client Crash Report ----------------\n");
+        var1.append("---- Please report this crash at: wurst-client.tk/bugs ----\n");
+        
         var1.append("// ");
         var1.append(getWittyComment());
         var1.append("\n\n");
@@ -379,7 +392,9 @@ public class CrashReport
      */
     private static String getWittyComment()
     {
-        String[] var0 = new String[] {"Who set us up the TNT?", "Everything\'s going to plan. No, really, that was supposed to happen.", "Uh... Did I do that?", "Oops.", "Why did you do that?", "I feel sad now :(", "My bad.", "I\'m sorry, Dave.", "I let you down. Sorry :(", "On the bright side, I bought you a teddy bear!", "Daisy, daisy...", "Oh - I know what I did wrong!", "Hey, that tickles! Hehehe!", "I blame Dinnerbone.", "You should try our sister game, Minceraft!", "Don\'t be sad. I\'ll do better next time, I promise!", "Don\'t be sad, have a hug! <3", "I just don\'t know what went wrong :(", "Shall we play a game?", "Quite honestly, I wouldn\'t worry myself about that.", "I bet Cylons wouldn\'t have this problem.", "Sorry :(", "Surprise! Haha. Well, this is awkward.", "Would you like a cupcake?", "Hi. I\'m Minecraft, and I\'m a crashaholic.", "Ooh. Shiny.", "This doesn\'t make any sense!", "Why is it breaking :(", "Don\'t do that.", "Ouch. That hurt :(", "You\'re mean.", "This is a token for 1 free hug. Redeem at your nearest Mojangsta: [~~HUG~~]", "There are four lights!", "But it works on my machine."};
+    	//TODO: Client
+    	//Added some extra comments
+        String[] var0 = new String[] {"Who set us up the TNT?", "Everything\'s going to plan. No, really, that was supposed to happen.", "Uh... Did I do that?", "Oops.", "Why did you do that?", "I feel sad now :(", "My bad.", "I\'m sorry, Dave.", "I let you down. Sorry :(", "On the bright side, I bought you a teddy bear!", "Daisy, daisy...", "Oh - I know what I did wrong!", "Hey, that tickles! Hehehe!", "I blame Dinnerbone.", "I blame Apple.", "You should try our sister game, Minceraft!", "Don\'t be sad. I\'ll do better next time, I promise!", "Don\'t be sad, have a hug! <3", "I just don\'t know what went wrong :(", "Shall we play a game?", "Quite honestly, I wouldn\'t worry myself about that.", "I bet Cylons wouldn\'t have this problem.", "Sorry :(", "Surprise! Haha. Well, this is awkward.", "Would you like a cupcake?", "Hi. I\'m Minecraft, and I\'m a crashaholic.", "Ooh. Shiny.", "This doesn\'t make any sense!", "Why is it breaking :(", "Don\'t do that.", "Ouch. That hurt :(", "You\'re mean.", "This is a token for 1 free hug. Redeem at your nearest Mojangsta: [~~HUG~~]", "There are four lights!", "But it works on my machine.", "At least you tried it!", "At least you got a nice looking crash report!", "Immer weiter gehen, nicht stehen bleiben!"};
 
         try
         {
diff --git a/src/net/minecraft/crash/CrashReportCategory.java b/src/net/minecraft/crash/CrashReportCategory.java
index c55aa0c..6cc2c1f 100644
--- a/src/net/minecraft/crash/CrashReportCategory.java
+++ b/src/net/minecraft/crash/CrashReportCategory.java
@@ -1,11 +1,14 @@
 package net.minecraft.crash;
 
 import com.google.common.collect.Lists;
+
 import java.util.Iterator;
 import java.util.List;
 import java.util.concurrent.Callable;
+
 import net.minecraft.block.Block;
 import net.minecraft.block.state.IBlockState;
+import net.minecraft.crash.CrashReport;
 import net.minecraft.util.BlockPos;
 
 public class CrashReportCategory
diff --git a/src/net/minecraft/entity/DataWatcher.java b/src/net/minecraft/entity/DataWatcher.java
index 6b59121..a0061ec 100644
--- a/src/net/minecraft/entity/DataWatcher.java
+++ b/src/net/minecraft/entity/DataWatcher.java
@@ -2,6 +2,7 @@ package net.minecraft.entity;
 
 import com.google.common.collect.Lists;
 import com.google.common.collect.Maps;
+
 import java.io.IOException;
 import java.util.ArrayList;
 import java.util.Iterator;
@@ -9,6 +10,7 @@ import java.util.List;
 import java.util.Map;
 import java.util.concurrent.locks.ReadWriteLock;
 import java.util.concurrent.locks.ReentrantReadWriteLock;
+
 import net.minecraft.crash.CrashReport;
 import net.minecraft.crash.CrashReportCategory;
 import net.minecraft.item.ItemStack;
@@ -16,6 +18,7 @@ import net.minecraft.network.PacketBuffer;
 import net.minecraft.util.BlockPos;
 import net.minecraft.util.ReportedException;
 import net.minecraft.util.Rotations;
+
 import org.apache.commons.lang3.ObjectUtils;
 
 public class DataWatcher
@@ -105,12 +108,19 @@ public class DataWatcher
         return ((Float)this.getWatchedObject(id).getObject()).floatValue();
     }
 
+    //TODO: Client
     /**
      * gets a watchable object and returns it as a String
      */
     public String getWatchableObjectString(int id)
     {
+        try
+		{
 			return (String)this.getWatchedObject(id).getObject();
+		}catch(Exception e)
+		{
+			return "";
+		}
     }
 
     /**
diff --git a/src/net/minecraft/entity/Entity.java b/src/net/minecraft/entity/Entity.java
index 7397345..8e3807c 100644
--- a/src/net/minecraft/entity/Entity.java
+++ b/src/net/minecraft/entity/Entity.java
@@ -5,6 +5,7 @@ import java.util.List;
 import java.util.Random;
 import java.util.UUID;
 import java.util.concurrent.Callable;
+
 import net.minecraft.block.Block;
 import net.minecraft.block.BlockFence;
 import net.minecraft.block.BlockFenceGate;
@@ -12,6 +13,7 @@ import net.minecraft.block.BlockLiquid;
 import net.minecraft.block.BlockWall;
 import net.minecraft.block.material.Material;
 import net.minecraft.block.state.IBlockState;
+import net.minecraft.client.Minecraft;
 import net.minecraft.command.CommandResultStats;
 import net.minecraft.command.ICommandSender;
 import net.minecraft.crash.CrashReport;
@@ -46,6 +48,12 @@ import net.minecraft.util.Vec3;
 import net.minecraft.world.Explosion;
 import net.minecraft.world.World;
 import net.minecraft.world.WorldServer;
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.mods.AntiKnockbackMod;
+import tk.wurst_client.mods.FreecamMod;
+import tk.wurst_client.mods.NoClipMod;
+import tk.wurst_client.mods.PhaseMod;
+import tk.wurst_client.mods.SafeWalkMod;
 
 public abstract class Entity implements ICommandSender
 {
@@ -99,8 +107,8 @@ public abstract class Entity implements ICommandSender
     public float prevRotationYaw;
     public float prevRotationPitch;
 
-    /** Axis aligned bounding box. */
-    private AxisAlignedBB boundingBox;
+    /** Axis aligned bounding box. *///TODO: Client
+    public AxisAlignedBB boundingBox;
     public boolean onGround;
 
     /**
@@ -118,7 +126,8 @@ public abstract class Entity implements ICommandSender
      */
     public boolean isCollided;
     public boolean velocityChanged;
-    protected boolean isInWeb;
+    //TODO: Client
+    public boolean isInWeb;
     private boolean isOutsideBorder;
 
     /**
@@ -578,8 +587,21 @@ public abstract class Entity implements ICommandSender
      */
     public void moveEntity(double x, double y, double z)
     {
-        if (this.noClip)
+		// TODO: Client
+		// Enables NoClip.
+		boolean freecamActive = WurstClient.INSTANCE.mods.freecamMod.isActive();
+		if(this.noClip
+			|| ((freecamActive || WurstClient.INSTANCE.mods.phaseMod.isActive() || WurstClient.INSTANCE.mods.noClipMod
+				.isActive()) && this instanceof EntityPlayer))
+		{
+        	
+			// TODO: Client
+			// Fixes Freecam flight speed
+			if(this == Minecraft.getMinecraft().thePlayer && freecamActive)
 			{
+        		
+        		this.func_174826_a(this.getEntityBoundingBox().offset(x * 10, y, z * 10));
+        	}else
         		this.func_174826_a(this.getEntityBoundingBox().offset(x, y, z));
             this.func_174829_m();
         }
@@ -604,7 +626,12 @@ public abstract class Entity implements ICommandSender
             double var13 = x;
             double var15 = y;
             double var17 = z;
-            boolean var19 = this.onGround && this.isSneaking() && this instanceof EntityPlayer;
+            
+			// TODO: Client
+			boolean var19 =
+				this.onGround
+					&& (this.isSneaking() || WurstClient.INSTANCE.mods.safeWalkMod
+						.isActive()) && this instanceof EntityPlayer;
 
             if (var19)
             {
@@ -2083,6 +2110,10 @@ public abstract class Entity implements ICommandSender
      */
     public void setVelocity(double x, double y, double z)
     {
+		// TODO: Client
+		if(WurstClient.INSTANCE.mods.antiKnockbackMod.isActive())
+			return;
+    	
 		this.motionX = x;
     	this.motionY = y;
     	this.motionZ = z;
@@ -2170,7 +2201,7 @@ public abstract class Entity implements ICommandSender
      */
     public boolean isInvisibleToPlayer(EntityPlayer playerIn)
     {
-        return playerIn.func_175149_v() ? false : this.isInvisible();
+        return playerIn.isSpectator() ? false : this.isInvisible();
     }
 
     public void setInvisible(boolean invisible)
diff --git a/src/net/minecraft/entity/EntityLivingBase.java b/src/net/minecraft/entity/EntityLivingBase.java
index c6f8843..3be36ba 100644
--- a/src/net/minecraft/entity/EntityLivingBase.java
+++ b/src/net/minecraft/entity/EntityLivingBase.java
@@ -1,12 +1,18 @@
 package net.minecraft.entity;
 
 import com.google.common.collect.Maps;
+
 import java.util.Collection;
 import java.util.Iterator;
 import java.util.List;
 import java.util.Map;
 import java.util.Random;
 import java.util.UUID;
+
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.mods.HighJumpMod;
+import tk.wurst_client.mods.Mod;
+import tk.wurst_client.mods.NoSlowdownMod;
 import net.minecraft.block.Block;
 import net.minecraft.block.material.Material;
 import net.minecraft.block.state.IBlockState;
@@ -1121,7 +1127,7 @@ public abstract class EntityLivingBase extends Entity
         int var2 = MathHelper.floor_double(this.getEntityBoundingBox().minY);
         int var3 = MathHelper.floor_double(this.posZ);
         Block var4 = this.worldObj.getBlockState(new BlockPos(var1, var2, var3)).getBlock();
-        return (var4 == Blocks.ladder || var4 == Blocks.vine) && (!(this instanceof EntityPlayer) || !((EntityPlayer)this).func_175149_v());
+        return (var4 == Blocks.ladder || var4 == Blocks.vine) && (!(this instanceof EntityPlayer) || !((EntityPlayer)this).isSpectator());
     }
 
     /**
@@ -1555,7 +1561,13 @@ public abstract class EntityLivingBase extends Entity
      */
     protected void jump()
     {
-        this.motionY = (double)this.func_175134_bD();
+    	
+		// TODO: Client
+		HighJumpMod highJumpMod = WurstClient.INSTANCE.mods.highJumpMod;
+		this.motionY =
+			(double)this.func_175134_bD()
+				* (this instanceof EntityPlayer && highJumpMod.isActive()
+					? highJumpMod.jumpHeight : 1);
 
         if (this.isPotionActive(Potion.jump))
         {
@@ -1598,8 +1610,12 @@ public abstract class EntityLivingBase extends Entity
             float var5;
             float var6;
 
-            if (this.isInWater() && (!(this instanceof EntityPlayer) || !((EntityPlayer)this).capabilities.isFlying))
+			// TODO: Client
+			if(this.isInWater()
+				&& (!(this instanceof EntityPlayer) || !((EntityPlayer)this).capabilities.isFlying)
+				&& !WurstClient.INSTANCE.mods.noSlowdownMod.isActive())
 			{
+            	
                 var8 = this.posY;
                 var5 = 0.8F;
                 var6 = 0.02F;
diff --git a/src/net/minecraft/entity/EntityTracker.java b/src/net/minecraft/entity/EntityTracker.java
index e86485f..f2ac739 100644
--- a/src/net/minecraft/entity/EntityTracker.java
+++ b/src/net/minecraft/entity/EntityTracker.java
@@ -2,10 +2,12 @@ package net.minecraft.entity;
 
 import com.google.common.collect.Lists;
 import com.google.common.collect.Sets;
+
 import java.util.ArrayList;
 import java.util.Iterator;
 import java.util.Set;
 import java.util.concurrent.Callable;
+
 import net.minecraft.crash.CrashReport;
 import net.minecraft.crash.CrashReportCategory;
 import net.minecraft.entity.boss.EntityDragon;
@@ -38,6 +40,7 @@ import net.minecraft.util.IntHashMap;
 import net.minecraft.util.ReportedException;
 import net.minecraft.world.WorldServer;
 import net.minecraft.world.chunk.Chunk;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
diff --git a/src/net/minecraft/entity/boss/EntityDragon.java b/src/net/minecraft/entity/boss/EntityDragon.java
index 21f4488..1c2a9bc 100644
--- a/src/net/minecraft/entity/boss/EntityDragon.java
+++ b/src/net/minecraft/entity/boss/EntityDragon.java
@@ -478,7 +478,7 @@ public class EntityDragon extends EntityLiving implements IBossDisplayData, IEnt
 
         while (var2.hasNext())
         {
-            if (((EntityPlayer)var2.next()).func_175149_v())
+            if (((EntityPlayer)var2.next()).isSpectator())
             {
                 var2.remove();
             }
diff --git a/src/net/minecraft/entity/item/EntityArmorStand.java b/src/net/minecraft/entity/item/EntityArmorStand.java
index dbc77e3..01f5b73 100644
--- a/src/net/minecraft/entity/item/EntityArmorStand.java
+++ b/src/net/minecraft/entity/item/EntityArmorStand.java
@@ -350,7 +350,7 @@ public class EntityArmorStand extends EntityLivingBase
 
     public boolean func_174825_a(EntityPlayer p_174825_1_, Vec3 p_174825_2_)
     {
-        if (!this.worldObj.isRemote && !p_174825_1_.func_175149_v())
+        if (!this.worldObj.isRemote && !p_174825_1_.isSpectator())
         {
             byte var3 = 0;
             ItemStack var4 = p_174825_1_.getCurrentEquippedItem();
diff --git a/src/net/minecraft/entity/item/EntityMinecartContainer.java b/src/net/minecraft/entity/item/EntityMinecartContainer.java
index 988ba9a..f9838fe 100644
--- a/src/net/minecraft/entity/item/EntityMinecartContainer.java
+++ b/src/net/minecraft/entity/item/EntityMinecartContainer.java
@@ -212,7 +212,7 @@ public abstract class EntityMinecartContainer extends EntityMinecart implements
             NBTTagCompound var4 = var2.getCompoundTagAt(var3);
             int var5 = var4.getByte("Slot") & 255;
 
-            if (var5 >= 0 && var5 < this.minecartContainerItems.length)
+            if (var5 < this.minecartContainerItems.length)
             {
                 this.minecartContainerItems[var5] = ItemStack.loadItemStackFromNBT(var4);
             }
diff --git a/src/net/minecraft/entity/item/EntityXPOrb.java b/src/net/minecraft/entity/item/EntityXPOrb.java
index 9f8f79c..384c556 100644
--- a/src/net/minecraft/entity/item/EntityXPOrb.java
+++ b/src/net/minecraft/entity/item/EntityXPOrb.java
@@ -117,7 +117,7 @@ public class EntityXPOrb extends Entity
             this.xpTargetColor = this.xpColor;
         }
 
-        if (this.closestPlayer != null && this.closestPlayer.func_175149_v())
+        if (this.closestPlayer != null && this.closestPlayer.isSpectator())
         {
             this.closestPlayer = null;
         }
diff --git a/src/net/minecraft/entity/passive/EntityWolf.java b/src/net/minecraft/entity/passive/EntityWolf.java
index 56e2ce1..9026ae0 100644
--- a/src/net/minecraft/entity/passive/EntityWolf.java
+++ b/src/net/minecraft/entity/passive/EntityWolf.java
@@ -251,7 +251,7 @@ public class EntityWolf extends EntityTameable
             this.timeWolfIsShaking = 0.0F;
             this.prevTimeWolfIsShaking = 0.0F;
         }
-        else if ((this.isWet || this.isShaking) && this.isShaking)
+        else if (this.isShaking)
         {
             if (this.timeWolfIsShaking == 0.0F)
             {
diff --git a/src/net/minecraft/entity/player/EntityPlayer.java b/src/net/minecraft/entity/player/EntityPlayer.java
index 8a0a656..4786f5f 100644
--- a/src/net/minecraft/entity/player/EntityPlayer.java
+++ b/src/net/minecraft/entity/player/EntityPlayer.java
@@ -1,17 +1,19 @@
 package net.minecraft.entity.player;
 
-import com.google.common.base.Charsets;
-import com.google.common.collect.Lists;
-import com.mojang.authlib.GameProfile;
 import java.util.Collection;
 import java.util.Iterator;
 import java.util.List;
 import java.util.UUID;
+
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.bot.WurstBot;
+import tk.wurst_client.mods.AntiKnockbackMod;
 import net.minecraft.block.Block;
 import net.minecraft.block.BlockBed;
 import net.minecraft.block.BlockDirectional;
 import net.minecraft.block.material.Material;
 import net.minecraft.block.state.IBlockState;
+import net.minecraft.client.Minecraft;
 import net.minecraft.command.server.CommandBlockLogic;
 import net.minecraft.enchantment.EnchantmentHelper;
 import net.minecraft.entity.Entity;
@@ -76,6 +78,10 @@ import net.minecraft.world.LockCode;
 import net.minecraft.world.World;
 import net.minecraft.world.WorldSettings;
 
+import com.google.common.base.Charsets;
+import com.google.common.collect.Lists;
+import com.mojang.authlib.GameProfile;
+
 public abstract class EntityPlayer extends EntityLivingBase
 {
     /** Inventory of the player */
@@ -266,9 +272,9 @@ public abstract class EntityPlayer extends EntityLivingBase
      */
     public void onUpdate()
     {
-        this.noClip = this.func_175149_v();
+        this.noClip = this.isSpectator();
 
-        if (this.func_175149_v())
+        if (this.isSpectator())
         {
             this.onGround = false;
         }
@@ -654,7 +660,7 @@ public abstract class EntityPlayer extends EntityLivingBase
         this.cameraYaw += (var2 - this.cameraYaw) * 0.4F;
         this.cameraPitch += (var3 - this.cameraPitch) * 0.8F;
 
-        if (this.getHealth() > 0.0F && !this.func_175149_v())
+        if (this.getHealth() > 0.0F && !this.isSpectator())
         {
             AxisAlignedBB var4 = null;
 
@@ -713,6 +719,10 @@ public abstract class EntityPlayer extends EntityLivingBase
      */
     public void onDeath(DamageSource cause)
     {
+    	//TODO: Client
+    	if(this.equals(Minecraft.getMinecraft().thePlayer) && WurstBot.isEnabled())
+			Minecraft.getMinecraft().displayGuiScreen(null);
+    	
         super.onDeath(cause);
         this.setSize(0.2F, 0.2F);
         this.setPosition(this.posX, this.posY, this.posZ);
@@ -1216,7 +1226,7 @@ public abstract class EntityPlayer extends EntityLivingBase
 
     public boolean interactWith(Entity p_70998_1_)
     {
-        if (this.func_175149_v())
+        if (this.isSpectator())
         {
             if (p_70998_1_ instanceof IInventory)
             {
@@ -1925,7 +1935,7 @@ public abstract class EntityPlayer extends EntityLivingBase
      */
     protected void resetHeight()
     {
-        if (!this.func_175149_v())
+        if (!this.isSpectator())
         {
             super.resetHeight();
         }
@@ -2246,18 +2256,18 @@ public abstract class EntityPlayer extends EntityLivingBase
         {
             return false;
         }
-        else if (playerIn.func_175149_v())
+        else if (playerIn.isSpectator())
         {
             return false;
         }
         else
         {
             Team var2 = this.getTeam();
-            return var2 == null || playerIn == null || playerIn.getTeam() != var2 || !var2.func_98297_h();
+            return var2 == null || playerIn.getTeam() != var2 || !var2.func_98297_h();
         }
     }
 
-    public abstract boolean func_175149_v();
+    public abstract boolean isSpectator();
 
     /**
      * returns the inventory of this entity (only used in EntityPlayerMP it seems)
@@ -2269,7 +2279,9 @@ public abstract class EntityPlayer extends EntityLivingBase
 
     public boolean isPushedByWater()
     {
-        return !this.capabilities.isFlying;
+		// TODO: Client
+		return !this.capabilities.isFlying
+			&& !WurstClient.INSTANCE.mods.antiKnockbackMod.isActive();
     }
 
     public Scoreboard getWorldScoreboard()
@@ -2332,15 +2344,15 @@ public abstract class EntityPlayer extends EntityLivingBase
 
         if (var1 == null)
         {
-            var1 = func_175147_b(p_146094_0_.getName());
+            var1 = getUUIDFromPlayerName(p_146094_0_.getName());
         }
 
         return var1;
     }
 
-    public static UUID func_175147_b(String p_175147_0_)
+    public static UUID getUUIDFromPlayerName(String name)
     {
-        return UUID.nameUUIDFromBytes(("OfflinePlayer:" + p_175147_0_).getBytes(Charsets.UTF_8));
+        return UUID.nameUUIDFromBytes(("OfflinePlayer:" + name).getBytes(Charsets.UTF_8));
     }
 
     public boolean func_175146_a(LockCode p_175146_1_)
diff --git a/src/net/minecraft/entity/player/EntityPlayerMP.java b/src/net/minecraft/entity/player/EntityPlayerMP.java
index edb94d6..2fa3fe1 100644
--- a/src/net/minecraft/entity/player/EntityPlayerMP.java
+++ b/src/net/minecraft/entity/player/EntityPlayerMP.java
@@ -3,13 +3,16 @@ package net.minecraft.entity.player;
 import com.google.common.collect.Lists;
 import com.google.common.collect.Sets;
 import com.mojang.authlib.GameProfile;
+
 import io.netty.buffer.Unpooled;
+
 import java.util.ArrayList;
 import java.util.Arrays;
 import java.util.Collection;
 import java.util.HashSet;
 import java.util.Iterator;
 import java.util.List;
+
 import net.minecraft.block.Block;
 import net.minecraft.block.BlockFence;
 import net.minecraft.block.BlockFenceGate;
@@ -96,6 +99,7 @@ import net.minecraft.world.WorldServer;
 import net.minecraft.world.WorldSettings;
 import net.minecraft.world.biome.BiomeGenBase;
 import net.minecraft.world.chunk.Chunk;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
@@ -642,7 +646,7 @@ public class EntityPlayerMP extends EntityPlayer implements ICrafting
 
     public boolean func_174827_a(EntityPlayerMP p_174827_1_)
     {
-        return p_174827_1_.func_175149_v() ? this.func_175398_C() == this : (this.func_175149_v() ? false : super.func_174827_a(p_174827_1_));
+        return p_174827_1_.isSpectator() ? this.func_175398_C() == this : (this.isSpectator() ? false : super.func_174827_a(p_174827_1_));
     }
 
     private void sendTileEntityUpdate(TileEntity p_147097_1_)
@@ -779,7 +783,7 @@ public class EntityPlayerMP extends EntityPlayer implements ICrafting
         {
             ILockableContainer var2 = (ILockableContainer)chestInventory;
 
-            if (var2.isLocked() && !this.func_175146_a(var2.getLockCode()) && !this.func_175149_v())
+            if (var2.isLocked() && !this.func_175146_a(var2.getLockCode()) && !this.isSpectator())
             {
                 this.playerNetServerHandler.sendPacket(new S02PacketChat(new ChatComponentTranslation("container.isLocked", new Object[] {chestInventory.getDisplayName()}), (byte)2));
                 this.playerNetServerHandler.sendPacket(new S29PacketSoundEffect("random.door_close", this.posX, this.posY, this.posZ, 1.0F, 1.0F));
@@ -1128,7 +1132,7 @@ public class EntityPlayerMP extends EntityPlayer implements ICrafting
         this.func_175136_bO();
     }
 
-    public boolean func_175149_v()
+    public boolean isSpectator()
     {
         return this.theItemInWorldManager.getGameType() == WorldSettings.GameType.SPECTATOR;
     }
@@ -1232,7 +1236,7 @@ public class EntityPlayerMP extends EntityPlayer implements ICrafting
 
     protected void func_175135_B()
     {
-        if (this.func_175149_v())
+        if (this.isSpectator())
         {
             this.func_175133_bi();
             this.setInvisible(true);
diff --git a/src/net/minecraft/entity/player/InventoryPlayer.java b/src/net/minecraft/entity/player/InventoryPlayer.java
index 691d6f6..68212ad 100644
--- a/src/net/minecraft/entity/player/InventoryPlayer.java
+++ b/src/net/minecraft/entity/player/InventoryPlayer.java
@@ -1,6 +1,7 @@
 package net.minecraft.entity.player;
 
 import java.util.concurrent.Callable;
+
 import net.minecraft.block.Block;
 import net.minecraft.command.server.CommandTestForBlock;
 import net.minecraft.crash.CrashReport;
@@ -605,7 +606,7 @@ public class InventoryPlayer implements IInventory
 
             if (var5 != null)
             {
-                if (var4 >= 0 && var4 < this.mainInventory.length)
+                if (var4 < this.mainInventory.length)
                 {
                     this.mainInventory[var4] = var5;
                 }
diff --git a/src/net/minecraft/entity/projectile/EntityArrow.java b/src/net/minecraft/entity/projectile/EntityArrow.java
index ff39a27..c4f6225 100644
--- a/src/net/minecraft/entity/projectile/EntityArrow.java
+++ b/src/net/minecraft/entity/projectile/EntityArrow.java
@@ -372,7 +372,7 @@ public class EntityArrow extends Entity implements IProjectile
                 }
                 else
                 {
-                    BlockPos var23 = var6.func_178782_a();
+                    BlockPos var23 = var6.getBlockPos();
                     this.field_145791_d = var23.getX();
                     this.field_145792_e = var23.getY();
                     this.field_145789_f = var23.getZ();
diff --git a/src/net/minecraft/entity/projectile/EntitySmallFireball.java b/src/net/minecraft/entity/projectile/EntitySmallFireball.java
index 55181ad..6238f18 100644
--- a/src/net/minecraft/entity/projectile/EntitySmallFireball.java
+++ b/src/net/minecraft/entity/projectile/EntitySmallFireball.java
@@ -64,7 +64,7 @@ public class EntitySmallFireball extends EntityFireball
 
                 if (var2)
                 {
-                    BlockPos var3 = p_70227_1_.func_178782_a().offset(p_70227_1_.field_178784_b);
+                    BlockPos var3 = p_70227_1_.getBlockPos().offset(p_70227_1_.sideHit);
 
                     if (this.worldObj.isAirBlock(var3))
                     {
diff --git a/src/net/minecraft/entity/projectile/EntityThrowable.java b/src/net/minecraft/entity/projectile/EntityThrowable.java
index 3286135..dfb2f6c 100644
--- a/src/net/minecraft/entity/projectile/EntityThrowable.java
+++ b/src/net/minecraft/entity/projectile/EntityThrowable.java
@@ -218,7 +218,7 @@ public abstract class EntityThrowable extends Entity implements IProjectile
 
         if (var3 != null)
         {
-            if (var3.typeOfHit == MovingObjectPosition.MovingObjectType.BLOCK && this.worldObj.getBlockState(var3.func_178782_a()).getBlock() == Blocks.portal)
+            if (var3.typeOfHit == MovingObjectPosition.MovingObjectType.BLOCK && this.worldObj.getBlockState(var3.getBlockPos()).getBlock() == Blocks.portal)
             {
                 this.setInPortal();
             }
diff --git a/src/net/minecraft/inventory/ContainerPlayer.java b/src/net/minecraft/inventory/ContainerPlayer.java
index f990268..f6f4c15 100644
--- a/src/net/minecraft/inventory/ContainerPlayer.java
+++ b/src/net/minecraft/inventory/ContainerPlayer.java
@@ -50,7 +50,7 @@ public class ContainerPlayer extends Container
                 {
                     return stack == null ? false : (stack.getItem() instanceof ItemArmor ? ((ItemArmor)stack.getItem()).armorType == var44 : (stack.getItem() != Item.getItemFromBlock(Blocks.pumpkin) && stack.getItem() != Items.skull ? false : var44 == 0));
                 }
-                public String func_178171_c()
+                public String getNull()
                 {
                     return ItemArmor.EMPTY_SLOT_NAMES[var44];
                 }
diff --git a/src/net/minecraft/inventory/InventoryEnderChest.java b/src/net/minecraft/inventory/InventoryEnderChest.java
index ed02f22..664ccd7 100644
--- a/src/net/minecraft/inventory/InventoryEnderChest.java
+++ b/src/net/minecraft/inventory/InventoryEnderChest.java
@@ -35,7 +35,7 @@ public class InventoryEnderChest extends InventoryBasic
             NBTTagCompound var3 = p_70486_1_.getCompoundTagAt(var2);
             int var4 = var3.getByte("Slot") & 255;
 
-            if (var4 >= 0 && var4 < this.getSizeInventory())
+            if (var4 < this.getSizeInventory())
             {
                 this.setInventorySlotContents(var4, ItemStack.loadItemStackFromNBT(var3));
             }
diff --git a/src/net/minecraft/inventory/Slot.java b/src/net/minecraft/inventory/Slot.java
index c9a68cf..ce20868 100644
--- a/src/net/minecraft/inventory/Slot.java
+++ b/src/net/minecraft/inventory/Slot.java
@@ -119,7 +119,12 @@ public class Slot
         return this.getSlotStackLimit();
     }
 
-    public String func_178171_c()
+    //TODO: Client
+    /**
+     * WTF, null?!
+     * @return null
+     */
+    public String getNull()
     {
         return null;
     }
diff --git a/src/net/minecraft/item/ItemBoat.java b/src/net/minecraft/item/ItemBoat.java
index fc9d038..f4246d2 100644
--- a/src/net/minecraft/item/ItemBoat.java
+++ b/src/net/minecraft/item/ItemBoat.java
@@ -81,7 +81,7 @@ public class ItemBoat extends Item
             {
                 if (var24.typeOfHit == MovingObjectPosition.MovingObjectType.BLOCK)
                 {
-                    BlockPos var33 = var24.func_178782_a();
+                    BlockPos var33 = var24.getBlockPos();
 
                     if (worldIn.getBlockState(var33).getBlock() == Blocks.snow_layer)
                     {
diff --git a/src/net/minecraft/item/ItemBucket.java b/src/net/minecraft/item/ItemBucket.java
index c354da4..33b7bfa 100644
--- a/src/net/minecraft/item/ItemBucket.java
+++ b/src/net/minecraft/item/ItemBucket.java
@@ -43,7 +43,7 @@ public class ItemBucket extends Item
         {
             if (var5.typeOfHit == MovingObjectPosition.MovingObjectType.BLOCK)
             {
-                BlockPos var6 = var5.func_178782_a();
+                BlockPos var6 = var5.getBlockPos();
 
                 if (!worldIn.isBlockModifiable(playerIn, var6))
                 {
@@ -52,7 +52,7 @@ public class ItemBucket extends Item
 
                 if (var4)
                 {
-                    if (!playerIn.func_175151_a(var6.offset(var5.field_178784_b), var5.field_178784_b, itemStackIn))
+                    if (!playerIn.func_175151_a(var6.offset(var5.sideHit), var5.sideHit, itemStackIn))
                     {
                         return itemStackIn;
                     }
@@ -81,9 +81,9 @@ public class ItemBucket extends Item
                         return new ItemStack(Items.bucket);
                     }
 
-                    BlockPos var9 = var6.offset(var5.field_178784_b);
+                    BlockPos var9 = var6.offset(var5.sideHit);
 
-                    if (!playerIn.func_175151_a(var9, var5.field_178784_b, itemStackIn))
+                    if (!playerIn.func_175151_a(var9, var5.sideHit, itemStackIn))
                     {
                         return itemStackIn;
                     }
diff --git a/src/net/minecraft/item/ItemEnderEye.java b/src/net/minecraft/item/ItemEnderEye.java
index 72f64fc..498cbbb 100644
--- a/src/net/minecraft/item/ItemEnderEye.java
+++ b/src/net/minecraft/item/ItemEnderEye.java
@@ -153,7 +153,7 @@ public class ItemEnderEye extends Item
     {
         MovingObjectPosition var4 = this.getMovingObjectPositionFromPlayer(worldIn, playerIn, false);
 
-        if (var4 != null && var4.typeOfHit == MovingObjectPosition.MovingObjectType.BLOCK && worldIn.getBlockState(var4.func_178782_a()).getBlock() == Blocks.end_portal_frame)
+        if (var4 != null && var4.typeOfHit == MovingObjectPosition.MovingObjectType.BLOCK && worldIn.getBlockState(var4.getBlockPos()).getBlock() == Blocks.end_portal_frame)
         {
             return itemStackIn;
         }
diff --git a/src/net/minecraft/item/ItemGlassBottle.java b/src/net/minecraft/item/ItemGlassBottle.java
index 03aaa1f..37f4cd5 100644
--- a/src/net/minecraft/item/ItemGlassBottle.java
+++ b/src/net/minecraft/item/ItemGlassBottle.java
@@ -33,14 +33,14 @@ public class ItemGlassBottle extends Item
         {
             if (var4.typeOfHit == MovingObjectPosition.MovingObjectType.BLOCK)
             {
-                BlockPos var5 = var4.func_178782_a();
+                BlockPos var5 = var4.getBlockPos();
 
                 if (!worldIn.isBlockModifiable(playerIn, var5))
                 {
                     return itemStackIn;
                 }
 
-                if (!playerIn.func_175151_a(var5.offset(var4.field_178784_b), var4.field_178784_b, itemStackIn))
+                if (!playerIn.func_175151_a(var5.offset(var4.sideHit), var4.sideHit, itemStackIn))
                 {
                     return itemStackIn;
                 }
diff --git a/src/net/minecraft/item/ItemLilyPad.java b/src/net/minecraft/item/ItemLilyPad.java
index 44467ae..70ad223 100644
--- a/src/net/minecraft/item/ItemLilyPad.java
+++ b/src/net/minecraft/item/ItemLilyPad.java
@@ -35,14 +35,14 @@ public class ItemLilyPad extends ItemColored
         {
             if (var4.typeOfHit == MovingObjectPosition.MovingObjectType.BLOCK)
             {
-                BlockPos var5 = var4.func_178782_a();
+                BlockPos var5 = var4.getBlockPos();
 
                 if (!worldIn.isBlockModifiable(playerIn, var5))
                 {
                     return itemStackIn;
                 }
 
-                if (!playerIn.func_175151_a(var5.offset(var4.field_178784_b), var4.field_178784_b, itemStackIn))
+                if (!playerIn.func_175151_a(var5.offset(var4.sideHit), var4.sideHit, itemStackIn))
                 {
                     return itemStackIn;
                 }
diff --git a/src/net/minecraft/item/ItemMonsterPlacer.java b/src/net/minecraft/item/ItemMonsterPlacer.java
index bb47501..cbe31be 100644
--- a/src/net/minecraft/item/ItemMonsterPlacer.java
+++ b/src/net/minecraft/item/ItemMonsterPlacer.java
@@ -141,14 +141,14 @@ public class ItemMonsterPlacer extends Item
             {
                 if (var4.typeOfHit == MovingObjectPosition.MovingObjectType.BLOCK)
                 {
-                    BlockPos var5 = var4.func_178782_a();
+                    BlockPos var5 = var4.getBlockPos();
 
                     if (!worldIn.isBlockModifiable(playerIn, var5))
                     {
                         return itemStackIn;
                     }
 
-                    if (!playerIn.func_175151_a(var5, var4.field_178784_b, itemStackIn))
+                    if (!playerIn.func_175151_a(var5, var4.sideHit, itemStackIn))
                     {
                         return itemStackIn;
                     }
diff --git a/src/net/minecraft/nbt/CompressedStreamTools.java b/src/net/minecraft/nbt/CompressedStreamTools.java
index f82a045..8169124 100644
--- a/src/net/minecraft/nbt/CompressedStreamTools.java
+++ b/src/net/minecraft/nbt/CompressedStreamTools.java
@@ -14,6 +14,7 @@ import java.io.InputStream;
 import java.io.OutputStream;
 import java.util.zip.GZIPInputStream;
 import java.util.zip.GZIPOutputStream;
+
 import net.minecraft.crash.CrashReport;
 import net.minecraft.crash.CrashReportCategory;
 import net.minecraft.util.ReportedException;
diff --git a/src/net/minecraft/nbt/NBTTagCompound.java b/src/net/minecraft/nbt/NBTTagCompound.java
index b5f305a..1cdd1ef 100644
--- a/src/net/minecraft/nbt/NBTTagCompound.java
+++ b/src/net/minecraft/nbt/NBTTagCompound.java
@@ -1,6 +1,7 @@
 package net.minecraft.nbt;
 
 import com.google.common.collect.Maps;
+
 import java.io.DataInput;
 import java.io.DataOutput;
 import java.io.IOException;
@@ -8,9 +9,11 @@ import java.util.Iterator;
 import java.util.Map;
 import java.util.Set;
 import java.util.concurrent.Callable;
+
 import net.minecraft.crash.CrashReport;
 import net.minecraft.crash.CrashReportCategory;
 import net.minecraft.util.ReportedException;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
diff --git a/src/net/minecraft/network/NetHandlerPlayServer.java b/src/net/minecraft/network/NetHandlerPlayServer.java
index 38b9ecd..65aa056 100644
--- a/src/net/minecraft/network/NetHandlerPlayServer.java
+++ b/src/net/minecraft/network/NetHandlerPlayServer.java
@@ -2,9 +2,11 @@ package net.minecraft.network;
 
 import com.google.common.collect.Lists;
 import com.google.common.util.concurrent.Futures;
+
 import io.netty.buffer.Unpooled;
 import io.netty.util.concurrent.Future;
 import io.netty.util.concurrent.GenericFutureListener;
+
 import java.io.IOException;
 import java.util.ArrayList;
 import java.util.Collections;
@@ -12,6 +14,7 @@ import java.util.Date;
 import java.util.Iterator;
 import java.util.Set;
 import java.util.concurrent.Callable;
+
 import net.minecraft.block.material.Material;
 import net.minecraft.command.server.CommandBlockLogic;
 import net.minecraft.crash.CrashReport;
@@ -37,6 +40,7 @@ import net.minecraft.item.ItemStack;
 import net.minecraft.item.ItemWritableBook;
 import net.minecraft.nbt.NBTTagCompound;
 import net.minecraft.nbt.NBTTagString;
+import net.minecraft.network.NetworkManager;
 import net.minecraft.network.play.INetHandlerPlayServer;
 import net.minecraft.network.play.client.C00PacketKeepAlive;
 import net.minecraft.network.play.client.C01PacketChatMessage;
@@ -89,6 +93,7 @@ import net.minecraft.util.IChatComponent;
 import net.minecraft.util.IntHashMap;
 import net.minecraft.util.ReportedException;
 import net.minecraft.world.WorldServer;
+
 import org.apache.commons.lang3.StringUtils;
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
@@ -493,7 +498,7 @@ public class NetHandlerPlayServer implements INetHandlerPlayServer, IUpdatePlaye
         switch (NetHandlerPlayServer.SwitchAction.field_180224_a[packetIn.func_180762_c().ordinal()])
         {
             case 1:
-                if (!this.playerEntity.func_175149_v())
+                if (!this.playerEntity.isSpectator())
                 {
                     this.playerEntity.dropOneItem(false);
                 }
@@ -501,7 +506,7 @@ public class NetHandlerPlayServer implements INetHandlerPlayServer, IUpdatePlaye
                 return;
 
             case 2:
-                if (!this.playerEntity.func_175149_v())
+                if (!this.playerEntity.isSpectator())
                 {
                     this.playerEntity.dropOneItem(true);
                 }
@@ -638,7 +643,7 @@ public class NetHandlerPlayServer implements INetHandlerPlayServer, IUpdatePlaye
     {
         PacketThreadUtil.func_180031_a(p_175088_1_, this, this.playerEntity.getServerForPlayer());
 
-        if (this.playerEntity.func_175149_v())
+        if (this.playerEntity.isSpectator())
         {
             Entity var2 = null;
             WorldServer[] var3 = this.serverController.worldServers;
@@ -1012,7 +1017,7 @@ public class NetHandlerPlayServer implements INetHandlerPlayServer, IUpdatePlaye
 
         if (this.playerEntity.openContainer.windowId == packetIn.getWindowId() && this.playerEntity.openContainer.getCanCraft(this.playerEntity))
         {
-            if (this.playerEntity.func_175149_v())
+            if (this.playerEntity.isSpectator())
             {
                 ArrayList var2 = Lists.newArrayList();
 
@@ -1062,7 +1067,7 @@ public class NetHandlerPlayServer implements INetHandlerPlayServer, IUpdatePlaye
         PacketThreadUtil.func_180031_a(packetIn, this, this.playerEntity.getServerForPlayer());
         this.playerEntity.markPlayerActive();
 
-        if (this.playerEntity.openContainer.windowId == packetIn.getId() && this.playerEntity.openContainer.getCanCraft(this.playerEntity) && !this.playerEntity.func_175149_v())
+        if (this.playerEntity.openContainer.windowId == packetIn.getId() && this.playerEntity.openContainer.getCanCraft(this.playerEntity) && !this.playerEntity.isSpectator())
         {
             this.playerEntity.openContainer.enchantItem(this.playerEntity, packetIn.getButton());
             this.playerEntity.openContainer.detectAndSendChanges();
@@ -1142,7 +1147,7 @@ public class NetHandlerPlayServer implements INetHandlerPlayServer, IUpdatePlaye
         PacketThreadUtil.func_180031_a(packetIn, this, this.playerEntity.getServerForPlayer());
         Short var2 = (Short)this.field_147372_n.lookup(this.playerEntity.openContainer.windowId);
 
-        if (var2 != null && packetIn.getUid() == var2.shortValue() && this.playerEntity.openContainer.windowId == packetIn.getId() && !this.playerEntity.openContainer.getCanCraft(this.playerEntity) && !this.playerEntity.func_175149_v())
+        if (var2 != null && packetIn.getUid() == var2.shortValue() && this.playerEntity.openContainer.windowId == packetIn.getId() && !this.playerEntity.openContainer.getCanCraft(this.playerEntity) && !this.playerEntity.isSpectator())
         {
             this.playerEntity.openContainer.setCanCraft(this.playerEntity, true);
         }
diff --git a/src/net/minecraft/network/NetworkManager.java b/src/net/minecraft/network/NetworkManager.java
index f05dadf..83d54dd 100644
--- a/src/net/minecraft/network/NetworkManager.java
+++ b/src/net/minecraft/network/NetworkManager.java
@@ -1,17 +1,7 @@
 package net.minecraft.network;
 
-import com.google.common.collect.Queues;
-import com.google.common.util.concurrent.ThreadFactoryBuilder;
 import io.netty.bootstrap.Bootstrap;
-import io.netty.channel.Channel;
-import io.netty.channel.ChannelException;
-import io.netty.channel.ChannelFuture;
-import io.netty.channel.ChannelFutureListener;
-import io.netty.channel.ChannelHandlerContext;
-import io.netty.channel.ChannelInitializer;
-import io.netty.channel.ChannelOption;
-import io.netty.channel.EventLoopGroup;
-import io.netty.channel.SimpleChannelInboundHandler;
+import io.netty.channel.*;
 import io.netty.channel.local.LocalChannel;
 import io.netty.channel.local.LocalEventLoopGroup;
 import io.netty.channel.local.LocalServerChannel;
@@ -20,20 +10,16 @@ import io.netty.channel.socket.nio.NioSocketChannel;
 import io.netty.handler.timeout.ReadTimeoutHandler;
 import io.netty.util.AttributeKey;
 import io.netty.util.concurrent.GenericFutureListener;
+
 import java.net.InetAddress;
 import java.net.SocketAddress;
 import java.util.Queue;
+
 import javax.crypto.SecretKey;
+
 import net.minecraft.server.gui.IUpdatePlayerListBox;
-import net.minecraft.util.ChatComponentText;
-import net.minecraft.util.ChatComponentTranslation;
-import net.minecraft.util.CryptManager;
-import net.minecraft.util.IChatComponent;
-import net.minecraft.util.LazyLoadBase;
-import net.minecraft.util.MessageDeserializer;
-import net.minecraft.util.MessageDeserializer2;
-import net.minecraft.util.MessageSerializer;
-import net.minecraft.util.MessageSerializer2;
+import net.minecraft.util.*;
+
 import org.apache.commons.lang3.ArrayUtils;
 import org.apache.commons.lang3.Validate;
 import org.apache.logging.log4j.LogManager;
@@ -41,38 +27,46 @@ import org.apache.logging.log4j.Logger;
 import org.apache.logging.log4j.Marker;
 import org.apache.logging.log4j.MarkerManager;
 
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.events.PacketInputEvent;
+import tk.wurst_client.mods.Mod;
+
+import com.google.common.collect.Queues;
+import com.google.common.util.concurrent.ThreadFactoryBuilder;
+
 public class NetworkManager extends SimpleChannelInboundHandler
 {
+	private static final String __OBFID = "CL_00000668";
 	private static final Logger logger = LogManager.getLogger();
 	public static final Marker logMarkerNetwork = MarkerManager.getMarker("NETWORK");
 	public static final Marker logMarkerPackets = MarkerManager.getMarker("NETWORK_PACKETS", logMarkerNetwork);
 	public static final AttributeKey attrKeyConnectionState = AttributeKey.valueOf("protocol");
 	public static final LazyLoadBase CLIENT_NIO_EVENTLOOP = new LazyLoadBase()
 	{
-        private static final String __OBFID = "CL_00001241";
 		protected NioEventLoopGroup genericLoad()
 		{
-            return new NioEventLoopGroup(0, (new ThreadFactoryBuilder()).setNameFormat("Netty Client IO #%d").setDaemon(true).build());
+			return new NioEventLoopGroup(0, new ThreadFactoryBuilder().setNameFormat("Netty Client IO #%d").setDaemon(true).build());
 		}
+
+		@Override
 		protected Object load()
 		{
-            return this.genericLoad();
+			return genericLoad();
 		}
 	};
 	public static final LazyLoadBase CLIENT_LOCAL_EVENTLOOP = new LazyLoadBase()
 	{
-        private static final String __OBFID = "CL_00001242";
 		protected LocalEventLoopGroup genericLoad()
 		{
-            return new LocalEventLoopGroup(0, (new ThreadFactoryBuilder()).setNameFormat("Netty Local Client IO #%d").setDaemon(true).build());
+			return new LocalEventLoopGroup(0, new ThreadFactoryBuilder().setNameFormat("Netty Local Client IO #%d").setDaemon(true).build());
 		}
+
+		@Override
 		protected Object load()
 		{
-            return this.genericLoad();
+			return genericLoad();
 		}
 	};
-    private final EnumPacketDirection direction;
-
 	/** The queue for packets that require transmission */
 	private final Queue outboundPacketsQueue = Queues.newConcurrentLinkedQueue();
 
@@ -89,59 +83,74 @@ public class NetworkManager extends SimpleChannelInboundHandler
 	private IChatComponent terminationReason;
 	private boolean isEncrypted;
 	private boolean disconnected;
-    private static final String __OBFID = "CL_00001240";
 
 	public NetworkManager(EnumPacketDirection packetDirection)
-    {
-        this.direction = packetDirection;
-    }
+	{}
 
+	@Override
 	public void channelActive(ChannelHandlerContext p_channelActive_1_) throws Exception
 	{
 		super.channelActive(p_channelActive_1_);
-        this.channel = p_channelActive_1_.channel();
-        this.socketAddress = this.channel.remoteAddress();
+		channel = p_channelActive_1_.channel();
+		socketAddress = channel.remoteAddress();
 
 		try
 		{
-            this.setConnectionState(EnumConnectionState.HANDSHAKING);
-        }
-        catch (Throwable var3)
+			setConnectionState(EnumConnectionState.HANDSHAKING);
+		}catch(Throwable var3)
 		{
 			logger.fatal(var3);
 		}
 	}
 
 	/**
-     * Sets the new connection state and registers which packets this channel may send and receive
+	 * Sets the new connection state and registers which packets this channel
+	 * may send and receive
 	 */
+	@SuppressWarnings("unchecked")
 	public void setConnectionState(EnumConnectionState newState)
 	{
-        this.channel.attr(attrKeyConnectionState).set(newState);
-        this.channel.config().setAutoRead(true);
+		channel.attr(attrKeyConnectionState).set(newState);
+		channel.config().setAutoRead(true);
 		logger.debug("Enabled auto read");
 	}
 
+	@Override
 	public void channelInactive(ChannelHandlerContext p_channelInactive_1_)
 	{
-        this.closeChannel(new ChatComponentTranslation("disconnect.endOfStream", new Object[0]));
+		closeChannel(new ChatComponentTranslation("disconnect.endOfStream", new Object[0]));
 	}
 
+	@Override
 	public void exceptionCaught(ChannelHandlerContext p_exceptionCaught_1_, Throwable p_exceptionCaught_2_)
 	{
-        logger.debug("Disconnecting " + this.getRemoteAddress(), p_exceptionCaught_2_);
-        this.closeChannel(new ChatComponentTranslation("disconnect.genericReason", new Object[] {"Internal Exception: " + p_exceptionCaught_2_}));
+		logger.debug("Disconnecting " + getRemoteAddress(), p_exceptionCaught_2_);
+
+		// TODO: Client
+		if(p_exceptionCaught_2_ instanceof NullPointerException)
+			closeChannel(new ChatComponentTranslation(
+				"disconnect.genericReason",
+				"c[6Wurstc]r\n"
+					+ "You are using a lcrackedr alt on a lpremiumr server."
+					+ "\ncDon't do this!"));
+		else
+			closeChannel(new ChatComponentTranslation("disconnect.genericReason", new Object[]{"Internal Exception: " + p_exceptionCaught_2_}));
 	}
 
 	protected void channelRead0(ChannelHandlerContext p_channelRead0_1_, Packet p_channelRead0_2_)
 	{
-        if (this.channel.isOpen())
+		if(channel.isOpen())
 		{
+			//TODO: Client
+			PacketInputEvent event = new PacketInputEvent(p_channelRead0_2_);
+			WurstClient.INSTANCE.events.fireEvent(PacketInputEvent.class, event);
+			if(event.isCancelled())
+				return;
+			
 			try
 			{
-                p_channelRead0_2_.processPacket(this.packetListener);
-            }
-            catch (ThreadQuickExitException var4)
+				p_channelRead0_2_.processPacket(packetListener);
+			}catch(ThreadQuickExitException var4)
 			{
 				;
 			}
@@ -149,110 +158,97 @@ public class NetworkManager extends SimpleChannelInboundHandler
 	}
 
 	/**
-     * Sets the NetHandler for this NetworkManager, no checks are made if this handler is suitable for the particular
+	 * Sets the NetHandler for this NetworkManager, no checks are made if this
+	 * handler is suitable for the particular
 	 * connection state (protocol)
 	 */
 	public void setNetHandler(INetHandler handler)
 	{
 		Validate.notNull(handler, "packetListener", new Object[0]);
-        logger.debug("Set listener of {} to {}", new Object[] {this, handler});
-        this.packetListener = handler;
+		logger.debug("Set listener of {} to {}", new Object[]{this, handler});
+		packetListener = handler;
 	}
 
+	@SuppressWarnings("unchecked")
 	public void sendPacket(Packet packetIn)
 	{
-        if (this.channel != null && this.channel.isOpen())
-        {
-            this.flushOutboundQueue();
-            this.dispatchPacket(packetIn, (GenericFutureListener[])null);
-        }
-        else
+		if(channel != null && channel.isOpen())
 		{
-            this.outboundPacketsQueue.add(new NetworkManager.InboundHandlerTuplePacketListener(packetIn, (GenericFutureListener[])null));
-        }
+			flushOutboundQueue();
+			dispatchPacket(packetIn, (GenericFutureListener[])null);
+		}else
+			outboundPacketsQueue.add(new NetworkManager.InboundHandlerTuplePacketListener(packetIn, (GenericFutureListener[])null));
 	}
 
-    public void sendPacket(Packet packetIn, GenericFutureListener listener, GenericFutureListener ... listeners)
-    {
-        if (this.channel != null && this.channel.isOpen())
+	@SuppressWarnings("unchecked")
+	public void sendPacket(Packet packetIn, GenericFutureListener listener, GenericFutureListener... listeners)
 	{
-            this.flushOutboundQueue();
-            this.dispatchPacket(packetIn, (GenericFutureListener[])ArrayUtils.add(listeners, 0, listener));
-        }
-        else
+		if(channel != null && channel.isOpen())
 		{
-            this.outboundPacketsQueue.add(new NetworkManager.InboundHandlerTuplePacketListener(packetIn, (GenericFutureListener[])ArrayUtils.add(listeners, 0, listener)));
-        }
+			flushOutboundQueue();
+			dispatchPacket(packetIn, ArrayUtils.add(listeners, 0, listener));
+		}else
+			outboundPacketsQueue.add(new NetworkManager.InboundHandlerTuplePacketListener(packetIn, ArrayUtils.add(listeners, 0, listener)));
 	}
 
 	/**
-     * Will commit the packet to the channel. If the current thread 'owns' the channel it will write and flush the
-     * packet, otherwise it will add a task for the channel eventloop thread to do that.
+	 * Will commit the packet to the channel. If the current thread 'owns' the
+	 * channel it will write and flush the
+	 * packet, otherwise it will add a task for the channel eventloop thread to
+	 * do that.
 	 */
+	@SuppressWarnings("unchecked")
 	private void dispatchPacket(final Packet inPacket, final GenericFutureListener[] futureListeners)
 	{
 		final EnumConnectionState var3 = EnumConnectionState.getFromPacket(inPacket);
-        final EnumConnectionState var4 = (EnumConnectionState)this.channel.attr(attrKeyConnectionState).get();
+		final EnumConnectionState var4 = (EnumConnectionState)channel.attr(attrKeyConnectionState).get();
 
-        if (var4 != var3)
+		if(var4 != var3)
 		{
 			logger.debug("Disabled auto read");
-            this.channel.config().setAutoRead(false);
+			channel.config().setAutoRead(false);
 		}
 
-        if (this.channel.eventLoop().inEventLoop())
-        {
-            if (var3 != var4)
+		if(channel.eventLoop().inEventLoop())
 		{
-                this.setConnectionState(var3);
-            }
+			if(var3 != var4)
+				setConnectionState(var3);
 
-            ChannelFuture var5 = this.channel.writeAndFlush(inPacket);
+			ChannelFuture var5 = channel.writeAndFlush(inPacket);
 
-            if (futureListeners != null)
-            {
+			if(futureListeners != null)
 				var5.addListeners(futureListeners);
-            }
 
 			var5.addListener(ChannelFutureListener.FIRE_EXCEPTION_ON_FAILURE);
-        }
-        else
+		}else
+			channel.eventLoop().execute(new Runnable()
 			{
-            this.channel.eventLoop().execute(new Runnable()
-            {
-                private static final String __OBFID = "CL_00001243";
+				@Override
 				public void run()
 				{
-                    if (var3 != var4)
-                    {
+					if(var3 != var4)
 						NetworkManager.this.setConnectionState(var3);
-                    }
 
-                    ChannelFuture var1 = NetworkManager.this.channel.writeAndFlush(inPacket);
+					ChannelFuture var1 = channel.writeAndFlush(inPacket);
 
-                    if (futureListeners != null)
-                    {
+					if(futureListeners != null)
 						var1.addListeners(futureListeners);
-                    }
 
 					var1.addListener(ChannelFutureListener.FIRE_EXCEPTION_ON_FAILURE);
 				}
 			});
 	}
-    }
 
 	/**
 	 * Will iterate through the outboundPacketQueue and dispatch all Packets
 	 */
 	private void flushOutboundQueue()
 	{
-        if (this.channel != null && this.channel.isOpen())
+		if(channel != null && channel.isOpen())
+			while(!outboundPacketsQueue.isEmpty())
 			{
-            while (!this.outboundPacketsQueue.isEmpty())
-            {
-                NetworkManager.InboundHandlerTuplePacketListener var1 = (NetworkManager.InboundHandlerTuplePacketListener)this.outboundPacketsQueue.poll();
-                this.dispatchPacket(var1.packet, var1.futureListeners);
-            }
+				NetworkManager.InboundHandlerTuplePacketListener var1 = (NetworkManager.InboundHandlerTuplePacketListener)outboundPacketsQueue.poll();
+				dispatchPacket(var1.packet, var1.futureListeners);
 			}
 	}
 
@@ -261,14 +257,12 @@ public class NetworkManager extends SimpleChannelInboundHandler
 	 */
 	public void processReceivedPackets()
 	{
-        this.flushOutboundQueue();
+		flushOutboundQueue();
 
-        if (this.packetListener instanceof IUpdatePlayerListBox)
-        {
-            ((IUpdatePlayerListBox)this.packetListener).update();
-        }
+		if(packetListener instanceof IUpdatePlayerListBox)
+			((IUpdatePlayerListBox)packetListener).update();
 
-        this.channel.flush();
+		channel.flush();
 	}
 
 	/**
@@ -276,47 +270,50 @@ public class NetworkManager extends SimpleChannelInboundHandler
 	 */
 	public SocketAddress getRemoteAddress()
 	{
-        return this.socketAddress;
+		return socketAddress;
 	}
 
 	/**
-     * Closes the channel, the parameter can be used for an exit message (not certain how it gets sent)
+	 * Closes the channel, the parameter can be used for an exit message (not
+	 * certain how it gets sent)
 	 */
 	public void closeChannel(IChatComponent message)
 	{
-        if (this.channel.isOpen())
+		if(channel.isOpen())
 		{
-            this.channel.close().awaitUninterruptibly();
-            this.terminationReason = message;
+			channel.close().awaitUninterruptibly();
+			terminationReason = message;
 		}
 	}
 
 	/**
-     * True if this NetworkManager uses a memory connection (single player game). False may imply both an active TCP
+	 * True if this NetworkManager uses a memory connection (single player
+	 * game). False may imply both an active TCP
 	 * connection or simply no active connection at all
 	 */
 	public boolean isLocalChannel()
 	{
-        return this.channel instanceof LocalChannel || this.channel instanceof LocalServerChannel;
+		return channel instanceof LocalChannel || channel instanceof LocalServerChannel;
 	}
 
 	/**
-     * Prepares a clientside NetworkManager: establishes a connection to the address and port supplied and configures
+	 * Prepares a clientside NetworkManager: establishes a connection to the
+	 * address and port supplied and configures
 	 * the channel pipeline. Returns the newly created instance.
 	 */
 	public static NetworkManager provideLanClient(InetAddress p_150726_0_, int p_150726_1_)
 	{
 		final NetworkManager var2 = new NetworkManager(EnumPacketDirection.CLIENTBOUND);
-        ((Bootstrap)((Bootstrap)((Bootstrap)(new Bootstrap()).group((EventLoopGroup)CLIENT_NIO_EVENTLOOP.getValue())).handler(new ChannelInitializer()
+		new Bootstrap().group((EventLoopGroup)CLIENT_NIO_EVENTLOOP.getValue()).handler(new ChannelInitializer()
 		{
-            private static final String __OBFID = "CL_00002312";
+			@Override
 			protected void initChannel(Channel p_initChannel_1_)
 			{
 				try
 				{
 					p_initChannel_1_.config().setOption(ChannelOption.IP_TOS, Integer.valueOf(24));
 				}
-                catch (ChannelException var4)
+				catch(ChannelException var4)
 				{
 					;
 				}
@@ -325,61 +322,64 @@ public class NetworkManager extends SimpleChannelInboundHandler
 				{
 					p_initChannel_1_.config().setOption(ChannelOption.TCP_NODELAY, Boolean.valueOf(false));
 				}
-                catch (ChannelException var3)
+				catch(ChannelException var3)
 				{
 					;
 				}
 
 				p_initChannel_1_.pipeline().addLast("timeout", new ReadTimeoutHandler(20)).addLast("splitter", new MessageDeserializer2()).addLast("decoder", new MessageDeserializer(EnumPacketDirection.CLIENTBOUND)).addLast("prepender", new MessageSerializer2()).addLast("encoder", new MessageSerializer(EnumPacketDirection.SERVERBOUND)).addLast("packet_handler", var2);
 			}
-        })).channel(NioSocketChannel.class)).connect(p_150726_0_, p_150726_1_).syncUninterruptibly();
+		}).channel(NioSocketChannel.class).connect(p_150726_0_, p_150726_1_).syncUninterruptibly();
 		return var2;
 	}
 
 	/**
-     * Prepares a clientside NetworkManager: establishes a connection to the socket supplied and configures the channel
+	 * Prepares a clientside NetworkManager: establishes a connection to the
+	 * socket supplied and configures the channel
 	 * pipeline. Returns the newly created instance.
 	 */
 	public static NetworkManager provideLocalClient(SocketAddress p_150722_0_)
 	{
 		final NetworkManager var1 = new NetworkManager(EnumPacketDirection.CLIENTBOUND);
-        ((Bootstrap)((Bootstrap)((Bootstrap)(new Bootstrap()).group((EventLoopGroup)CLIENT_LOCAL_EVENTLOOP.getValue())).handler(new ChannelInitializer()
+		new Bootstrap().group((EventLoopGroup)CLIENT_LOCAL_EVENTLOOP.getValue()).handler(new ChannelInitializer()
 		{
-            private static final String __OBFID = "CL_00002311";
+			@Override
 			protected void initChannel(Channel p_initChannel_1_)
 			{
 				p_initChannel_1_.pipeline().addLast("packet_handler", var1);
 			}
-        })).channel(LocalChannel.class)).connect(p_150722_0_).syncUninterruptibly();
+		}).channel(LocalChannel.class).connect(p_150722_0_).syncUninterruptibly();
 		return var1;
 	}
 
 	/**
-     * Adds an encoder+decoder to the channel pipeline. The parameter is the secret key used for encrypted communication
+	 * Adds an encoder+decoder to the channel pipeline. The parameter is the
+	 * secret key used for encrypted communication
 	 */
 	public void enableEncryption(SecretKey key)
 	{
-        this.isEncrypted = true;
-        this.channel.pipeline().addBefore("splitter", "decrypt", new NettyEncryptingDecoder(CryptManager.func_151229_a(2, key)));
-        this.channel.pipeline().addBefore("prepender", "encrypt", new NettyEncryptingEncoder(CryptManager.func_151229_a(1, key)));
+		isEncrypted = true;
+		channel.pipeline().addBefore("splitter", "decrypt", new NettyEncryptingDecoder(CryptManager.getAESCipher(2, key)));
+		channel.pipeline().addBefore("prepender", "encrypt", new NettyEncryptingEncoder(CryptManager.getAESCipher(1, key)));
 	}
 
-    public boolean func_179292_f()
+	public boolean isEncrypted()
 	{
-        return this.isEncrypted;
+		return isEncrypted;
 	}
 
 	/**
-     * Returns true if this NetworkManager has an active channel, false otherwise
+	 * Returns true if this NetworkManager has an active channel, false
+	 * otherwise
 	 */
 	public boolean isChannelOpen()
 	{
-        return this.channel != null && this.channel.isOpen();
+		return channel != null && channel.isOpen();
 	}
 
 	public boolean hasNoChannel()
 	{
-        return this.channel == null;
+		return channel == null;
 	}
 
 	/**
@@ -387,7 +387,7 @@ public class NetworkManager extends SimpleChannelInboundHandler
 	 */
 	public INetHandler getNetHandler()
 	{
-        return this.packetListener;
+		return packetListener;
 	}
 
 	/**
@@ -395,7 +395,7 @@ public class NetworkManager extends SimpleChannelInboundHandler
 	 */
 	public IChatComponent getExitMessage()
 	{
-        return this.terminationReason;
+		return terminationReason;
 	}
 
 	/**
@@ -403,62 +403,47 @@ public class NetworkManager extends SimpleChannelInboundHandler
 	 */
 	public void disableAutoRead()
 	{
-        this.channel.config().setAutoRead(false);
+		channel.config().setAutoRead(false);
 	}
 
 	public void setCompressionTreshold(int treshold)
 	{
-        if (treshold >= 0)
-        {
-            if (this.channel.pipeline().get("decompress") instanceof NettyCompressionDecoder)
+		if(treshold >= 0)
 		{
-                ((NettyCompressionDecoder)this.channel.pipeline().get("decompress")).setCompressionTreshold(treshold);
-            }
+			if(channel.pipeline().get("decompress") instanceof NettyCompressionDecoder)
+				((NettyCompressionDecoder)channel.pipeline().get("decompress")).setCompressionTreshold(treshold);
 			else
-            {
-                this.channel.pipeline().addBefore("decoder", "decompress", new NettyCompressionDecoder(treshold));
-            }
+				channel.pipeline().addBefore("decoder", "decompress", new NettyCompressionDecoder(treshold));
 
-            if (this.channel.pipeline().get("compress") instanceof NettyCompressionEncoder)
-            {
-                ((NettyCompressionEncoder)this.channel.pipeline().get("decompress")).setCompressionTreshold(treshold);
-            }
+			if(channel.pipeline().get("compress") instanceof NettyCompressionEncoder)
+				((NettyCompressionEncoder)channel.pipeline().get("decompress")).setCompressionTreshold(treshold);
 			else
-            {
-                this.channel.pipeline().addBefore("encoder", "compress", new NettyCompressionEncoder(treshold));
-            }
+				channel.pipeline().addBefore("encoder", "compress", new NettyCompressionEncoder(treshold));
 		}
 		else
 		{
-            if (this.channel.pipeline().get("decompress") instanceof NettyCompressionDecoder)
-            {
-                this.channel.pipeline().remove("decompress");
-            }
+			if(channel.pipeline().get("decompress") instanceof NettyCompressionDecoder)
+				channel.pipeline().remove("decompress");
 
-            if (this.channel.pipeline().get("compress") instanceof NettyCompressionEncoder)
-            {
-                this.channel.pipeline().remove("compress");
-            }
+			if(channel.pipeline().get("compress") instanceof NettyCompressionEncoder)
+				channel.pipeline().remove("compress");
 		}
 	}
 
 	public void checkDisconnected()
 	{
-        if (!this.hasNoChannel() && !this.isChannelOpen() && !this.disconnected)
+		if(!hasNoChannel() && !isChannelOpen() && !disconnected)
 		{
-            this.disconnected = true;
+			disconnected = true;
 
-            if (this.getExitMessage() != null)
-            {
-                this.getNetHandler().onDisconnect(this.getExitMessage());
-            }
-            else if (this.getNetHandler() != null)
-            {
-                this.getNetHandler().onDisconnect(new ChatComponentText("Disconnected"));
-            }
+			if(getExitMessage() != null)
+				getNetHandler().onDisconnect(getExitMessage());
+			else if(getNetHandler() != null)
+				getNetHandler().onDisconnect(new ChatComponentText("Disconnected"));
 		}
 	}
 
+	@Override
 	protected void channelRead0(ChannelHandlerContext p_channelRead0_1_, Object p_channelRead0_2_)
 	{
 		this.channelRead0(p_channelRead0_1_, (Packet)p_channelRead0_2_);
@@ -468,12 +453,11 @@ public class NetworkManager extends SimpleChannelInboundHandler
 	{
 		private final Packet packet;
 		private final GenericFutureListener[] futureListeners;
-        private static final String __OBFID = "CL_00001244";
 
-        public InboundHandlerTuplePacketListener(Packet inPacket, GenericFutureListener ... inFutureListeners)
+		public InboundHandlerTuplePacketListener(Packet inPacket, GenericFutureListener... inFutureListeners)
 		{
-            this.packet = inPacket;
-            this.futureListeners = inFutureListeners;
+			packet = inPacket;
+			futureListeners = inFutureListeners;
 		}
 	}
 }
diff --git a/src/net/minecraft/network/NetworkSystem.java b/src/net/minecraft/network/NetworkSystem.java
index f713c5d..3ac4a53 100644
--- a/src/net/minecraft/network/NetworkSystem.java
+++ b/src/net/minecraft/network/NetworkSystem.java
@@ -2,6 +2,7 @@ package net.minecraft.network;
 
 import com.google.common.collect.Lists;
 import com.google.common.util.concurrent.ThreadFactoryBuilder;
+
 import io.netty.bootstrap.ServerBootstrap;
 import io.netty.channel.Channel;
 import io.netty.channel.ChannelException;
@@ -17,6 +18,7 @@ import io.netty.channel.socket.nio.NioServerSocketChannel;
 import io.netty.handler.timeout.ReadTimeoutHandler;
 import io.netty.util.concurrent.Future;
 import io.netty.util.concurrent.GenericFutureListener;
+
 import java.io.IOException;
 import java.net.InetAddress;
 import java.net.SocketAddress;
@@ -24,9 +26,11 @@ import java.util.Collections;
 import java.util.Iterator;
 import java.util.List;
 import java.util.concurrent.Callable;
+
 import net.minecraft.client.network.NetHandlerHandshakeMemory;
 import net.minecraft.crash.CrashReport;
 import net.minecraft.crash.CrashReportCategory;
+import net.minecraft.network.NetworkManager;
 import net.minecraft.network.play.server.S40PacketDisconnect;
 import net.minecraft.server.MinecraftServer;
 import net.minecraft.server.network.NetHandlerHandshakeTCP;
@@ -37,6 +41,7 @@ import net.minecraft.util.MessageDeserializer2;
 import net.minecraft.util.MessageSerializer;
 import net.minecraft.util.MessageSerializer2;
 import net.minecraft.util.ReportedException;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
diff --git a/src/net/minecraft/network/PacketBuffer.java b/src/net/minecraft/network/PacketBuffer.java
index c9f2a49..8dcd696 100644
--- a/src/net/minecraft/network/PacketBuffer.java
+++ b/src/net/minecraft/network/PacketBuffer.java
@@ -1,6 +1,5 @@
 package net.minecraft.network;
 
-import com.google.common.base.Charsets;
 import io.netty.buffer.ByteBuf;
 import io.netty.buffer.ByteBufAllocator;
 import io.netty.buffer.ByteBufInputStream;
@@ -8,7 +7,7 @@ import io.netty.buffer.ByteBufOutputStream;
 import io.netty.buffer.ByteBufProcessor;
 import io.netty.handler.codec.DecoderException;
 import io.netty.handler.codec.EncoderException;
-import io.netty.util.ReferenceCounted;
+
 import java.io.IOException;
 import java.io.InputStream;
 import java.io.OutputStream;
@@ -18,6 +17,7 @@ import java.nio.channels.GatheringByteChannel;
 import java.nio.channels.ScatteringByteChannel;
 import java.nio.charset.Charset;
 import java.util.UUID;
+
 import net.minecraft.item.Item;
 import net.minecraft.item.ItemStack;
 import net.minecraft.nbt.CompressedStreamTools;
@@ -26,6 +26,8 @@ import net.minecraft.nbt.NBTTagCompound;
 import net.minecraft.util.BlockPos;
 import net.minecraft.util.IChatComponent;
 
+import com.google.common.base.Charsets;
+
 public class PacketBuffer extends ByteBuf
 {
     private final ByteBuf buf;
diff --git a/src/net/minecraft/potion/PotionEffect.java b/src/net/minecraft/potion/PotionEffect.java
index 1a7fd07..217aec4 100644
--- a/src/net/minecraft/potion/PotionEffect.java
+++ b/src/net/minecraft/potion/PotionEffect.java
@@ -1,10 +1,16 @@
 package net.minecraft.potion;
 
+import net.minecraft.client.Minecraft;
+import net.minecraft.client.entity.EntityPlayerSP;
 import net.minecraft.entity.EntityLivingBase;
 import net.minecraft.nbt.NBTTagCompound;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.mods.PotionSaverMod;
+
 public class PotionEffect
 {
     private static final Logger LOGGER = LogManager.getLogger();
@@ -141,7 +147,11 @@ public class PotionEffect
 
     private int deincrementDuration()
 	{
-        return --this.duration;
+		// TODO: Client
+		EntityPlayerSP player = Minecraft.getMinecraft().thePlayer;
+		return player.motionX == 0 && player.motionZ == 0
+			&& WurstClient.INSTANCE.mods.potionSaverMod.isActive() ? duration
+			: --duration;
 	}
 
     public void performEffect(EntityLivingBase entityIn)
diff --git a/src/net/minecraft/realms/RealmsConnect.java b/src/net/minecraft/realms/RealmsConnect.java
index 1702bc1..2ef52bc 100644
--- a/src/net/minecraft/realms/RealmsConnect.java
+++ b/src/net/minecraft/realms/RealmsConnect.java
@@ -2,6 +2,7 @@ package net.minecraft.realms;
 
 import java.net.InetAddress;
 import java.net.UnknownHostException;
+
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.network.NetHandlerLoginClient;
 import net.minecraft.network.EnumConnectionState;
@@ -9,6 +10,7 @@ import net.minecraft.network.NetworkManager;
 import net.minecraft.network.handshake.client.C00Handshake;
 import net.minecraft.network.login.client.C00PacketLoginStart;
 import net.minecraft.util.ChatComponentTranslation;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
diff --git a/src/net/minecraft/realms/RealmsScreen.java b/src/net/minecraft/realms/RealmsScreen.java
index 62e3405..3971089 100644
--- a/src/net/minecraft/realms/RealmsScreen.java
+++ b/src/net/minecraft/realms/RealmsScreen.java
@@ -112,7 +112,7 @@ public class RealmsScreen
 
         if (var2 == null)
         {
-            var2 = DefaultPlayerSkin.func_177334_a(UUIDTypeAdapter.fromString(p_bindFace_0_));
+            var2 = DefaultPlayerSkin.getLocationFromUUID(UUIDTypeAdapter.fromString(p_bindFace_0_));
         }
 
         AbstractClientPlayer.getDownloadImageSkin(var2, p_bindFace_1_);
diff --git a/src/net/minecraft/realms/RealmsServerStatusPinger.java b/src/net/minecraft/realms/RealmsServerStatusPinger.java
index d3363ff..77e2f08 100644
--- a/src/net/minecraft/realms/RealmsServerStatusPinger.java
+++ b/src/net/minecraft/realms/RealmsServerStatusPinger.java
@@ -1,11 +1,13 @@
 package net.minecraft.realms;
 
 import com.google.common.collect.Lists;
+
 import java.net.InetAddress;
 import java.net.UnknownHostException;
 import java.util.Collections;
 import java.util.Iterator;
 import java.util.List;
+
 import net.minecraft.network.EnumConnectionState;
 import net.minecraft.network.NetworkManager;
 import net.minecraft.network.ServerStatusResponse;
@@ -17,6 +19,7 @@ import net.minecraft.network.status.server.S00PacketServerInfo;
 import net.minecraft.network.status.server.S01PacketPong;
 import net.minecraft.util.ChatComponentText;
 import net.minecraft.util.IChatComponent;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
diff --git a/src/net/minecraft/realms/Tezzelator.java b/src/net/minecraft/realms/Tezzelator.java
index a2b17d6..11cec5a 100644
--- a/src/net/minecraft/realms/Tezzelator.java
+++ b/src/net/minecraft/realms/Tezzelator.java
@@ -21,12 +21,12 @@ public class Tezzelator
 
     public void color(float p_color_1_, float p_color_2_, float p_color_3_, float p_color_4_)
     {
-        t.getWorldRenderer().func_178960_a(p_color_1_, p_color_2_, p_color_3_, p_color_4_);
+        t.getWorldRenderer().setColorRGBA_F(p_color_1_, p_color_2_, p_color_3_, p_color_4_);
     }
 
     public void color(int p_color_1_, int p_color_2_, int p_color_3_)
     {
-        t.getWorldRenderer().setPosition(p_color_1_, p_color_2_, p_color_3_);
+        t.getWorldRenderer().setColorOpaque(p_color_1_, p_color_2_, p_color_3_);
     }
 
     public void tex2(int p_tex2_1_)
@@ -46,12 +46,12 @@ public class Tezzelator
 
     public void color(int p_color_1_)
     {
-        t.getWorldRenderer().func_178991_c(p_color_1_);
+        t.getWorldRenderer().setColorOpaque_I(p_color_1_);
     }
 
     public void color(float p_color_1_, float p_color_2_, float p_color_3_)
     {
-        t.getWorldRenderer().func_178986_b(p_color_1_, p_color_2_, p_color_3_);
+        t.getWorldRenderer().setColorOpaque_F(p_color_1_, p_color_2_, p_color_3_);
     }
 
     public WorldRenderer.State sortQuads(float p_sortQuads_1_, float p_sortQuads_2_, float p_sortQuads_3_)
@@ -81,7 +81,7 @@ public class Tezzelator
 
     public void color(int p_color_1_, int p_color_2_)
     {
-        t.getWorldRenderer().func_178974_a(p_color_1_, p_color_2_);
+        t.getWorldRenderer().setColorRGBA_I(p_color_1_, p_color_2_);
     }
 
     public void offset(double p_offset_1_, double p_offset_3_, double p_offset_5_)
@@ -91,7 +91,7 @@ public class Tezzelator
 
     public void color(int p_color_1_, int p_color_2_, int p_color_3_, int p_color_4_)
     {
-        t.getWorldRenderer().func_178961_b(p_color_1_, p_color_2_, p_color_3_, p_color_4_);
+        t.getWorldRenderer().setColorRGBA(p_color_1_, p_color_2_, p_color_3_, p_color_4_);
     }
 
     public void tex(double p_tex_1_, double p_tex_3_)
@@ -101,6 +101,6 @@ public class Tezzelator
 
     public void color(byte p_color_1_, byte p_color_2_, byte p_color_3_)
     {
-        t.getWorldRenderer().func_178982_a(p_color_1_, p_color_2_, p_color_3_);
+        t.getWorldRenderer().setColorOpaque_B(p_color_1_, p_color_2_, p_color_3_);
     }
 }
diff --git a/src/net/minecraft/scoreboard/Scoreboard.java b/src/net/minecraft/scoreboard/Scoreboard.java
index 0ccc928..e292906 100644
--- a/src/net/minecraft/scoreboard/Scoreboard.java
+++ b/src/net/minecraft/scoreboard/Scoreboard.java
@@ -456,7 +456,7 @@ public class Scoreboard
         }
     }
 
-    public static String[] func_178821_h()
+    public synchronized static String[] func_178821_h()
     {
         if (field_178823_g == null)
         {
diff --git a/src/net/minecraft/server/MinecraftServer.java b/src/net/minecraft/server/MinecraftServer.java
index f1e3bf8..c095dad 100644
--- a/src/net/minecraft/server/MinecraftServer.java
+++ b/src/net/minecraft/server/MinecraftServer.java
@@ -10,10 +10,12 @@ import com.mojang.authlib.GameProfile;
 import com.mojang.authlib.GameProfileRepository;
 import com.mojang.authlib.minecraft.MinecraftSessionService;
 import com.mojang.authlib.yggdrasil.YggdrasilAuthenticationService;
+
 import io.netty.buffer.ByteBuf;
 import io.netty.buffer.ByteBufOutputStream;
 import io.netty.buffer.Unpooled;
 import io.netty.handler.codec.base64.Base64;
+
 import java.awt.GraphicsEnvironment;
 import java.awt.image.BufferedImage;
 import java.io.File;
@@ -33,7 +35,9 @@ import java.util.UUID;
 import java.util.concurrent.Callable;
 import java.util.concurrent.Executors;
 import java.util.concurrent.FutureTask;
+
 import javax.imageio.ImageIO;
+
 import net.minecraft.command.CommandBase;
 import net.minecraft.command.CommandResultStats;
 import net.minecraft.command.ICommandManager;
@@ -73,6 +77,7 @@ import net.minecraft.world.demo.DemoWorldServer;
 import net.minecraft.world.storage.ISaveFormat;
 import net.minecraft.world.storage.ISaveHandler;
 import net.minecraft.world.storage.WorldInfo;
+
 import org.apache.commons.lang3.Validate;
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
diff --git a/src/net/minecraft/server/integrated/IntegratedServer.java b/src/net/minecraft/server/integrated/IntegratedServer.java
index cf310a1..f79805f 100644
--- a/src/net/minecraft/server/integrated/IntegratedServer.java
+++ b/src/net/minecraft/server/integrated/IntegratedServer.java
@@ -2,6 +2,7 @@ package net.minecraft.server.integrated;
 
 import com.google.common.collect.Lists;
 import com.google.common.util.concurrent.Futures;
+
 import java.io.File;
 import java.io.IOException;
 import java.net.InetAddress;
@@ -10,6 +11,7 @@ import java.util.Iterator;
 import java.util.Queue;
 import java.util.concurrent.Callable;
 import java.util.concurrent.FutureTask;
+
 import net.minecraft.client.ClientBrandRetriever;
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.multiplayer.ThreadLanServerPing;
@@ -29,6 +31,7 @@ import net.minecraft.world.WorldType;
 import net.minecraft.world.demo.DemoWorldServer;
 import net.minecraft.world.storage.ISaveHandler;
 import net.minecraft.world.storage.WorldInfo;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
diff --git a/src/net/minecraft/server/management/BanEntry.java b/src/net/minecraft/server/management/BanEntry.java
index 737d827..f652ec2 100644
--- a/src/net/minecraft/server/management/BanEntry.java
+++ b/src/net/minecraft/server/management/BanEntry.java
@@ -7,7 +7,7 @@ import java.util.Date;
 
 public abstract class BanEntry extends UserListEntry
 {
-    public static final SimpleDateFormat dateFormat = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss Z");
+    private static final SimpleDateFormat dateFormat = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss Z");
     protected final Date banStartDate;
     protected final String bannedBy;
     protected final Date banEndDate;
@@ -30,7 +30,12 @@ public abstract class BanEntry extends UserListEntry
 
         try
         {
-            var3 = p_i1174_2_.has("created") ? dateFormat.parse(p_i1174_2_.get("created").getAsString()) : new Date();
+            synchronized(dateFormat)
+			{
+				var3 =
+					p_i1174_2_.has("created") ? dateFormat.parse(p_i1174_2_
+						.get("created").getAsString()) : new Date();
+			}
         }
         catch (ParseException var7)
         {
@@ -43,7 +48,12 @@ public abstract class BanEntry extends UserListEntry
 
         try
         {
-            var4 = p_i1174_2_.has("expires") ? dateFormat.parse(p_i1174_2_.get("expires").getAsString()) : null;
+            synchronized(dateFormat)
+			{
+				var4 =
+					p_i1174_2_.has("expires") ? dateFormat.parse(p_i1174_2_
+						.get("expires").getAsString()) : null;
+			}
         }
         catch (ParseException var6)
         {
@@ -71,9 +81,16 @@ public abstract class BanEntry extends UserListEntry
 
     protected void onSerialization(JsonObject data)
     {
+        synchronized(dateFormat)
+		{
 			data.addProperty("created", dateFormat.format(this.banStartDate));
+		}
 		data.addProperty("source", this.bannedBy);
-        data.addProperty("expires", this.banEndDate == null ? "forever" : dateFormat.format(this.banEndDate));
+        synchronized(dateFormat)
+		{
+			data.addProperty("expires", this.banEndDate == null ? "forever"
+				: dateFormat.format(this.banEndDate));
+		}
 		data.addProperty("reason", this.reason);
     }
 }
diff --git a/src/net/minecraft/server/management/ItemInWorldManager.java b/src/net/minecraft/server/management/ItemInWorldManager.java
index ccd475a..eb3b4c4 100644
--- a/src/net/minecraft/server/management/ItemInWorldManager.java
+++ b/src/net/minecraft/server/management/ItemInWorldManager.java
@@ -341,7 +341,7 @@ public class ItemInWorldManager
             int var5 = p_73085_3_.getMetadata();
             ItemStack var6 = p_73085_3_.useItemRightClick(worldIn, p_73085_1_);
 
-            if (var6 == p_73085_3_ && (var6 == null || var6.stackSize == var4 && var6.getMaxItemUseDuration() <= 0 && var6.getMetadata() == var5))
+            if (var6 == p_73085_3_ && (var6.stackSize == var4 && var6.getMaxItemUseDuration() <= 0 && var6.getMetadata() == var5))
             {
                 return false;
             }
diff --git a/src/net/minecraft/server/management/LowerStringMap.java b/src/net/minecraft/server/management/LowerStringMap.java
index 7a6a859..fb1628e 100644
--- a/src/net/minecraft/server/management/LowerStringMap.java
+++ b/src/net/minecraft/server/management/LowerStringMap.java
@@ -1,11 +1,11 @@
 package net.minecraft.server.management;
 
-import com.google.common.collect.Maps;
 import java.util.Collection;
 import java.util.Iterator;
 import java.util.Map;
 import java.util.Set;
-import java.util.Map.Entry;
+
+import com.google.common.collect.Maps;
 
 public class LowerStringMap implements Map
 {
diff --git a/src/net/minecraft/server/management/PlayerProfileCache.java b/src/net/minecraft/server/management/PlayerProfileCache.java
index 9154c32..1b805fd 100644
--- a/src/net/minecraft/server/management/PlayerProfileCache.java
+++ b/src/net/minecraft/server/management/PlayerProfileCache.java
@@ -40,7 +40,7 @@ import org.apache.commons.io.IOUtils;
 
 public class PlayerProfileCache
 {
-    public static final SimpleDateFormat dateFormat = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss Z");
+    private static final SimpleDateFormat dateFormat = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss Z");
     private final Map field_152661_c = Maps.newHashMap();
     private final Map field_152662_d = Maps.newHashMap();
     private final LinkedList field_152663_e = Lists.newLinkedList();
@@ -257,11 +257,11 @@ public class PlayerProfileCache
         }
         catch (FileNotFoundException var8)
         {
-            return;
+            ;
         }
         catch (IOException var9)
         {
-            ;
+            return;
         }
         finally
         {
diff --git a/src/net/minecraft/server/management/ServerConfigurationManager.java b/src/net/minecraft/server/management/ServerConfigurationManager.java
index a9aff21..201efae 100644
--- a/src/net/minecraft/server/management/ServerConfigurationManager.java
+++ b/src/net/minecraft/server/management/ServerConfigurationManager.java
@@ -4,7 +4,9 @@ import com.google.common.collect.Lists;
 import com.google.common.collect.Maps;
 import com.google.common.collect.Sets;
 import com.mojang.authlib.GameProfile;
+
 import io.netty.buffer.Unpooled;
+
 import java.io.File;
 import java.net.SocketAddress;
 import java.text.SimpleDateFormat;
@@ -15,6 +17,7 @@ import java.util.Iterator;
 import java.util.List;
 import java.util.Map;
 import java.util.UUID;
+
 import net.minecraft.entity.Entity;
 import net.minecraft.entity.EntityList;
 import net.minecraft.entity.player.EntityPlayer;
@@ -60,6 +63,7 @@ import net.minecraft.world.border.WorldBorder;
 import net.minecraft.world.demo.DemoWorldManager;
 import net.minecraft.world.storage.IPlayerFileData;
 import net.minecraft.world.storage.WorldInfo;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
@@ -385,7 +389,12 @@ public abstract class ServerConfigurationManager
 
             if (var5.getBanEndDate() != null)
             {
-                var4 = var4 + "\nYour ban will be removed on " + dateFormat.format(var5.getBanEndDate());
+                synchronized(dateFormat)
+				{
+					var4 =
+						var4 + "\nYour ban will be removed on "
+							+ dateFormat.format(var5.getBanEndDate());
+				}
             }
 
             return var4;
@@ -401,7 +410,12 @@ public abstract class ServerConfigurationManager
 
             if (var3.getBanEndDate() != null)
             {
-                var4 = var4 + "\nYour ban will be removed on " + dateFormat.format(var3.getBanEndDate());
+                synchronized(dateFormat)
+				{
+					var4 =
+						var4 + "\nYour ban will be removed on "
+							+ dateFormat.format(var3.getBanEndDate());
+				}
             }
 
             return var4;
diff --git a/src/net/minecraft/server/network/NetHandlerLoginServer.java b/src/net/minecraft/server/network/NetHandlerLoginServer.java
index 5169593..a0998eb 100644
--- a/src/net/minecraft/server/network/NetHandlerLoginServer.java
+++ b/src/net/minecraft/server/network/NetHandlerLoginServer.java
@@ -1,19 +1,18 @@
 package net.minecraft.server.network;
 
-import com.google.common.base.Charsets;
-import com.mojang.authlib.GameProfile;
-import com.mojang.authlib.exceptions.AuthenticationUnavailableException;
 import io.netty.channel.ChannelFuture;
 import io.netty.channel.ChannelFutureListener;
-import io.netty.util.concurrent.Future;
 import io.netty.util.concurrent.GenericFutureListener;
+
 import java.math.BigInteger;
 import java.security.PrivateKey;
 import java.util.Arrays;
 import java.util.Random;
 import java.util.UUID;
 import java.util.concurrent.atomic.AtomicInteger;
+
 import javax.crypto.SecretKey;
+
 import net.minecraft.network.NetworkManager;
 import net.minecraft.network.login.INetHandlerLoginServer;
 import net.minecraft.network.login.client.C00PacketLoginStart;
@@ -27,10 +26,15 @@ import net.minecraft.server.gui.IUpdatePlayerListBox;
 import net.minecraft.util.ChatComponentText;
 import net.minecraft.util.CryptManager;
 import net.minecraft.util.IChatComponent;
+
 import org.apache.commons.lang3.Validate;
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
+import com.google.common.base.Charsets;
+import com.mojang.authlib.GameProfile;
+import com.mojang.authlib.exceptions.AuthenticationUnavailableException;
+
 public class NetHandlerLoginServer implements INetHandlerLoginServer, IUpdatePlayerListBox
 {
     private static final AtomicInteger AUTHENTICATOR_THREAD_ID = new AtomicInteger(0);
diff --git a/src/net/minecraft/tileentity/TileEntityChest.java b/src/net/minecraft/tileentity/TileEntityChest.java
index 7b1a14c..083b66e 100644
--- a/src/net/minecraft/tileentity/TileEntityChest.java
+++ b/src/net/minecraft/tileentity/TileEntityChest.java
@@ -184,7 +184,7 @@ public class TileEntityChest extends TileEntityLockable implements IUpdatePlayer
             NBTTagCompound var4 = var2.getCompoundTagAt(var3);
             int var5 = var4.getByte("Slot") & 255;
 
-            if (var5 >= 0 && var5 < this.chestContents.length)
+            if (var5 < this.chestContents.length)
             {
                 this.chestContents[var5] = ItemStack.loadItemStackFromNBT(var4);
             }
@@ -445,7 +445,7 @@ public class TileEntityChest extends TileEntityLockable implements IUpdatePlayer
 
     public void openInventory(EntityPlayer playerIn)
     {
-        if (!playerIn.func_175149_v())
+        if (!playerIn.isSpectator())
         {
             if (this.numPlayersUsing < 0)
             {
@@ -461,7 +461,7 @@ public class TileEntityChest extends TileEntityLockable implements IUpdatePlayer
 
     public void closeInventory(EntityPlayer playerIn)
     {
-        if (!playerIn.func_175149_v() && this.getBlockType() instanceof BlockChest)
+        if (!playerIn.isSpectator() && this.getBlockType() instanceof BlockChest)
         {
             --this.numPlayersUsing;
             this.worldObj.addBlockEvent(this.pos, this.getBlockType(), 1, this.numPlayersUsing);
diff --git a/src/net/minecraft/tileentity/TileEntityDispenser.java b/src/net/minecraft/tileentity/TileEntityDispenser.java
index e2cf3fc..fffbd29 100644
--- a/src/net/minecraft/tileentity/TileEntityDispenser.java
+++ b/src/net/minecraft/tileentity/TileEntityDispenser.java
@@ -164,7 +164,7 @@ public class TileEntityDispenser extends TileEntityLockable implements IInventor
             NBTTagCompound var4 = var2.getCompoundTagAt(var3);
             int var5 = var4.getByte("Slot") & 255;
 
-            if (var5 >= 0 && var5 < this.field_146022_i.length)
+            if (var5 < this.field_146022_i.length)
             {
                 this.field_146022_i[var5] = ItemStack.loadItemStackFromNBT(var4);
             }
diff --git a/src/net/minecraft/tileentity/TileEntitySign.java b/src/net/minecraft/tileentity/TileEntitySign.java
index cf74f0e..8098aae 100644
--- a/src/net/minecraft/tileentity/TileEntitySign.java
+++ b/src/net/minecraft/tileentity/TileEntitySign.java
@@ -21,7 +21,8 @@ import net.minecraft.world.World;
 
 public class TileEntitySign extends TileEntity
 {
-    public final IChatComponent[] signText = new IChatComponent[] {new ChatComponentText(""), new ChatComponentText(""), new ChatComponentText(""), new ChatComponentText("")};
+	//TODO: Client
+    public IChatComponent[] signText = new IChatComponent[] {new ChatComponentText(""), new ChatComponentText(""), new ChatComponentText(""), new ChatComponentText("")};
 
     /**
      * The index of the line currently being edited. Only used on client side, but defined on both. Note this is only
diff --git a/src/net/minecraft/util/BlockPos.java b/src/net/minecraft/util/BlockPos.java
index b856a09..bb5d645 100644
--- a/src/net/minecraft/util/BlockPos.java
+++ b/src/net/minecraft/util/BlockPos.java
@@ -43,6 +43,14 @@ public class BlockPos extends Vec3i
         this(p_i46034_1_.getX(), p_i46034_1_.getY(), p_i46034_1_.getZ());
     }
 
+    // TODO: Client
+    public void setPos(int x, int y, int z)
+	{
+	    this.x = x;
+	    this.y = y;
+	    this.z = z;
+	}
+
 	/**
      * Add the given coordinates to the coordinates of this BlockPos
      *  
diff --git a/src/net/minecraft/util/ChatComponentStyle.java b/src/net/minecraft/util/ChatComponentStyle.java
index 0fd2665..736a7f1 100644
--- a/src/net/minecraft/util/ChatComponentStyle.java
+++ b/src/net/minecraft/util/ChatComponentStyle.java
@@ -3,6 +3,8 @@ package net.minecraft.util;
 import com.google.common.base.Function;
 import com.google.common.collect.Iterators;
 import com.google.common.collect.Lists;
+
+import java.util.ConcurrentModificationException;
 import java.util.Iterator;
 import java.util.List;
 
@@ -104,6 +106,8 @@ public abstract class ChatComponentStyle implements IChatComponent
         StringBuilder var1 = new StringBuilder();
         Iterator var2 = this.iterator();
 
+        try
+		{
 			while (var2.hasNext())
 			{
 			    IChatComponent var3 = (IChatComponent)var2.next();
@@ -111,6 +115,10 @@ public abstract class ChatComponentStyle implements IChatComponent
 			    var1.append(var3.getUnformattedTextForChat());
 			    var1.append(EnumChatFormatting.RESET);
 			}
+		}catch(ConcurrentModificationException e)
+		{
+			e.printStackTrace();
+		}
 
         return var1.toString();
     }
diff --git a/src/net/minecraft/util/CryptManager.java b/src/net/minecraft/util/CryptManager.java
index 0a87cd0..682ea08 100644
--- a/src/net/minecraft/util/CryptManager.java
+++ b/src/net/minecraft/util/CryptManager.java
@@ -68,11 +68,11 @@ public class CryptManager
     /**
      * Compute a serverId hash for use by sendSessionRequest()
      */
-    public static byte[] getServerIdHash(String p_75895_0_, PublicKey p_75895_1_, SecretKey p_75895_2_)
+    public static byte[] getServerIdHash(String input, PublicKey publicKey, SecretKey secretKey)
     {
         try
         {
-            return digestOperation("SHA-1", new byte[][] {p_75895_0_.getBytes("ISO_8859_1"), p_75895_2_.getEncoded(), p_75895_1_.getEncoded()});
+            return digestOperation("SHA-1", new byte[][] {input.getBytes("ISO_8859_1"), secretKey.getEncoded(), publicKey.getEncoded()});
         }
         catch (UnsupportedEncodingException var4)
         {
@@ -84,11 +84,11 @@ public class CryptManager
     /**
      * Compute a message digest on arbitrary byte[] data
      */
-    private static byte[] digestOperation(String p_75893_0_, byte[] ... p_75893_1_)
+    private static byte[] digestOperation(String algorithm, byte[] ... p_75893_1_)
     {
         try
         {
-            MessageDigest var2 = MessageDigest.getInstance(p_75893_0_);
+            MessageDigest var2 = MessageDigest.getInstance(algorithm);
             byte[][] var3 = p_75893_1_;
             int var4 = p_75893_1_.length;
 
@@ -134,9 +134,9 @@ public class CryptManager
     /**
      * Decrypt shared secret AES key using RSA private key
      */
-    public static SecretKey decryptSharedKey(PrivateKey p_75887_0_, byte[] p_75887_1_)
+    public static SecretKey decryptSharedKey(PrivateKey privateKey, byte[] input)
     {
-        return new SecretKeySpec(decryptData(p_75887_0_, p_75887_1_), "AES");
+        return new SecretKeySpec(decryptData(privateKey, input), "AES");
     }
 
     /**
@@ -150,19 +150,19 @@ public class CryptManager
     /**
      * Decrypt byte[] data with RSA private key
      */
-    public static byte[] decryptData(Key p_75889_0_, byte[] p_75889_1_)
+    public static byte[] decryptData(Key privateKey, byte[] input)
     {
-        return cipherOperation(2, p_75889_0_, p_75889_1_);
+        return cipherOperation(2, privateKey, input);
     }
 
     /**
      * Encrypt or decrypt byte[] data using the specified key
      */
-    private static byte[] cipherOperation(int p_75885_0_, Key p_75885_1_, byte[] p_75885_2_)
+    private static byte[] cipherOperation(int opmode, Key key, byte[] input)
     {
         try
         {
-            return createTheCipherInstance(p_75885_0_, p_75885_1_.getAlgorithm(), p_75885_1_).doFinal(p_75885_2_);
+            return createTheCipherInstance(opmode, key.getAlgorithm(), key).doFinal(input);
         }
         catch (IllegalBlockSizeException var4)
         {
@@ -180,12 +180,12 @@ public class CryptManager
     /**
      * Creates the Cipher Instance.
      */
-    private static Cipher createTheCipherInstance(int p_75886_0_, String p_75886_1_, Key p_75886_2_)
+    private static Cipher createTheCipherInstance(int opmode, String transformation, Key key)
     {
         try
         {
-            Cipher var3 = Cipher.getInstance(p_75886_1_);
-            var3.init(p_75886_0_, p_75886_2_);
+            Cipher var3 = Cipher.getInstance(transformation);
+            var3.init(opmode, key);
             return var3;
         }
         catch (InvalidKeyException var4)
@@ -205,12 +205,12 @@ public class CryptManager
         return null;
     }
 
-    public static Cipher func_151229_a(int p_151229_0_, Key p_151229_1_)
+    public static Cipher getAESCipher(int opmode, Key sharedKey)
     {
         try
         {
             Cipher var2 = Cipher.getInstance("AES/CFB8/NoPadding");
-            var2.init(p_151229_0_, p_151229_1_, new IvParameterSpec(p_151229_1_.getEncoded()));
+            var2.init(opmode, sharedKey, new IvParameterSpec(sharedKey.getEncoded()));
             return var2;
         }
         catch (GeneralSecurityException var3)
diff --git a/src/net/minecraft/util/JsonSerializableSet.java b/src/net/minecraft/util/JsonSerializableSet.java
index a85bf86..ff92966 100644
--- a/src/net/minecraft/util/JsonSerializableSet.java
+++ b/src/net/minecraft/util/JsonSerializableSet.java
@@ -1,13 +1,13 @@
 package net.minecraft.util;
 
+import java.util.Iterator;
+import java.util.Set;
+
 import com.google.common.collect.ForwardingSet;
 import com.google.common.collect.Sets;
 import com.google.gson.JsonArray;
 import com.google.gson.JsonElement;
 import com.google.gson.JsonPrimitive;
-import java.util.Collection;
-import java.util.Iterator;
-import java.util.Set;
 
 public class JsonSerializableSet extends ForwardingSet implements IJsonSerializable
 {
diff --git a/src/net/minecraft/util/MessageDeserializer.java b/src/net/minecraft/util/MessageDeserializer.java
index f18aa09..3572e3a 100644
--- a/src/net/minecraft/util/MessageDeserializer.java
+++ b/src/net/minecraft/util/MessageDeserializer.java
@@ -3,13 +3,16 @@ package net.minecraft.util;
 import io.netty.buffer.ByteBuf;
 import io.netty.channel.ChannelHandlerContext;
 import io.netty.handler.codec.ByteToMessageDecoder;
+
 import java.io.IOException;
 import java.util.List;
+
 import net.minecraft.network.EnumConnectionState;
 import net.minecraft.network.EnumPacketDirection;
 import net.minecraft.network.NetworkManager;
 import net.minecraft.network.Packet;
 import net.minecraft.network.PacketBuffer;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 import org.apache.logging.log4j.Marker;
diff --git a/src/net/minecraft/util/MessageDeserializer2.java b/src/net/minecraft/util/MessageDeserializer2.java
index 8846c7a..50661c6 100644
--- a/src/net/minecraft/util/MessageDeserializer2.java
+++ b/src/net/minecraft/util/MessageDeserializer2.java
@@ -35,13 +35,13 @@ public class MessageDeserializer2 extends ByteToMessageDecoder
                 {
                     int var7 = var6.readVarIntFromBuffer();
 
-                    if (p_decode_2_.readableBytes() < var7)
+                    if (p_decode_2_.readableBytes() >= var7)
                     {
-                        p_decode_2_.resetReaderIndex();
+                        p_decode_3_.add(p_decode_2_.readBytes(var7));
                         return;
                     }
 
-                    p_decode_3_.add(p_decode_2_.readBytes(var7));
+                    p_decode_2_.resetReaderIndex();
                 }
                 finally
                 {
diff --git a/src/net/minecraft/util/MessageSerializer.java b/src/net/minecraft/util/MessageSerializer.java
index a8d891b..119b922 100644
--- a/src/net/minecraft/util/MessageSerializer.java
+++ b/src/net/minecraft/util/MessageSerializer.java
@@ -3,13 +3,16 @@ package net.minecraft.util;
 import io.netty.buffer.ByteBuf;
 import io.netty.channel.ChannelHandlerContext;
 import io.netty.handler.codec.MessageToByteEncoder;
+
 import java.io.IOException;
+
 import net.minecraft.network.EnumConnectionState;
 import net.minecraft.network.EnumPacketDirection;
 import net.minecraft.network.NetworkManager;
 import net.minecraft.network.Packet;
 import net.minecraft.network.PacketBuffer;
 import net.minecraft.network.play.server.S0CPacketSpawnPlayer;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 import org.apache.logging.log4j.Marker;
@@ -49,7 +52,8 @@ public class MessageSerializer extends MessageToByteEncoder
             {
                 if (p_encode_2_ instanceof S0CPacketSpawnPlayer)
                 {
-                    p_encode_2_ = p_encode_2_;
+                	//TODO: Client
+                    //p_encode_2_ = p_encode_2_;
                 }
 
                 p_encode_2_.writePacketData(var5);
diff --git a/src/net/minecraft/util/MovingObjectPosition.java b/src/net/minecraft/util/MovingObjectPosition.java
index a682077..e0bf505 100644
--- a/src/net/minecraft/util/MovingObjectPosition.java
+++ b/src/net/minecraft/util/MovingObjectPosition.java
@@ -4,11 +4,11 @@ import net.minecraft.entity.Entity;
 
 public class MovingObjectPosition
 {
-    private BlockPos field_178783_e;
+    private BlockPos blockPos;
 
     /** What type of ray trace hit was this? 0 = block, 1 = entity */
     public MovingObjectPosition.MovingObjectType typeOfHit;
-    public EnumFacing field_178784_b;
+    public EnumFacing sideHit;
 
     /** The vector position of the hit */
     public Vec3 hitVec;
@@ -35,8 +35,8 @@ public class MovingObjectPosition
     public MovingObjectPosition(MovingObjectPosition.MovingObjectType p_i45553_1_, Vec3 p_i45553_2_, EnumFacing p_i45553_3_, BlockPos p_i45553_4_)
     {
         this.typeOfHit = p_i45553_1_;
-        this.field_178783_e = p_i45553_4_;
-        this.field_178784_b = p_i45553_3_;
+        this.blockPos = p_i45553_4_;
+        this.sideHit = p_i45553_3_;
         this.hitVec = new Vec3(p_i45553_2_.xCoord, p_i45553_2_.yCoord, p_i45553_2_.zCoord);
     }
 
@@ -47,14 +47,20 @@ public class MovingObjectPosition
         this.hitVec = p_i45482_2_;
     }
 
-    public BlockPos func_178782_a()
+    public BlockPos getBlockPos()
     {
-        return this.field_178783_e;
+        return this.blockPos;
+    }
+    
+    //TODO: Client
+    public void setBlockPos(BlockPos blockPos)
+    {
+    	this.blockPos = blockPos;
     }
 
     public String toString()
     {
-        return "HitResult{type=" + this.typeOfHit + ", blockpos=" + this.field_178783_e + ", f=" + this.field_178784_b + ", pos=" + this.hitVec + ", entity=" + this.entityHit + '}';
+        return "HitResult{type=" + this.typeOfHit + ", blockpos=" + this.blockPos + ", f=" + this.sideHit + ", pos=" + this.hitVec + ", entity=" + this.entityHit + '}';
     }
 
     public static enum MovingObjectType
diff --git a/src/net/minecraft/util/ScreenShotHelper.java b/src/net/minecraft/util/ScreenShotHelper.java
index 1ef5de2..beba6b8 100644
--- a/src/net/minecraft/util/ScreenShotHelper.java
+++ b/src/net/minecraft/util/ScreenShotHelper.java
@@ -135,7 +135,11 @@ public class ScreenShotHelper
      */
     private static File getTimestampedPNGFileForDirectory(File p_74290_0_)
     {
-        String var2 = dateFormat.format(new Date()).toString();
+        String var2;
+		synchronized(dateFormat)
+		{
+			var2 = dateFormat.format(new Date()).toString();
+		}
         int var3 = 1;
 
         while (true)
diff --git a/src/net/minecraft/util/Timer.java b/src/net/minecraft/util/Timer.java
index 7d59775..c956127 100644
--- a/src/net/minecraft/util/Timer.java
+++ b/src/net/minecraft/util/Timer.java
@@ -1,6 +1,8 @@
 package net.minecraft.util;
 
 import net.minecraft.client.Minecraft;
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.mods.TimerMod;
 
 public class Timer
 {
@@ -63,6 +65,10 @@ public class Timer
      */
     public void updateTimer()
     {
+		// TODO: Client
+		TimerMod timerMod = WurstClient.INSTANCE.mods.timerMod;
+		timerSpeed = timerMod.isActive() ? timerMod.speed : 1F;
+    	
         long var1 = Minecraft.getSystemTime();
         long var3 = var1 - this.lastSyncSysClock;
         long var5 = System.nanoTime() / 1000000L;
diff --git a/src/net/minecraft/util/Vec3i.java b/src/net/minecraft/util/Vec3i.java
index 024a877..6138e61 100644
--- a/src/net/minecraft/util/Vec3i.java
+++ b/src/net/minecraft/util/Vec3i.java
@@ -8,13 +8,13 @@ public class Vec3i implements Comparable
     public static final Vec3i NULL_VECTOR = new Vec3i(0, 0, 0);
 
     /** X coordinate */
-    private final int x;
+    protected int x;
 
     /** Y coordinate */
-    private final int y;
+    protected int y;
 
     /** Z coordinate */
-    private final int z;
+    protected int z;
     private static final String __OBFID = "CL_00002315";
 
     public Vec3i(int p_i46007_1_, int p_i46007_2_, int p_i46007_3_)
diff --git a/src/net/minecraft/village/VillageSiege.java b/src/net/minecraft/village/VillageSiege.java
index 45f7cde..fba9f60 100644
--- a/src/net/minecraft/village/VillageSiege.java
+++ b/src/net/minecraft/village/VillageSiege.java
@@ -104,7 +104,7 @@ public class VillageSiege
         {
             EntityPlayer var3 = (EntityPlayer)var2.next();
 
-            if (!var3.func_175149_v())
+            if (!var3.isSpectator())
             {
                 this.theVillage = this.worldObj.getVillageCollection().func_176056_a(new BlockPos(var3), 1);
 
diff --git a/src/net/minecraft/world/SpawnerAnimals.java b/src/net/minecraft/world/SpawnerAnimals.java
index 9cd6216..ae6e4fd 100644
--- a/src/net/minecraft/world/SpawnerAnimals.java
+++ b/src/net/minecraft/world/SpawnerAnimals.java
@@ -1,10 +1,12 @@
 package net.minecraft.world;
 
 import com.google.common.collect.Sets;
+
 import java.util.Iterator;
 import java.util.List;
 import java.util.Random;
 import java.util.Set;
+
 import net.minecraft.block.Block;
 import net.minecraft.entity.EntityLiving;
 import net.minecraft.entity.EntitySpawnPlacementRegistry;
@@ -48,7 +50,7 @@ public final class SpawnerAnimals
             {
                 EntityPlayer var7 = (EntityPlayer)var6.next();
 
-                if (!var7.func_175149_v())
+                if (!var7.isSpectator())
                 {
                     int var8 = MathHelper.floor_double(var7.posX / 16.0D);
                     var9 = MathHelper.floor_double(var7.posZ / 16.0D);
@@ -226,6 +228,9 @@ public final class SpawnerAnimals
             {
                 BlockPos var4 = p_180267_2_.offsetDown();
 
+                //TODO: Client
+                try
+				{
 					if (!World.doesBlockHaveSolidTopSurface(worldIn, var4))
 					{
 					    return false;
@@ -236,6 +241,10 @@ public final class SpawnerAnimals
 					    boolean var6 = var5 != Blocks.bedrock && var5 != Blocks.barrier;
 					    return var6 && !var3.isNormalCube() && !var3.getMaterial().isLiquid() && !worldIn.getBlockState(p_180267_2_.offsetUp()).getBlock().isNormalCube();
 					}
+				}catch(IllegalArgumentException e)
+				{
+					return false;
+				}
             }
         }
     }
diff --git a/src/net/minecraft/world/World.java b/src/net/minecraft/world/World.java
index fa8c3f0..829b79d 100644
--- a/src/net/minecraft/world/World.java
+++ b/src/net/minecraft/world/World.java
@@ -3,6 +3,7 @@ package net.minecraft.world;
 import com.google.common.base.Predicate;
 import com.google.common.collect.Lists;
 import com.google.common.collect.Sets;
+
 import java.util.ArrayList;
 import java.util.Calendar;
 import java.util.Collection;
@@ -12,6 +13,7 @@ import java.util.Random;
 import java.util.Set;
 import java.util.UUID;
 import java.util.concurrent.Callable;
+
 import net.minecraft.block.Block;
 import net.minecraft.block.BlockHopper;
 import net.minecraft.block.BlockLiquid;
@@ -82,12 +84,15 @@ public abstract class World implements IBlockAccess
     /** How much light is subtracted from full daylight */
     private int skylightSubtracted;
     
+    /** RNG for World. */
+    public final Random rand = new Random();
+
     /**
      * Contains the current Linear Congruential Generator seed for block updates. Used with an A value of 3 and a C
      * value of 0x3c6ef35f, producing a highly planar series of values ill-suited for choosing random blocks in a
      * 16x128x16 field.
      */
-    protected int updateLCG = (new Random()).nextInt();
+    protected int updateLCG = rand.nextInt();
 
     /**
      * magic number used to generate fast random numbers for 3d distribution within a chunk
@@ -104,9 +109,6 @@ public abstract class World implements IBlockAccess
      */
     private int lastLightningBolt;
 
-    /** RNG for World. */
-    public final Random rand = new Random();
-
     /** The WorldProvider instance that World uses. */
     public final WorldProvider provider;
     protected List worldAccesses = Lists.newArrayList();
@@ -1314,8 +1316,6 @@ public abstract class World implements IBlockAccess
 
         for (int var19 = 0; var19 < var18.size(); ++var19)
         {
-            if (p_72945_1_.riddenByEntity != var18 && p_72945_1_.ridingEntity != var18)
-            {
             AxisAlignedBB var20 = ((Entity)var18.get(var19)).getBoundingBox();
 
             if (var20 != null && var20.intersectsWith(p_72945_2_))
@@ -1330,7 +1330,6 @@ public abstract class World implements IBlockAccess
                 var3.add(var20);
             }
         }
-        }
 
         return var3;
     }
@@ -3727,6 +3726,10 @@ public abstract class World implements IBlockAccess
         {
             this.worldInfo.addToCrashReport(var2);
         }
+        catch (NullPointerException var4)
+        {
+            var2.addCrashSectionThrowable("Level Data Unobtainable", var4);
+        }
         catch (Throwable var4)
         {
             var2.addCrashSectionThrowable("Level Data Unobtainable", var4);
diff --git a/src/net/minecraft/world/WorldServer.java b/src/net/minecraft/world/WorldServer.java
index 6dbf889..9db763b 100644
--- a/src/net/minecraft/world/WorldServer.java
+++ b/src/net/minecraft/world/WorldServer.java
@@ -5,6 +5,7 @@ import com.google.common.collect.Lists;
 import com.google.common.collect.Maps;
 import com.google.common.collect.Sets;
 import com.google.common.util.concurrent.ListenableFuture;
+
 import java.util.ArrayList;
 import java.util.Iterator;
 import java.util.List;
@@ -13,6 +14,7 @@ import java.util.Random;
 import java.util.Set;
 import java.util.TreeSet;
 import java.util.UUID;
+
 import net.minecraft.block.Block;
 import net.minecraft.block.BlockEventData;
 import net.minecraft.block.material.Material;
@@ -67,6 +69,7 @@ import net.minecraft.world.gen.structure.StructureBoundingBox;
 import net.minecraft.world.storage.ISaveHandler;
 import net.minecraft.world.storage.MapStorage;
 import net.minecraft.world.storage.WorldInfo;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
@@ -254,7 +257,7 @@ public class WorldServer extends World implements IThreadListener
             {
                 EntityPlayer var4 = (EntityPlayer)var3.next();
 
-                if (var4.func_175149_v())
+                if (var4.isSpectator())
                 {
                     ++var1;
                 }
@@ -310,7 +313,7 @@ public class WorldServer extends World implements IThreadListener
 
                 var2 = (EntityPlayer)var1.next();
             }
-            while (!var2.func_175149_v() && var2.isPlayerFullyAsleep());
+            while (!var2.isSpectator() && var2.isPlayerFullyAsleep());
 
             return false;
         }
diff --git a/src/net/minecraft/world/biome/WorldChunkManager.java b/src/net/minecraft/world/biome/WorldChunkManager.java
index 1b5f683..0e962a9 100644
--- a/src/net/minecraft/world/biome/WorldChunkManager.java
+++ b/src/net/minecraft/world/biome/WorldChunkManager.java
@@ -1,8 +1,10 @@
 package net.minecraft.world.biome;
 
 import com.google.common.collect.Lists;
+
 import java.util.List;
 import java.util.Random;
+
 import net.minecraft.crash.CrashReport;
 import net.minecraft.crash.CrashReportCategory;
 import net.minecraft.util.BlockPos;
diff --git a/src/net/minecraft/world/chunk/Chunk.java b/src/net/minecraft/world/chunk/Chunk.java
index fb26ace..68c73f0 100644
--- a/src/net/minecraft/world/chunk/Chunk.java
+++ b/src/net/minecraft/world/chunk/Chunk.java
@@ -3,6 +3,7 @@ package net.minecraft.world.chunk;
 import com.google.common.base.Predicate;
 import com.google.common.collect.Maps;
 import com.google.common.collect.Queues;
+
 import java.util.Arrays;
 import java.util.Iterator;
 import java.util.List;
@@ -10,6 +11,7 @@ import java.util.Map;
 import java.util.Random;
 import java.util.concurrent.Callable;
 import java.util.concurrent.ConcurrentLinkedQueue;
+
 import net.minecraft.block.Block;
 import net.minecraft.block.ITileEntityProvider;
 import net.minecraft.block.material.Material;
@@ -33,6 +35,7 @@ import net.minecraft.world.biome.BiomeGenBase;
 import net.minecraft.world.biome.WorldChunkManager;
 import net.minecraft.world.chunk.storage.ExtendedBlockStorage;
 import net.minecraft.world.gen.ChunkProviderDebug;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
diff --git a/src/net/minecraft/world/chunk/storage/AnvilChunkLoader.java b/src/net/minecraft/world/chunk/storage/AnvilChunkLoader.java
index 79ce940..23d9110 100644
--- a/src/net/minecraft/world/chunk/storage/AnvilChunkLoader.java
+++ b/src/net/minecraft/world/chunk/storage/AnvilChunkLoader.java
@@ -176,8 +176,6 @@ public class AnvilChunkLoader implements IChunkLoader, IThreadedFileIO
             this.pendingAnvilChunksCoordinates.remove(var1.chunkCoordinate);
         }
 
-        if (var1 != null)
-        {
         try
         {
             this.writeChunkNBTTags(var1);
@@ -186,7 +184,6 @@ public class AnvilChunkLoader implements IChunkLoader, IThreadedFileIO
         {
             var4.printStackTrace();
         }
-        }
 
         return true;
     }
diff --git a/src/net/minecraft/world/chunk/storage/RegionFile.java b/src/net/minecraft/world/chunk/storage/RegionFile.java
index 65c7029..8e578de 100644
--- a/src/net/minecraft/world/chunk/storage/RegionFile.java
+++ b/src/net/minecraft/world/chunk/storage/RegionFile.java
@@ -1,6 +1,7 @@
 package net.minecraft.world.chunk.storage;
 
 import com.google.common.collect.Lists;
+
 import java.io.BufferedInputStream;
 import java.io.ByteArrayInputStream;
 import java.io.ByteArrayOutputStream;
@@ -13,6 +14,7 @@ import java.util.List;
 import java.util.zip.DeflaterOutputStream;
 import java.util.zip.GZIPInputStream;
 import java.util.zip.InflaterInputStream;
+
 import net.minecraft.server.MinecraftServer;
 
 public class RegionFile
@@ -183,6 +185,8 @@ public class RegionFile
     /**
      * args: x, z - get an output stream used to write chunk data, data is on disk when the returned stream is closed
      */
+    //TODO: Client
+    @SuppressWarnings("resource")
 	public DataOutputStream getChunkDataOutputStream(int p_76710_1_, int p_76710_2_)
     {
         return this.outOfBounds(p_76710_1_, p_76710_2_) ? null : new DataOutputStream(new DeflaterOutputStream(new RegionFile.ChunkBuffer(p_76710_1_, p_76710_2_)));
diff --git a/src/net/minecraft/world/gen/ChunkProviderEnd.java b/src/net/minecraft/world/gen/ChunkProviderEnd.java
index 237f88e..73b8ee9 100644
--- a/src/net/minecraft/world/gen/ChunkProviderEnd.java
+++ b/src/net/minecraft/world/gen/ChunkProviderEnd.java
@@ -146,15 +146,8 @@ public class ChunkProviderEnd implements IChunkProvider
 
                             var5 = var4;
 
-                            if (var8 >= 0)
-                            {
                             p_180519_1_.setBlockState(var2, var8, var3, var6);
                         }
-                            else
-                            {
-                                p_180519_1_.setBlockState(var2, var8, var3, var7);
-                            }
-                        }
                         else if (var5 > 0)
                         {
                             --var5;
diff --git a/src/net/minecraft/world/gen/ChunkProviderServer.java b/src/net/minecraft/world/gen/ChunkProviderServer.java
index dd93e4c..be3ace3 100644
--- a/src/net/minecraft/world/gen/ChunkProviderServer.java
+++ b/src/net/minecraft/world/gen/ChunkProviderServer.java
@@ -1,12 +1,14 @@
 package net.minecraft.world.gen;
 
 import com.google.common.collect.Lists;
+
 import java.io.IOException;
 import java.util.Collections;
 import java.util.Iterator;
 import java.util.List;
 import java.util.Set;
 import java.util.concurrent.ConcurrentHashMap;
+
 import net.minecraft.crash.CrashReport;
 import net.minecraft.crash.CrashReportCategory;
 import net.minecraft.entity.EnumCreatureType;
@@ -22,6 +24,7 @@ import net.minecraft.world.chunk.Chunk;
 import net.minecraft.world.chunk.EmptyChunk;
 import net.minecraft.world.chunk.IChunkProvider;
 import net.minecraft.world.chunk.storage.IChunkLoader;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
diff --git a/src/net/minecraft/world/gen/layer/GenLayer.java b/src/net/minecraft/world/gen/layer/GenLayer.java
index 39aac4e..186c3bd 100644
--- a/src/net/minecraft/world/gen/layer/GenLayer.java
+++ b/src/net/minecraft/world/gen/layer/GenLayer.java
@@ -1,6 +1,7 @@
 package net.minecraft.world.gen.layer;
 
 import java.util.concurrent.Callable;
+
 import net.minecraft.crash.CrashReport;
 import net.minecraft.crash.CrashReportCategory;
 import net.minecraft.util.ReportedException;
diff --git a/src/net/minecraft/world/gen/structure/MapGenStructure.java b/src/net/minecraft/world/gen/structure/MapGenStructure.java
index 89e46e6..9f3a45e 100644
--- a/src/net/minecraft/world/gen/structure/MapGenStructure.java
+++ b/src/net/minecraft/world/gen/structure/MapGenStructure.java
@@ -1,11 +1,13 @@
 package net.minecraft.world.gen.structure;
 
 import com.google.common.collect.Maps;
+
 import java.util.Iterator;
 import java.util.List;
 import java.util.Map;
 import java.util.Random;
 import java.util.concurrent.Callable;
+
 import net.minecraft.crash.CrashReport;
 import net.minecraft.crash.CrashReportCategory;
 import net.minecraft.nbt.NBTBase;
-- 
2.0.0

